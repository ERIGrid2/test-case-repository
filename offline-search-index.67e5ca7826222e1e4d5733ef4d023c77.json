[{"body":"Identification ID\r11\nAuthor\rTue Jensen, Kai Heussen (Edmund Widl)\nVersion\r0.2\nProject\rSmILES, ERIGrid 2.0\nDate\r2020-12-16\nTest Case Definition Name of the Test Case\rCharacterization of power-to-heat service availability and its impact on the networks\nNarrative\rA network-integrated booster heat pump is used to also provide services to the electrical system. In the local electrical distribution network congestion may appear, and other flexibility options are available. This test seeks to characterize the impact of the use of local flexibility on available regulating power from a local district. The test targets an examination of the ability of the system to provide these services when under conflict. Function(s) under Investigation (FuI)\rThe heating system provides services to the electrical system (a) congestion management - electrical import and export limitation; and (b) regulating power provision. Object under Investigation (OuI)\rThe characterization concerns the Booster Heater Controller and the Electric Storage Controller in combination with the District Supervisory Controller.\nDomain under Investigation (DuI)\rpower (low voltage distribution network)\rheat (coupling points to thermal network)\rcontrol (storage and heat network control)\rPurpose of Investigation (PoI)\rCharacterize the impact use of local flexibility on available regulating power from a local district.\nSystem under Test (SuT)\r“PCC” denotes the point of common coupling for the district to the external networks. All units connected downstream of the respective PCCs must be considered.\nFunctions under Test (FuT)\relectrical and heat exchange (at respective PCC)\relectrical energy bound violation\rtotal district electricity export\rtotal district thermal energy import\rTest criteria (TCR)\rThe TCR (test criteria) aim to quantify the resource and service conflicts: 1) the export/import from the electrical distribution network (including the respect for capacity limitations); 2) the service level at the district heating network (energy and service level violations)\nTarget Metrics (TM)\relectrical energy bound violation in MWh: given a limit for , measure the violation via the total electrical energy consumption as\r,\rwhere is a one-sided error measure, e.g. (x)=x if x\u003e0, else x=0.\nelectrical and heat exchange (at respective PCC) in MWh\rtotal district electricity export in MWh\rtotal district thermal energy import in MWh\rVariability Attributes (VA)\rControllable factors:\nbooster heater activation\relectrical storage system activation\rUncontrollable factors:\ndemand (electrical and thermal)\rPV generation\rprices\rQuality Attributes (QA)\rN/A\nQualification Strategy The PoI is addressed first using a simple implementation to verify the test concept and the functional principles, the outcome of TS01 is a preliminary characterisation of the same TCR as TS02. TS02 will then refine and validate the characterisation on a more realistic study case. ","categories":"","description":"Characterization of power-to-heat service availability and its impact on the networks","excerpt":"Characterization of power-to-heat service availability and its impact …","ref":"/docs/erigrid-2.0/tc11/","tags":"","title":"Test Case 11"},{"body":"Identification ID\r17\nProject\rERIGrid 2.0\nDate\r5/2/2021\nTest Case Definition Name of the Test Case\rFault tolerance/ recovery of a multi-aggregator dispatch mechanism\nNarrative\rIn a section of an electrical distribution grid, multiple (\u003e=2) aggregators operate independently of each other. Each of the aggregators maintains a portfolio of flexible DER units under contract. The contract provides for on-demand delivery of a grid service (e.g. load reduction/production increase).\nIt is assumed that the primary customer for the grid service in question is the local DSO operating the grid section. It is also assumed that a fair mechanism exists for matching supply (aggregators) and demand (DSO). This mechanism could e.g. be a flexibility market - but the exact workings are not relevant to the test case. For the sake of simplicity, it is assumed that the unknown mechanism has produced a merit-order list of the services offered by the different aggregators, before the start of the test. A dispatch unit is tasked with continuously matching the service demand indicated by the DSO using the merit order list, and to submit service activation requests to the appropriate aggregators.\nAt some point in time after the start of the test, a communication fault disrupts communication between the dispatch unit and one of the aggregators. To ensure that the service demand is met, the dispatch unit must decide whether the fault is temporary or permanent, and arrange for meeting the service demand with the remaining aggregator(s).\nIt is assumed that an aggregator affected by a communication fault will continue to function, i.e. service definitions agreed with the dispatch unit will continue to be delivered. However, due to the lack of updates from the dispatch unit, these services will eventually diverge from the evolving needs of the grid.\nFunction(s) under Investigation (FuI)\rCommunication fault detection and impact mitigation. A communication fault in the context of this test case is defined as the inability of the dispatch unit to communicate with one or more aggregators, caused by a disruption of the communication link. Implementations of the two functions will typically require functionality both on the dispatch unit as well as on the aggregator side.\nObject under Investigation (OuI)\rAggregator dispatch unit\nDomain under Investigation (DuI)\rElectrical\rICT\rPurpose of Investigation (PoI)\rCharacterisation of (the performance of) system recovery from a permanent communication failure.\nSystem under Test (SuT)\rThe test system consists of an electrical grid section, energy resources, aggregators, a dispatch unit, a service requester (DSO) and an ICT command and control infrastructure. The electrical grid section is a part of a LV and/or MV distribution grid (e.g. 0.4kV and 10kV) with a number of flexible DER units distributed across one or multiple feeders. The ICT infrastructure consists of three separate types of IT systems (dispatch unit, aggregator and DER controller) as well as the communication links between these entities.\nFunctions under Test (FuT)\rCommunication fault detection and impact mitigation (FuI)\rCoordinated congestion management, consisting of an algorithm for congestion management as well as the communication between units needed to implement the algorithm (i.e. between unit controllers and aggregators and between aggregators and dispatch unit)\rAggregator internal dispatch mechanism, consisting of portfolio management and unit dispatch\rUnit controller functionality, consisting of local flexibility calculation and management\rA dispatch mechanism for aggregators, executing on the dispatch unit.\rA congestion detection method, emulating the determination of service requirements by a DSO.\rTest criteria (TCR)\rTime to detection of a nonresponsive aggregator\rTime to full service restoration\rTarget Metrics (TM)\rTime elapsed from the occurrence of a communication fault to the classification of an aggregator as nonresponsive by the dispatch unit [s]\rTime elapsed from the occurrence of a communication fault to the restoration of a stable steady state in which the entire service demand as requested by the DSO is met by the aggregators [s].\rVariability Attributes (VA)\rControllable\rFrequency of service change requests from dispatch unit to aggregators [1/10s to 1/10min]\rDuration of communication failure [100ms to permanent]\rVariability of baseload profile [0 to 100% of mean baseload]\rQuality Attributes (QA)\rConfidence in the accuracy of the time measurements (measurement error \u003c= +/- 10% of measured value)\rQualification Strategy The system will be characterized in two different domains:\nIsolated in the ICT domain: How well does the multi-aggregator system recover from a communication fault?\rThe overall performance of the system in the electrical power domain: What is the impact of the fault recovery in the ICT domain on the ability of the multi-aggregator system to deliver a power system service?\rThis will be achieved by a sequence of two tests:\nOne test to determine the performance of a multi-aggregator system without any communication fault recovery mechanism. This will establish a baseline for overall system performance in the electrical power system domain.\rA second test where a recovery mechanism is in place. This will allow both characterization objectives to be achieved by (a) measuring the performance of the fault recovery mechanism in the ICT domain, and (b) comparing the performance of the entire multi-aggregator system to the baseline results.\r","categories":"","description":"Fault tolerance/ recovery of a multi-aggregator dispatch mechanism","excerpt":"Fault tolerance/ recovery of a multi-aggregator dispatch mechanism","ref":"/docs/erigrid-2.0/tc17/","tags":"","title":"Test Case 17"},{"body":"Identification ID\r23\nAuthor\rTesfaye Amare Zerihun\nVersion\r1\nProject\rERIGrid 2.0\nDate\r10/05/2020\nTest Case Definition Name of the Test Case\rVerification of the reliability of a redundant system or algorithm (e.g. failover)\nNarrative\rThe aim of this test case is to assess and verify the reliability of failover systems in smart grids that relies on putting redundancy. Redundancy is mainly used for critical smart grid applications such as protection in substations. In general, the redundancy can be either for control systems (such as the SCADA controller), communication networks or network controller (such as SDN controller), or a redundancy in the sensors and actuators (CT/PTs, Merging units, Breakers). Specifically, this test case looks into the reliability of failover systems with a redundancy in the communication networks.\nThe ICT support system/communication network may fail due various reasons for e.g., component (hardware) failures, environmental failures (such as weather disruption failing multiple components), a power outage, overloading of the network (capacity shortage) or cyber-attack. A fail-over system tries to quickly detect failures and switch to backup systems (smooth transition in the case of active standby systems) or it tries to recover the system after experiencing some performance glitch (the case of passive standby system). Unlike active backup systems, in the case of passive redundant systems, there can be small system down time until the backup system is powered on and takeover. The test case investigates the reliability of active or passive fail over systems to verify if these systems can meet the requirements (delays, packet loss or system down time) specified by the smart grid application considered or requirements set by the standards and protocols such as IEC 61850.\nFunction(s) under Investigation (FuI)\rExchange of data (measurement and control commands) through the communication network\rControl functions on the local controllers / IEDs\rProtection functions on the local controllers / IEDs\rObject under Investigation (OuI)\rCommunication Network (network devices, switches, network links), control devices or IEDs\nDomain under Investigation (DuI)\rInformation \u0026 Communication System\rControl system\rPower system\rPurpose of Investigation (PoI)\rPoI#1: Characterization of the performance of fail-over systems with a varying degree of redundancy. PoI#1.1: Characterization of the performance of fail-over systems with redundancy in the communication network.\rPoI#1.2: Characterization of the performance of fail-over systems with redundancy in the controller/IED\rPoI#2: Characterization of the redundant communication/control system for its vulnerability towards cyber attacks\rPoI#3: Verification of the system level performance with standard requirements (if it complies with the minimum expected KPIs e.g., down time, packet loss or delay)\rSystem under Test (SuT)\rCommunication network (Switches, routers, network links) Sensors (voltage sensors, CT/PT basic control), Actuators (breakers, intelligent switches)\rSCADA Controller (for e.g., FLISR, voltage control, monitoring functions) or local controllers/IEDs\rPower transmission system (substations, transmission lines)\rFunctions under Test (FuT)\rCapability of the communication network/ devices to facilitate data exchange between controllers/IEDs, sensors and actuators (breaker, disconnectors)\rControl and Protection functions\rMonitoring capability of sensors (devices such as Merging units, PMUs)\rActuator (breaker, disconnector) functions\rTest criteria (TCR)\rRun the system without introducing faults, and measure the communication network's performance during the normal operating condition… Introduce a fault and measure the communication network performance degradation right after a failure/fault occur/injected.\rCalculate and obtain the overall system performance (availability, reliability).\rTarget Metrics (TM)\rEnd to end delay, packet loss\rDuring a normal operating condition After introducing a fault\rUp time, down time, availability and reliability After introducing a fault\rVariability Attributes (VA)\rRedundancy type and degree (active-active, active-standby, active-inactive)\rNumber of simultaneous (component) failures Communication network traffic situation\r(background traffic)\rCommunication topology\rFailure type Cascading (from PS to CS)\rHardware\rSoftware\rQuality Attributes (QA)\rPass: End to end delay (average, maximum) and packet loss are within the maximum limit or threshold values set by specifications on standard communication protocol or the smart grid application (such as protection) considered. OR, the availability, reliability measures are within the limit on the specification requirement set by system administrator.\nPacket loss \u003e T, where T is a threshold value set according to the application (protection) type considered. Packet delay larger than D ms, where D is the delay tolerance which depend on the application (protection) type considered. The delay tolerance varies from 1 ms (for bus bar protection), 4 to 8 ms (for other type of protection schemes) up to 800 ms for IED to SCADA communication.\rFail: If the measured metrics (delay, packet loss, availability, or reliability) exceeds the threshold values.\nQualification Strategy ","categories":"","description":"Verification of the reliability of a redundant system or algorithm (e.g. failover)","excerpt":"Verification of the reliability of a redundant system or algorithm …","ref":"/docs/erigrid-2.0/tc23/","tags":"","title":"Test Case 23"},{"body":"Identification ID\r3\nAuthor\rL. Loizou, G. Makrides, M. Kynigos, S. Theocharidis\nVersion\r1\nProject\rERIGrid 2.0\nDate\r15/03/2021\nTest Case Definition Name of the Test Case\rReal-time supervision of a photovoltaic (PV) system and control of operational settings for centralized active power limitation and localized voltage regulation\nNarrative\rThe integration of high shares of variable renewable energy (VRE) technologies, such as PV, is essential for decarbonizing and meeting the demands of future grids but introduces new grid operation challenges. In particular, the variability and uncertainty of solar electricity incurs serious stability and reliability issues in power system operations, rendering new power system flexibility options critical for ensuring balanced operation. To this end, the increasing amount of PV generation, especially at the distribution level, can create problems to the power system with a few of the reported consequences being rapidly varying voltage profiles and increased frequency swings that exceed design or regulated limits. This is the main reason why utility grids with large share deployment of distributed PV systems are fostering the transformation towards modern digitally-enhanced technologies that will enable the centralized observability and control of underlying distributed energy resources (DERs). In order to resolve these issues, programmable automation controllers (PACs) and PV system smart inverters have the interoperability capability to process signal operational set-points originating from centralized control and supervisory systems for immediate control and implementation of different autonomous control strategies (i.e. Fixed Power Factor, Volt-VAR, Volt-Watt and Frequency-Watt). In particular, intelligent edge devices such as PACs can be configured to act as a PV system power plant controller (PPC) and to pass signals that originate from centralized control and supervisory cloud-based systems to smart inverters for immediate controls (connection/disconnection of system and active power limitation). Regarding voltage regulation, the Volt-VAR mode is the most employed and discussed localized control strategy for smart inverters. This is because of the ease at which voltage regulation can be achieved by controlling the reactive power produced by the inverter. More specifically, the Volt-VAR mode provides dynamic reactive power output (absorption or injection) through responses to voltage measurements. The reactive power output follows a specified Volt-VAR response (characteristic curve) which typically would have a dead-band around the target voltage where no reactive power is injected or absorbed. In contrast to current practises of enabling localized smart inverter controls through manual methods and on-site visits, the localized Volt-VAR control strategy can be implemented by enabling the function and setting the characteristic curve points through the centralized control and supervisory cloud-based dashboard. The set-points are then transferred to the PAC that processes and relays the control function to the smart inverter (signalling responses based on SunSpec and IEC 61850). Another localized voltage regulation control mode is Volt-Watt. This control mode is applicable only to feeders with extreme over-voltage profiles and may also be enabled to operate in conjunction with the commonly applied Volt-VAR mode. Specifically, the rate of active power reduction is determined by the slope of the characteristic curve of set-points based on the voltage at the point of common coupling (PCC). To this end, this control strategy can be remotely enabled (configured at the centralized control and supervisory cloud-based dashboard) and set to the smart inverter (PAC processes control information and sets the control mode to the smart inverter) to provide active power reduction in case of voltage rises at the PCC, beyond National grid code levels. In the occurrence of fault communication conditions (loss of cloud connectivity) the PAC is set to remain/switch to the Volt-VAR autonomous control mode (fallback settings in the absence of cloud connectivity). The aim of this test case is to investigate coordinated real-time supervision and control strategies provided by cloud-based systems, PAC and SunSpec compliant smart inverters, for centralized active power limitation and localized voltage regulation. Function(s) under Investigation (FuI)\rPV system centralized active power limitation and enabling localized reactive and active power control for voltage regulation.\nObject under Investigation (OuI)\rPV system connected to a smart inverter (SunSpec compliant) that can receive automated control signals through the use of a PAC. The PAC processes real-time signals (set-points for immediate and localized controls) originating from a centralized control and supervisory cloud-based system. Domain under Investigation (DuI)\rElectrical power system\rControl\rICT\rPurpose of Investigation (PoI)\rDesign of a cloud-based PV PPC capable of providing automated ancillary services by taking advantage of the smart inverter abilities for immediate control (active power limitation) and to perform the Volt-VAR and Volt-Watt control modes for voltage regulation.\nSystem under Test (SuT)\rThe SuT is composed of the following components:\nPV system\rSmart Inverter\rPAC Cloud-based database and SCADA platform\rFunctions under Test (FuT)\rReal-time signalling effectiveness of centralized control and supervisory cloud-based system for PV system active power limitation (active power limitation signals originating from the cloud are communicated to the PAC that acts as an edge device PPC. The PAC processes the signals and passes them to the inverter) Volt-VAR and Volt-Watt localized control effectiveness for the provision of ancillary services (voltage regulation) from PV systems using smart inverter functionalities. The set-points of the characteristic curves are implemented at the cloud-based system dashboard and then relayed to the smart inverter via the PAC. Test criteria (TCR)\rEffectiveness of centralized control and supervisory cloud-based system to interoperate with on-site PPCs and smart inverters for real-time supervision and relaying of control set-points (immediate controls such as connection/disconnection, active power limitation and enabling control strategies)\rEffectiveness of Volt-VAR localized control mode in controlling reactive power to regulate voltage (voltage levels within grid code limits at PCC)\rEffectiveness of Volt-Watt localized control mode in controlling active power to regulate voltage (voltage levels within grid code limits at PCC)\rTarget Metrics (TM)\rVoltage deviation Active power curtailment\rReactive power injection/absorption\rInteroperability of PV inverter with the centralized control signals originating from the control and supervision cloud-based (communication effectiveness and latency of response) Variability Attributes (VA)\rPV inverter immediate control and active and reactive power set-points\rControl methods\rInteroperability methods\rVoltage limit set-points\rRate of increase/decrease of reactive or active power injection/absorption and limitation, respectively Quality Attributes (QA)\rVoltage staying within a specific range (±10%)\rControl method reaction time latency (\u003c3 seconds)\rQualification Strategy The implementation plan to meet the Purpose of Investigation (PoI) is to first design and simulate the PV power plant providing ancillary services, through different control methods, using the EMTP software offline and investigate whether the voltage is maintained within the predefined limits. Subsequently, the control model designs will be transferred to the real time simulator (RTS) for high fidelity control hardware-in-the-loop (CHIL) validation and verification. Finally, the test case will be demonstrated on a test-bench PV system that includes a smart inverter and controller using a PAC that processes signals that originate from a centralized control and supervision cloud-based system.\n","categories":"","description":"Real-time supervision of a photovoltaic (PV) system and control of operational settings for centralized active power limitation and localized voltage regulation","excerpt":"Real-time supervision of a photovoltaic (PV) system and control of …","ref":"/docs/erigrid-2.0/tc03/","tags":"","title":"Test Case 3"},{"body":"Test Specification Definition ID\r3.01\nReference to Test Case\rTC3\nTitle of Test\rCloud-based real-time supervision and voltage regulation ancillary services for PV systems\nTest Rationale\rDesign and demonstration of a grid-edge PV PPC that processes real-time signals from a cloud-based system for centralized supervision and localized voltage regulation at the PCC\nSpecific Test System (graphical)\rTarget measures\rObservability of PV system and smart meter data\rVoltage regulation at PCC\rCentralized active power limitation of smart inverters PV system active and reactive power control\rInput and output parameters\rInput parameters:\nSmart meter voltage at PCC\rPV inverter Volt-Watt and Volt-VAR control characteristic curves\rOutput parameters:\nImmediate smart inverter connection/disconnection signal\rSmart meter voltage, frequency, apparent, active and reactive power\rPV system active and reactive power\rTest Design\rVariation of PV system generated power Implementation of different control methods\rInitial system state\rVoltage close to 1 pu\rUnregulated PV system operating at maximum power point (MPP) mode\rEvolution of system state and test signals\rMeasurement of increase/decrease of voltage at PCC Increase/decrease of active and reactive power with respect to voltage magnitude\rOther parameters\rn/a\nTemporal resolution\r1 second\nSource of uncertainty\rUncertainty of smart meter voltage measurements (0.5%)\rUncertainty of smart inverter power measurements (1%)\rSuspension criteria / Stopping criteria\rAbnormal over or under voltage conditions\r","categories":"","description":"Cloud-based real-time supervision and voltage regulation ancillary services for PV systems","excerpt":"Cloud-based real-time supervision and voltage regulation ancillary …","ref":"/docs/erigrid-2.0/tc03/3.01/","tags":"","title":"Test Specification 3.01"},{"body":"Experiment Specification Definition ID\r3.01.01\nReference to Test Specification\rTC3\nTitle of Experiment\rSimulating the effectiveness of PV power plant controls for voltage regulation\nResearch Infrastructure\rUCY-FOSS DER-Grid Smart Facility Experiment Realisation\rThe voltage regulation control methods proposed in Test Specification 22.01 (Volt-Watt and Volt-VAR operation of smart inverters) will be evaluated on a typical low voltage (LV) feeder (DER-Grid Smart Facility of UCY-FOSS). The LV feeder includes loads (fixed uncontrollable) and a grid-connected PV system (AC-coupled via a smart inverter). The feeder and localized voltage regulation controls will be digitally mapped and simulated using the EMTP software. Experiment Setup (concrete lab equipment)\rPV system with smart inverter (SMA SB 3.0 PV inverter)\rSmart meter (Schneider PM8000)\rEMTP software\rExperimental Design and Justification\rThe LV feeder at the UCY-FOSS DER-Grid Smart Facility will be digitally mapped using the EMTP software. The feeder includes loads, a grid-connected PV system (coupled to the grid via a smart inverter), a smart meter (grid measurements at the PCC) and a PAC (grid-edge PPC device). The localized voltage regulation controls will be modeled as a PV system PPC block configured as:\nPI controller for reactive power control\rController based on Volt-VAR curve settings\rController based on Volt-Watt curve settings\rThe effectiveness of the proposed control methods to regulate the voltage at the PCC of the simulated grid will be evaluated by applying a step change in the voltage and analyzing the output response of the modelled PV system PPC block. Finally, the performance of the implemented controls will be assessed by applying actual consumption and generation data-sets acquired at the feeder over a yearly period (1-minute resolution consumption and generation data).\nPrecision of equipment and measurement uncertainty\rUncertainty of smart meter voltage and power measurements (0.5%)\rUncertainty of smart inverter active and reactive power measurements (1%)\rStorage of experiment data\rCsv\n","categories":"","description":"Simulating the effectiveness of PV power plant controls for voltage regulation","excerpt":"Simulating the effectiveness of PV power plant controls for voltage …","ref":"/docs/erigrid-2.0/tc03/3.01.01/","tags":"","title":"Experiment Specification 3.01.01"},{"body":"Experiment Specification Definition ID\r3.01.02\nReference to Test Specification\rTC3\nTitle of Experiment\rCentralized cloud-based PPC for real-time supervision and control of PV systems\nResearch Infrastructure\rUCY-FOSS DER-Grid Smart Facility Experiment Realisation\rReal-time supervision (streaming of high-resolution smart meter and PV system data) and centralized control methods proposed in Test Specification 22.01 (immediate controls such as connection/disconnection, active power limitation and enabling control strategies) will be demonstrated using a cloud-based SCADA platform. The PAC installed at the feeder will stream high-resolution data (1-second) acquired from the smart meter and PV system inverter to the cloud database. The implemented cloud-based dashboards will provide the interface for visualizing in real-time the acquired data and to provide centralized control functionalities (relaying control signals for immediate smart inverter active power limitation and enabling Volt-VAR or Volt-Watt operational modes).\nExperiment Setup (concrete lab equipment)\rPV system with smart inverter (SMA SB 3.0 PV inverter)\rSmart meter (Schneider PM8000)\rPAC (Gantner Instruments Q.Station XT)\rRTS CHIL testbed (Typhoon HIL 604)\rExperimental Design and Justification\rThe experiment entails the configuration of a PAC, installed at the DER-Grid Smart Facility feeder, to acquire and stream in real-time data from the smart meter and PV system inverter. Data acquisition will be implemented using the vendor-specific and SunSpec Modbus registers. The data streams created and stored at the PAC will be setup for real-time streaming to a centralized cloud database. Accordingly, an online cloud-based platform comprising of different dashboards will be designed in order to demonstrate the proposed observability and interoperability concepts. More specifically, a SCADA dashboard will be created to act as the supervision interface and exhibit in real-time the measurements streamed from the underlying assets of the feeder (smart meter and inverter). Moreover, a PPC control dashboard will be developed in order to provide the user interoperability interface for enabling the PV system control signaling (set-points for immediate and localized controls).\nThe effectiveness of the centralized supervision and control methods will be demonstrated by enabling remotely the implemented control modes of the smart inverter through the cloud-based system. Finally, the functional response and latency of the cloud-based supervision and control system will be further verified in a CHIL approach using a RTS testbed. The RTS testbed will be utilized in order to vary the grid condition settings (varying in real-time the reference voltage at the PCC of the feeder via SunSpec Modbus over TCP/IP and analyzing the response of the controller).\nPrecision of equipment and measurement uncertainty\rUncertainty of smart meter voltage and power measurements (0.5%)\rUncertainty of smart inverter active and reactive power measurements (1%)\rStorage of experiment data\rCsv\n","categories":"","description":"Centralized cloud-based PPC for real-time supervision and control of PV systems","excerpt":"Centralized cloud-based PPC for real-time supervision and control of …","ref":"/docs/erigrid-2.0/tc03/3.01.02/","tags":"","title":"Experiment Specification 3.01.02"},{"body":"Identification ID\rTC08\nAuthor\rTue Jensen, Kai Heussen, Edmund Widl\nVersion\r1.0\nProject\rSmILES, ERIGrid 2.0\nDate\r2020-12-16\nTest Case Definition Name of the Test Case\rCharacterization of power-to-heat service availability and its impact on the networks\nNarrative\rA heating network-integrated booster heat pump is used to also provide ancillary services to the electrical system. In the local electrical distribution network congestion may appear, and other flexibility options are available. This test seeks to characterize the impact of the use of local flexibility (to relieve congestion) on the available regulating power ancillary service from a local district. The test targets a quantification of the ability of the integrated system to provide flexibility services under conflict situations. Function(s) under Investigation (FuI)\rThe heating system provides services to the electrical system (a) congestion management - electrical import and export limitation; and (b) ancillary service/“regulating power” provision. Object under Investigation (OuI)\rThe characterization concerns the Booster Heater Controller and the Electric Storage Controller in combination with the District Supervisory Controller.\nDomain under Investigation (DuI)\rpower (low voltage distribution network)\rheat (coupling points to thermal network)\rcontrol (storage and heat network control)\rPurpose of Investigation (PoI)\rCharacterize the impact use of local flexibility on available ancillary service capacity from a local district.\nSystem under Test (SuT)\r“PCC” denotes the point of common coupling for the district to the external networks. All units connected downstream of the respective PCCs must be considered.\nFunctions under Test (FuT)\relectrical and heat exchange (at respective PCC)\relectrical energy bound violation\rtotal district electricity export\rtotal district thermal energy import\rTest criteria\rThe TCR (test criteria) aim to quantify the resource and service conflicts: 1) the export/import from the electrical distribution network (including the respect for capacity limitations); 2) the service level at the district heating network (energy and service level violations)\ntarget metrics\relectrical energy bound violation in MWh: given a limit for , measure the violation via the total electrical energy consumption as\r,\rwhere is a one-sided error measure, e.g. (x)=x if x\u003e0, else x=0.\nelectrical and heat exchange (at respective PCC) in MWh\rtotal district electricity export in MWh\rtotal district thermal energy import in MWh\rvariability attributes\rControllable factors:\nbooster heater activation\relectrical storage system activation\rUncontrollable factors:\ndemand (electrical and thermal)\rPV generation\rprices\rquality attributes\rN/A\nQualification Strategy The PoI is addressed first using a simple implementation to verify the test concept and the functional principles, the outcome of TS01 is a preliminary characterisation of the same TCR as TS02. TS02 will then refine and validate the characterisation on a more realistic study case. ","categories":"","description":"Characterization of power-to-heat service availability and its impact on the networks","excerpt":"Characterization of power-to-heat service availability and its impact …","ref":"/docs/erigrid-2.0/tc08/","tags":"","title":"Test Case TC08"},{"body":"Test Specification Definition ID\rTC08.TS01\nReference to Test Case\rTC08\nTitle of Test\rLocal controller responds to service requests from aggregator controller\nTest Rationale\rThis test characterizes district operation of a simple long district heat pipe with heat booster HP and without Booster Heater Controller and Electric Storage Controller active, seeking to demonstrate that the local controllers respond to service requests from the aggregator controller.\nSpecific Test System (graphical)\rThe system under test includes an electrical system, a district heating system and a control system. Each is sketched below.\nThermal system\nThe thermal system is a simplified distribution network which includes a booster heat pump. The heat load is aggregated in two locations.\nElectrical system\nThe electrical system corresponds to a single feeder.\nControl domain coupling\nThe distribution grid management does not form part of the system under test but are taken as exogenous signals.\nTarget measures\rSee Test Design.\nInput and output parameters\rP_PCC: Measured apparent electrical import at the district electrical network point of common coupling [kWe]\rQ_PCC: Measured heat import at the district heating network point of common coupling [kWq]\rP_booster: Measured electrical active power consumption of district booster heater [kWe]\rTest Design\rThe test comprises 24 hours of district operation. During these 24 hours, the heat pump controller is asked to keep the forward temperature of the connected pipe above 70ºC.\nFurther, these services are requested of the Aggregator by the Distribution Grid Management:\nfor 07:00 to 09:00, keep district electrical consumption below P_import_limit kW..\rfor 11:00 to 14:00, keep district electrical consumption above P_export_limit kW.\rfor 17:00 to 19:00, keep district electrical consumption below P_import_limit kW\rwhere these limits are defined as below.\nThe test consists of several runs:\nno service signal sent\rservice signals sent (gamma indicates the level of service requested – lower gamma = more service requested)\rgamma = 1.0\rgamma = 0.95\rgamma = 0.90\rgamma = 0.85\rgamma = 0.80\rBy comparing these runs, whether the controllers respond to service requests can be established.\nFor run 1, set:\nP_import_limit = inf,\rP_export_limit = -inf\rgamma=1.0.\rFor subsequent runs (given the 99% quantile of district electrical import P_i_99 and the 1% quantile of district electrical import, P_i_1), the system is asked to restrict its import relative to the uncontrolled base case:\nP_export_limit= gamma * P_i_1 kWe\rP_import_limit = gamma* P_i_99 kWe,\rInitial system state\reach component is initialized to the state given in the associated dataset\rthe battery state of charge is set to 50% of nomimal energy\rthe district heating system is allowed to relax to a steady state with the heat pump turned off\rEvolution of system state and test signals\rTest signals:\nP_import_limit: District electrical consumption bound requested from battery/EV units [kWe]\rP_export_limit: District electrical export bound requested from heating units [kWe]\rgamma: Scaling factor for district import and export [n.u.]\rOther parameters\rN/A\nTemporal resolution\rThe test is run at a fixed time step of 10 seconds.\nSource of uncertainty\rSince the exact electrical demand signal consists of a deterministic trend and a randomized factor, each “run” above should be repeated 10 times, with the mean and standard deviation of each target metric recorded.\nSuspension criteria / Stopping criteria\rN/A\n","categories":"","description":"Local controller responds to service requests from aggregator controller","excerpt":"Local controller responds to service requests from aggregator …","ref":"/docs/erigrid-2.0/tc08/tc08.ts01/","tags":"","title":"Test Specification TC08.TS01"},{"body":"Test Specification Definition ID\rTC08.TS02\nReference to Test Case\rTC08\nTitle of Test\rLocal controller responds to service requests from aggregator controller\nTest Rationale\rThis test characterizes district operation with and without Booster Heater Controller and Electric Storage Controller active, seeking to demonstrate that the local controllers respond to service requests from the aggregator controller.\nSpecific Test System (graphical)\rThe system under test includes an electrical system, a district heating system and a control system. Each is sketched below.\nThermal system\nThe block called “Row Houses” consists of multiple small loads which are aggregated into a single, larger load.\nElectrical system\nNote, that only loads which are marked in red are inside the quarter under control. All buses are taken to be P-Q buses, with the grid acting as the slack bus. Rings 3-5 are summarized, as no buses are inside the district.\nControl domain coupling\nThe distribution grid management does not form part of the system under test, but are taken as exogenous signals.\nTarget measures\rSee Test Design.\nInput and output parameters\rP_PCC: Measured apparent electrical import at the district electrical network point of common coupling [kWe]\rQ_PCC: Measured heat import at the district heating network point of common coupling [kWq]\rP_booster: Measured electrical active power consumption of district booster heater [kWe]\rTest Design\rThe test comprises 24 hours of district operation. During these 24 hours, the heat pump controller is asked to keep the forward temperature of the connected pipe above 70ºC.\nFurther, these services are requested of the Aggregator by the Distribution Grid Management:\nfor 07:00 to 09:00, keep district electrical consumption below P_import_limit kW..\rfor 11:00 to 14:00, keep district electrical consumption above P_export_limit kW.\rfor 17:00 to 19:00, keep district electrical consumption below P_import_limit kW\rwhere these limits are defined as below.\nThe test consists of several runs:\nno service signal sent\rservice signals sent\rgamma = 1.0\rgamma = 0.95\rgamma = 0.90\rgamma = 0.85\rgamma = 0.80\rBy comparing these runs, whether the controllers respond to service requests can be established.\nFor run 1, set:\nP_import_limit = inf,\rP_export_limit = -inf\rgamma=1.0.\rFor subsequent runs (given the 99% quantile of district electrical import P_i_99 and the 1% quantile of district electrical import, P_i_1), the system is asked to restrict its import relative to the uncontrolled base case:\nP_export_limit= gamma * P_i_1 kWe\rP_import_limit = gamma* P_i_99 kWe,\rInitial system state\reach component is initialized to the state given in the associated dataset\rthe battery state of charge is set to 50% of nomimal energy\rthe district heating system is allowed to relax to a steady state with the heat pump turned off\rEvolution of system state and test signals\rTest signals:\nP_import_limit: District electrical consumption bound requested from battery/EV units [kWe]\rP_export_limit: District electrical export bound requested from heating units [kWe]\rgamma: Scaling factor for district import and export [n.u.]\rOther parameters\rN/A\nTemporal resolution\rThe test is run at a fixed time step of 10 seconds.\nSource of uncertainty\rSince the exact electrical demand signal consists of a deterministic trend and a randomized factor, each “run” above should be repeated 10 times, with the mean and standard deviation of each target metric recorded.\nSuspension criteria / Stopping criteria\rN/A\n","categories":"","description":"Local controller responds to service requests from aggregator controller","excerpt":"Local controller responds to service requests from aggregator …","ref":"/docs/erigrid-2.0/tc08/tc08.ts02/","tags":"","title":"Test Specification TC08.TS02"},{"body":"Test Specification Definition ID\rTC11.TS01\nReference to Test Case\rTC11\nTitle of Test\rLocal controller responds to service requests from aggregator controller\nTest Rationale\rThis test characterizes district operation of a simple long district heat pipe with heat booster HP and without Booster Heater Controller and Electric Storage Controller active, seeking to demonstrate that the local controllers respond to service requests from the aggregator controller.\nSpecific Test System (graphical)\rThe system under test includes an electrical system, a district heating system and a control system. Each is sketched below.\nThermal system\nThe thermal system is a simplified distribution network which includes a booster heat pump. The heat load is aggregated in two locations.\nElectrical system\nThe electrical system corresponds to a single feeder.\nControl domain coupling\nThe distribution grid management does not form part of the system under test but are taken as exogenous signals.\nTarget measures\rSee Test Design.\nInput and output parameters\rP_PCC: Measured apparent electrical import at the district electrical network point of common coupling [kWe]\rQ_PCC: Measured heat import at the district heating network point of common coupling [kWq]\rP_booster: Measured electrical active power consumption of district booster heater [kWe]\rTest Design\rThe test comprises 24 hours of district operation. During these 24 hours, the heat pump controller is asked to keep the forward temperature of the connected pipe above 70ºC.\nFurther, these services are requested of the Aggregator by the Distribution Grid Management:\nfor 07:00 to 09:00, keep district electrical consumption below P_import_limit kW..\rfor 11:00 to 14:00, keep district electrical consumption above P_export_limit kW.\rfor 17:00 to 19:00, keep district electrical consumption below P_import_limit kW\rwhere these limits are defined as below.\nThe test consists of several runs:\nno service signal sent\rservice signals sent (gamma indicates the level of service requested – lower gamma = more service requested)\rgamma = 1.0\rgamma = 0.95\rgamma = 0.90\rgamma = 0.85\rgamma = 0.80\rBy comparing these runs, whether the controllers respond to service requests can be established.\nFor run 1, set:\nP_import_limit = inf,\rP_export_limit = -inf\rgamma=1.0.\rFor subsequent runs (given the 99% quantile of district electrical import P_i_99 and the 1% quantile of district electrical import, P_i_1), the system is asked to restrict its import relative to the uncontrolled base case:\nP_export_limit= gamma * P_i_1 kWe\rP_import_limit = gamma* P_i_99 kWe,\rInitial system state\reach component is initialized to the state given in the associated dataset\rthe battery state of charge is set to 50% of nomimal energy\rthe district heating system is allowed to relax to a steady state with the heat pump turned off\rEvolution of system state and test signals\rTest signals:\nP_import_limit: District electrical consumption bound requested from battery/EV units [kWe]\rP_export_limit: District electrical export bound requested from heating units [kWe]\rgamma: Scaling factor for district import and export [n.u.]\rOther parameters\rN/A\nTemporal resolution\rThe test is run at a fixed time step of 10 seconds.\nSource of uncertainty\rSince the exact electrical demand signal consists of a deterministic trend and a randomized factor, each “run” above should be repeated 10 times, with the mean and standard deviation of each target metric recorded.\nSuspension criteria / Stopping criteria\rN/A\n","categories":"","description":"Local controller responds to service requests from aggregator controller","excerpt":"Local controller responds to service requests from aggregator …","ref":"/docs/erigrid-2.0/tc11/tc11.ts01/","tags":"","title":"Test Specification TC11.TS01"},{"body":"Test Specification Definition ID\rTC11.TS02\nReference to Test Case\rTC11\nTitle of Test\rLocal controller responds to service requests from aggregator controller\nTest Rationale\rThis test characterizes district operation with and without Booster Heater Controller and Electric Storage Controller active, seeking to demonstrate that the local controllers respond to service requests from the aggregator controller.\nSpecific Test System (graphical)\rThe system under test includes an electrical system, a district heating system and a control system. Each is sketched below.\nThermal system\nThe block called “Row Houses” consists of multiple small loads which are aggregated into a single, larger load.\nElectrical system\nNote, that only loads which are marked in red are inside the quarter under control. All buses are taken to be P-Q buses, with the grid acting as the slack bus. Rings 3-5 are summarized, as no buses are inside the district.\nControl domain coupling\nThe distribution grid management does not form part of the system under test, but are taken as exogenous signals.\nTarget measures\rSee Test Design.\nInput and output parameters\rP_PCC: Measured apparent electrical import at the district electrical network point of common coupling [kWe]\rQ_PCC: Measured heat import at the district heating network point of common coupling [kWq]\rP_booster: Measured electrical active power consumption of district booster heater [kWe]\rTest Design\rThe test comprises 24 hours of district operation. During these 24 hours, the heat pump controller is asked to keep the forward temperature of the connected pipe above 70ºC.\nFurther, these services are requested of the Aggregator by the Distribution Grid Management:\nfor 07:00 to 09:00, keep district electrical consumption below P_import_limit kW..\rfor 11:00 to 14:00, keep district electrical consumption above P_export_limit kW.\rfor 17:00 to 19:00, keep district electrical consumption below P_import_limit kW\rwhere these limits are defined as below.\nThe test consists of several runs:\nno service signal sent\rservice signals sent\rgamma = 1.0\rgamma = 0.95\rgamma = 0.90\rgamma = 0.85\rgamma = 0.80\rBy comparing these runs, whether the controllers respond to service requests can be established.\nFor run 1, set:\nP_import_limit = inf,\rP_export_limit = -inf\rgamma=1.0.\rFor subsequent runs (given the 99% quantile of district electrical import P_i_99 and the 1% quantile of district electrical import, P_i_1), the system is asked to restrict its import relative to the uncontrolled base case:\nP_export_limit= gamma * P_i_1 kWe\rP_import_limit = gamma* P_i_99 kWe,\rInitial system state\reach component is initialized to the state given in the associated dataset\rthe battery state of charge is set to 50% of nomimal energy\rthe district heating system is allowed to relax to a steady state with the heat pump turned off\rEvolution of system state and test signals\rTest signals:\nP_import_limit: District electrical consumption bound requested from battery/EV units [kWe]\rP_export_limit: District electrical export bound requested from heating units [kWe]\rgamma: Scaling factor for district import and export [n.u.]\rOther parameters\rN/A\nTemporal resolution\rThe test is run at a fixed time step of 10 seconds.\nSource of uncertainty\rSince the exact electrical demand signal consists of a deterministic trend and a randomized factor, each “run” above should be repeated 10 times, with the mean and standard deviation of each target metric recorded.\nSuspension criteria / Stopping criteria\rN/A\n","categories":"","description":"Local controller responds to service requests from aggregator controller","excerpt":"Local controller responds to service requests from aggregator …","ref":"/docs/erigrid-2.0/tc11/tc11.ts02/","tags":"","title":"Test Specification TC11.TS02"},{"body":"Identification ID\rTC12\nAuthor\rBenedikt Leitner, Edmund Widl\nVersion\r2\nProject\rSmILES, ERIGrid 2.0\nDate\r2020-12-17\nTest Case Definition Name of the Test Case\rVerification of improved self-consumption of RES in a coupled heat \u0026 power network using power-to-heat\nNarrative\rThis test case is used to verify that the self-consumption of renewable energy sources in a coupled heat and power network improves when using distributed power-to-heat appliances compared to a base scenario without power-to-heat. Different control schemes can be applied to reach this goal, which can be assessed in the context of this test case.\nFunction(s) under Investigation (FuI)\rControl function(s) of power-to-heat appliances\nNote: The actual control schemes (and the corresponding control functions) are defined in the test specifications.\nObject under Investigation (OuI)\rExternal electric grid:\npower flows (to and from)\rGas heating boiler (for base load):\nheat generation\rLocal heating network:\nsupply temperatures at thermal substations\rdifferential pressures at thermal substations\rLow voltage distribution network:\nvoltages at consumer connection points\rDomain under Investigation (DuI)\relectric (low voltage distribution network)\rheat (local heating network)\rPurpose of Investigation (PoI)\rVerification of reduction of energy flows flowing out of the network. At the same time energy imports should not increase and the operational parameters of both networks must remain within acceptable ranges.\nSystem under Test (SuT)\rThe SuT comprises a coupled low-voltage distribution network and local heating network (sub-urban district), which host residential homes, offices and workshops. A high share of the building stock is connected to the heating network, which is supplied by a central gas-fired boiler. Generation from rooftop photovoltaic power plants covers a significant part of the annual electric energy demand. Electric boilers are installed in the heating network with the aim to further increase the self-consumption of photovoltaic generation at a network scale.\nFunctions under Test (FuT)\renergy flows (in and out of the networks)\reffort variables of both networks (bus voltages, supply temperatures, differential pressures)\rloading of the transformer\rTest criteria (TCR)\rTarget Metrics (TM)\rtotal power flow from external electric grid in MWh\rtotal heat flow from base district heating boiler in MWh\rvoltages at consumer connection points in p.u. transformer loading in %\rdifferential pressures at substations in bar\rsupply temperatures at substations in °C\rVariability Attributes (VA)\rControllable factors:\nelectric boiler activation\rgas boiler activation\rUncontrollable factors:\ndemand (electrical and thermal)\rPV generation\rQuality Attributes (QA)\rThe power flow to the external grid and the heat flow from the base district heating boiler are reduced compared to a scenario without power-to-heat appliances. Thus, self-consumption of RES is improved. At the same time, the power flow from the external grid is not allowed to increase more than 1%.\nMoreover, the following technical criteria must be met:\nvoltages at consumer connection points within 0.95 p.u. and 1.05 p.u. for 99% of time\rdifferential pressures at substations within 0.9 bar and 5 bar for 99% of time\rsupply temperatures at substations above 65°C for 99% of time\rtransformer loading never goes above 100%\rQualification Strategy ","categories":"","description":"Verification of improved self-consumption of RES in a coupled heat \u0026 power network using power-to-heat","excerpt":"Verification of improved self-consumption of RES in a coupled heat \u0026 …","ref":"/docs/erigrid-2.0/tc12/","tags":"","title":"Test Case TC12"},{"body":"Test Specification Definition ID\rTC12.TS01\nReference to Test Case\rTC12\nTitle of Test\rElectric Boiler Activation for Excess Power Consumption with Proportional Controllers\nTest Rationale\rThis test aims at self-consumption of excess power generated from distributed renewable power generators (i.e., the rooftop PV generators). The excess power is fed into the local heating network. The local use of excess power helps mitigate problems in the electric distribution network, such as reversed power flows, high loading of equipment and voltage band violations. On the other side, distributed infeed into the local heating network might cause problems due to reversed mass flows, fluctuating supply temperatures or differential pressure problems.\nElectric boilers are used as power-to-heat appliances. They consist of an electric heater, for the conversion of power to heat, and a thermal energy storage, for the (short-term) storage of generated heat.\nThe operation of the electric boilers and storage units are governed by simple proportional controllers.\nSpecific Test System (graphical)\rThis test case uses simple proportional controllers with fixed operational parameters (e.g., temperature thresholds) to calculate new setpoints for the electric boilers. The district heating network/electric boiler simulation send actual power consumption of electric boilers to the electric network simulation.\nA detailed description of the controller scheme is given in: Target measures\rThe test is successfully passed if power flows to the external network are reduced compared to a scenario without power-to-heat. Simultaneously, power import into the network is not allowed to increase by more than 1%. Moreover, relevant network constraints need to be met.\nInput and output parameters\rPEBSet … electric boiler setpoint for nominal heat flow\rQEBSet … electric boiler setpoint for nominal power consumption\rQEB … electric boiler heat flow\rPEB … electric boiler power consumption\rTEB … thermal storage temperature\rTest Design\rThis test needs to run for an entire year to account for the daily/seasonal variations of loads/generators and the impact of the predictive control, as it usually plans ahead several hours/days.\nInitial system state\rdistrict heating pipes have nominal temperatures\rthermal storages are empty, i.e., have nominal return temperature of district heating network\relectric boilers not running\rEvolution of system state and test signals\rEvery 15 minutes the electric boiler controllers receive current heat generation and heat discharge from respective electric boilers, based on which new setpoints are calculated. Every 15 minutes the electric network receives current power consumption from electric boilers\rExcept for the previous, subsystems are independent from each other.\rOther parameters\rNone\nTemporal resolution\rLocal heating and electric boilers:\ndynamic, variable step size (typically order of seconds)\rElectric network and predictive controllers:\n15 minutes\rSource of uncertainty\rNone\nSuspension criteria / Stopping criteria\rcritical violation of network operation constraints (freezing/boiling water in any part of district heating network, etc.)\rpredictive controller unable to predict next step (infeasible model)\r","categories":"","description":"Electric Boiler Activation for Excess Power Consumption with Proportional Controllers","excerpt":"Electric Boiler Activation for Excess Power Consumption with …","ref":"/docs/erigrid-2.0/tc12/tc12.ts01/","tags":"","title":"Test Specification TC12.TS01"},{"body":"Experiment Specification Definition ID\rTC12.TS01.ES01\nReference to Test Specification\rTC12.TS01\nTitle of Experiment\rCo-Simulation of Electric Boiler Activation for Excess Power Consumption with Proportional Controllers\nResearch Infrastructure\rN/A\nExperiment Realisation\rThe experiment is implemented as co-simulation using mosaik with a simulator synchronization step size of 15 minutes.\nExperiment Setup (concrete lab equipment)\rDedicated simulation components are implemented as FMUs for Co-Simulation:\npower system simulation: the power system is implemented as pandapower model, using consecutive power flow calculations to simulate the power system; the electric boilers are represented as PQ loads;\rthermal network simulation: the local heating network and the electric boilers are modelled with Modelica and compiled with Dymola; this model includes the proportional controllers that actuate the boilers;\rExperimental Design and Justification\rThis is a basic co-simulation setup using the mosaik environment with FMUs.\nPrecision of equipment and measurement uncertainty\rN/A\nStorage of experiment data\rThe output from the individual simulation components is stored as time series data (HDF5 data format).\n","categories":"","description":"Co-Simulation of Electric Boiler Activation for Excess Power Consumption with Proportional Controllers","excerpt":"Co-Simulation of Electric Boiler Activation for Excess Power …","ref":"/docs/erigrid-2.0/tc12/tc12.ts01/tc12.ts01.es01/","tags":"","title":"Experiment Specification TC12.TS01.ES01"},{"body":"Test Specification Definition ID\rTC12.TS02\nReference to Test Case\rTC12\nTitle of Test\rElectric Boiler Activation for Excess Power Consumption with Model-predictive Control\nTest Rationale\rThis test is conceptionally similar to TC12.TS01. The difference is that for planning the operation of the storage units and the electric heaters a predictive controller is used. The aim of the controller is to minimize negative residual load of the electric network. To enable this planning, negative residual load in the electric as well as heat demand in the heat network need to be known/predicted. This test assumes perfect knowledge of these time-series data and, thus, does not focus on the quality of predictions.\nSpecific Test System (graphical)\rThe controller uses heat demand and excess power predictions together with current storage temperatures, electric boiler power consumption and heat discharge to calculate new setpoints for the electric boilers. The district heating network/electric boiler simulation send actual power consumption of electric boilers to electric network simulation.\nThis test case uses an advanced model-predictive control scheme for activating the electric boilers and storage units. A detailed description of the controller scheme is given in:\nTarget measures\rsame as TC12.TS01\nInput and output parameters\rQdem … predicted heat demand\rPex … predicted power demand\rotherwise same as TC12.TS01\rTest Design\rThe electric boilers are activated with the help of a predictive control approach, which enables a planning of discharging and charging the thermal storage units with regards to excess power availability. For instance, thermal storages can be emptied before times with high excess power but low heat demand and thus makes the use of the electric heater still possible.\nThis test needs to run for an entire year to cover the daily/seasonal variations of loads/generators and the impact of the predictive control, as it usually has planning horizons of multiple hours/days.\nInitial system state\rsame as TC12.TS01\nEvolution of system state and test signals\rEvery 15 minutes the electric boiler controllers receive current heat generation and heat discharge from respective electric boilers together with predicted residual load of electric network and heat demand of district heating network. Thus, electric boilers receive new setpoints for heat generation \u0026 heat discharge from model predictive controllers.\rEvery 15 minutes electric network receives current power consumption from electric boilers\rOtherwise subsystems are independent from each other.\rOther parameters\rNone\nTemporal resolution\rsame as TC12.TS01\nSource of uncertainty\rNone\nSuspension criteria / Stopping criteria\rsame as TC12.TS01\n","categories":"","description":"Electric Boiler Activation for Excess Power Consumption with Model-predictive Control","excerpt":"Electric Boiler Activation for Excess Power Consumption with …","ref":"/docs/erigrid-2.0/tc12/tc12.ts02/","tags":"","title":"Test Specification TC12.TS02"},{"body":"Experiment Specification Definition ID\rTC12.TS02.ES01\nReference to Test Specification\rTC12.TS02\nTitle of Experiment\rCo-Simulation of Electric Boiler Activation for Excess Power Consumption with Model-predictive Control\nResearch Infrastructure\rN/A\nExperiment Realisation\rThe experiment is implemented as co-simulation using mosaik with a simulator synchronization step size of 15 minutes.\nExperiment Setup (concrete lab equipment)\rDedicated simulation components are implemented as FMUs for Co-Simulation:\npower system simulation: the power system is implemented as pandapower model, using consecutive power flow calculations to simulate the power system; the electric boilers are represented as PQ loads;\rthermal network simulation: the local heating network and the electric boilers are modelled with Modelica (and compiled with Dymola); this model includes the proportional controllers that actuate the boilers;\rmodel-predictive controller: the controller logic is implemented in Python Experimental Design and Justification\rThis is a basic co-simulation setup using the mosaik environment with FMUs.\nPrecision of equipment and measurement uncertainty\rN/A\nStorage of experiment data\rThe output from the individual simulation components is stored as time series data (HDF5 data format).\n","categories":"","description":"Co-Simulation of Electric Boiler Activation for Excess Power Consumption with Model-predictive Control","excerpt":"Co-Simulation of Electric Boiler Activation for Excess Power …","ref":"/docs/erigrid-2.0/tc12/tc12.ts02/tc12.ts02.es01/","tags":"","title":"Experiment Specification TC12.TS02.ES01"},{"body":"Test Specification Definition ID\rTC17.TS1\nReference to Test Case\rTC17\nTitle of Test\rBaseline test\nTest Rationale\rThis test will establish the performance of the dispatch mechanism in the absence of a fault recovery mechanism by establishing the (permanent) performance loss of the dispatcher as a result of a permanent loss of one aggregator from its portfolio. This performance loss will express itself in a degradation of the dispatcher’s ability to track a setpoint, and will depend on the amount of flexibility which can be taken over by the remaining aggregator(s).\nSpecific Test System (graphical)\rTarget measures\rDeviation of service delivered from service requested\nInput and output parameters\rInput: Level of base load [kW]\rInput: Service requested (by DSO) to dispatch unit\rInput: Time of fault occurrence [s]\rOutput: Active power production/consumption at individual DERs [kW]\rOutput: Active power sum flow at grid connection [kW]\rTest Design\rThe test can be performed as a hardware experiment, a simulation experiment or a combination of the two.\nConfigure grid, DER units and base load to bring system into initial state (t=t0)\rAt t=t1, request a load relief service from the dispatch unit, wait for aggregators to activate DER units. Measure the effectiveness of the service delivery (impact on grid) after stabilization.\rAt t=t2, command fault simulator to disrupt communication to aggregator 1\rContinue measuring the effectiveness of the service delivery for a period to determine the magnitude of the mismatch between service requested and service delivered.\rInitial system state\rNo service requested by dispatch unit\rAll DERs in neutral state (not delivering a service)\rFeeder in overload condition by combined baseload+DER consumption\rFault simulator in bypass state (no fault)\rEvolution of system state and test signals\rBase load continues to change, following e.g. a random pattern\rAggregator response tracks changes in base load\rOther parameters\rTemporal resolution\rElectrical system measurements: 1s. Logging of ICT events (messages exchanged, communication fault event etc.) using timestamps with at least 1ms resolution.\nSource of uncertainty\rResidual time synchronization difference between ICT entities\nSuspension criteria / Stopping criteria\rElapsed time (fixed length experiment)\n","categories":"","description":"Baseline test","excerpt":"Baseline test","ref":"/docs/erigrid-2.0/tc17/tc17.ts1/","tags":"","title":"Test Specification TC17.TS1"},{"body":"Test Specification Definition ID\rTC17.TS2\nReference to Test Case\rTC17\nTitle of Test\rCharacterization of recovery from failure\nTest Rationale\rThis test will characterize the response of the fault recovery mechanism. The results obtained will also allow a performance comparison with the baseline system.\nSpecific Test System (graphical)\rTarget measures\rTime to restoration of service delivery\rDeviation of service delivered from service requested\rInput and output parameters\rInput: Level of base load [kW]\rInput: Service requested (by DSO) to dispatch unit\rInput: Time of fault occurrence [s]\rOutput: Active power production/consumption at individual DERs [kW]\rOutput: Active power sum flow at grid connection [kW]\rTest Design\rThe test can be performed as a hardware experiment, a simulation experiment or a combination of the two.\nConfigure grid, DER units and base load to bring system into initial state (t=t0)\rAt t=t1, request a load relief service from the dispatch unit, wait for aggregators to activate DER units. Measure the effectiveness of the service delivery (impact on grid) after stabilization.\rAt t=t2, command fault simulator to disrupt communication to aggregator 1\rDetermine the points in time t=t3 where the dispatch unit has noticed the fault, and t=t4 where aggregator 2 has rescheduled.\rContinuously measure the effectiveness of the service delivery in order to determine the disruption to service delivery during t3\u003ct\u003ct4.\rVerify that the effectiveness of service delivery after t4 is comparable to before the fault (t\u003ct2).\rInitial system state\rNo service requested by dispatch unit\rAll DERs in neutral state (not delivering a service)\rFeeder in overload condition by combined baseload+DER consumption\rFault simulator in bypass state (no fault)\rEvolution of system state and test signals\rBase load continues to change, following e.g. a random pattern\rAggregator response tracks changes in base load\rDispatch unit moves from “service delivery” to “fault recovery” and back to “service delivery”\rOther parameters\rTemporal resolution\rElectrical system measurements: 1s. Logging of ICT events (messages exchanged, communication fault event etc.) using timestamps with at least 1ms resolution.\nSource of uncertainty\rResidual time synchronization difference between ICT entities\nSuspension criteria / Stopping criteria\rElapsed time (fixed length experiment)\n","categories":"","description":"Characterization of recovery from failure","excerpt":"Characterization of recovery from failure","ref":"/docs/erigrid-2.0/tc17/tc17.ts2/","tags":"","title":"Test Specification TC17.TS2"},{"body":"Test Specification Definition ID\rTC23.1\nReference to Test Case\rTC23\nTitle of Test\rVerification of the reliability of Substation Automation Systems (SASs) with redundancy in the communication network\nTest Rationale\rWith the use of IEC 61850 standard, substations are nowadays becoming digitized and automated with digital relays/IEDs and a LAN based communication network for connecting these IEDs. Failure of the communication, even for the few milliseconds, may jeopardize critical functions such as protection and lead to catastrophic effects within or beyond the substation impacting the operation of grid. New redundant architectures, notably parallel redundancy protocol (PRP) and high High-Availability Seamless Redundancy (HSR) from IEC 62439-3, have been used to increase the reliability of IEC 61850 LAN based substation automation communication networks [1].\nPRP provides high reliability through two independent LAN networks. The PRP enabled nodes are connected to these two isolated networks, which operate in parallel as shown below in Fig. 1 below. Frames are duplicated in the source and are sent over both networks; the destination PRP enabled node receives packets from the first network and accepts it, if it is correct, and then the copy from the second network will be discarded as duplicate. HSR operation is similar to PRP but HSR uses a single LAN with a ring topology and it uses two independent paths (clockwise and counterclockwise). Both architectures aim to provide an ideal “zero recovery time” with no packet loss. This test aims to investigate the reliability of these two recent redundant communication networks in substation automation.\n[1] International Electrotechnical Commission [2] S. Kumar, N. Das and S. Islam, \"High performance communication redundancy in a digital substation based on IEC 62439-3 with a station bus configuration,\" 2015 Australasian Universities Power Engineering Conference (AUPEC), 2015, pp. 1-5, doi: 10.1109/AUPEC.2015.7324838.\nSpecific Test System (graphical)\rThe specific test system consists of a real-time grid simulator, protection IEDS, Ethernet switches (x2), communication cables (x2). The real-time simulator is used to model the power system dynamics as well as some IED functions such as Merging unit (generating sampled values), circuit breaker functionality. The physical IEDs (for protection) will be connected to the real-time simulator through the two redundant communication networks in a C-HIL setup.\nFig. 1: PRP Network Topology\nFig. 2: HSR Network Topology\nTarget measures\rEnd to end delay and packet loss of IEC 61850 GOOSE and sampled value (SV) messages after the introduction of fault. Availability and Mission reliability (ability to continually deliver service) of the communication network after the introduction fault.\rInput and output parameters\rInput parameters:\nFailure type\rFailure rate of components\rRepair rate of components\rCommunication network topology\rBackground traffic rate\rDegree of redundancy\rOutput parameters:\nMaximum packet delay\rPacket loss\rTime duration of service interruption\rTest Design\rThe test design is as follows.\nSystem starts with normal operating conditions, no fault and there will be a normal GOOSE and SV stream (every 10 ms and 0.25 ms respectively)\rAdd some background traffic to the ethernet switches accounting for traffic from other IEDs or other devices in the substation.\rIntroduce faults in the system. This could be:\rFailure in the communication network\rOR, simultaneous failure in the communication network and the power system\rDuring a failure in the communication network, the fail-over algorithm is activated and the system switches to the backup network with the redundant switches and network links. If there is also a failure in the power system right before or after the failure of the communication system failure, it will also change the GOOSE traffic behavior (burst of GOOSE messages will be transmitted).\rCollect the target measurements/metrics\rend to end delay of GOOSE and SV streams between the IEDs and the virtual devices (MUs) in the Opal RT.\rDown time of the communication between the IEDs and virtual MUs (if any)\rRepeat these steps by varying the failure scenarios, background traffic, redundancy type and degree.\rInitial system state\rNormal system state where there is no failure in the power and communication system. There will be a normal GOOSE (status update) between IEDs (also between IED and breakers), and SV streams from OPAL virtual MUs to the physical IEDs.\nEvolution of system state and test signals\rInitial state where there is no failure in the system (Normal GOOSE and SV streams)\rFailure of network components and/or the power system occur.\rThe GOOSE and SV traffic pattern will change (for power system failures). The IEDs will send burst of GOOSE messages for a certain duration to make sure that faults are cleared on time. When the IEDs or the PRP enabled ethernet switches detect a failure on the primary communication path (network), a fail-over function will be activated (in response to failure in the communication system)\rThe IEDs start to accept GOOSE and SV packets coming through the secondary path (network).\rGOOSE data rate will return to the normal rate.\rAfter a recovery of failed nodes (the communication network), IEDs and PRP enabled ethernet switches will revert back to accepting packets from the primary communication network.\rOther parameters\rTemporal order of contingency events\rICT failure causes PS fault\rPS fault causes ICT failure\rPS fault and ICT failure coincident\rTemporal resolution\r100 us\nSource of uncertainty\rBackground traffic data rate, configuration of the communication network (ethernet switches), Network devices or IED's capability to support the PRP/HSR architectures.\nSuspension criteria / Stopping criteria\rExceeding of quality attributes:\nCommunication is down for 200 milliseconds (protection related applications) or 3 second for SCADA- IED communication.\r","categories":"","description":"Verification of the reliability of Substation Automation Systems (SASs) with redundancy in the communication network","excerpt":"Verification of the reliability of Substation Automation Systems …","ref":"/docs/erigrid-2.0/tc23/tc23.1/","tags":"","title":"Test Specification TC23.1"},{"body":"What is it? An easily accessible use-case repository for users with different background, based on the use-case methodology defined in the standard IEC 62559-2:2015.\nSo far, three formats to describe use cases are supported: Excel documents and XML files. The solution is built in a modular way, so support for new use case formats can be added without changing the existing setup. Use case files are uploaded to certain repositories, where some logic will be triggered to process them. Then, the final files are be ready to be displayed in a web-based visualization. Where should I go next? Getting Started: Get started with editing and adding new use-cases BRIDGE: BRIDGE initiative use-cases PlatOne: BRIDGE initiative use-cases ","categories":"","description":"","excerpt":"What is it? An easily accessible use-case repository for users with …","ref":"/overview/","tags":"","title":"Overview"},{"body":"Get access If you do not have a GitHub account already, please sign up at GitHub.\nThere are two ways to contribute to the use case repository:\nrequesting direct write access to the repository (beginner friendly) creating a fork of the repo and sending a pull request (advanced) Requesting direct write access Write a mail to the repository manager (smartgridusecases@gmail.com) and indicate your github account name as well as the type of use cases that you would like to contribute:\nExcel XML MarkDown We will give you write access to the repository. Please check your inbox for an invitation link to the repository.\nPull request The advantage of this method is that you do not need to request access prior to creating / editing use cases.\nCreate a fork of a repository depending on the type of use case, by clicking the button in the top right corner:\nExcel (https://github.com/smart-grid-use-cases/excel2xml-input) XML (https://github.com/smart-grid-use-cases/xml2md-input) MarkDown (https://github.com/smart-grid-use-cases/github-pages) Then, apply your changes and send us a new pull request.\nUpload Your Use Case File Currently, we support three different input formats:\nExcel XML Markdown Excel First, you can download an Excel template file to prepare your use case.\nThen, sign in at github and follow this link.\nCurrently, every research project has its own folder. New use cases can be added to the folders by dropping the Excel files in the browser windows when you are in the associated project folder. If there are use case diagrams associated to the Excel file, please drop them in the same folder as the Excel file and insert the image names in the URI field in Excel.\nTo create new folders, the easiest way is to create the folder including a new Excel use case on your local computer first. Then, you can drop this folder including the Excel file into the browser window.\nInstead of directly dropping files in the browser window, you can also click “Add file” and then “Upload files”.\nDrag your Excel file into the browser.\nIf you like, you can leave a message to describe your change (optional).\nFinally, click “commit changes”.\nXML To upload XML files, sign in at github and follow this link.\nThen, you can upload the file as described for Excel use-case files.\nYou can also edit use cases directly in your browser. Just click on a use case and after that the pen icon in the top right. After editing the document, you need to commit your changes in the bottom of the page.\nMarkdown To upload Markdown files, sign in at github and follow this link.\nThen, you can upload the file as described for Excel use-case files.\nYou can also edit use cases directly in your browser. Just click on a use case and after that the pen icon in the top right. After editing the document, you need to commit your changes in the bottom of the page.\nCheck the Website Go to the Use Case section of the website.\nProcessing the changes may take some minutes.\nYou can also add diagrams if you upload them in a common image format, e.g. .png.\n","categories":"","description":"","excerpt":"Get access If you do not have a GitHub account already, please sign up …","ref":"/getting-started/","tags":"","title":"Getting Started"},{"body":"","categories":"","description":"","excerpt":"","ref":"/docs/erigrid-2.0/","tags":"","title":"ERIGrid 2.0"},{"body":"Document History Document History\rDate\rVersion\rDescription\rAuthor\r2023-04-03\n0.1\nfirst draft\nEdmund Widl (AIT)\n2024-01-25\n0.2\nAdded identification\nFilip Pröstl Andrén (AIT)\nControl Function Identification Control Function Identification\rControl Function ID\rName\rMENB-CF-PID\nPID controller for the hydraulic pump\nFunctional Description Functional Description\rBackground:\nSystem configuration MENB-SC includes a heat pump. A hydraulic pump controls the mass flow in the heat pump’s condenser loop, where cold water is drawn from the bottom of a storage tank, heated up in the heat pump’s condenser and fed back at the top of the tank.\nProblem formulation:\nThe operation of the heat pump is limited by a power consumption setpoint (coming from a voltage controller). The controller specified in this document regulates the mass flow rate through the heat pump’s condenser loop via the hydraulic pump such that this power consumption setpoint is met. Terminology Terminology\rPID controller\nA proportional-integral-derivative (PID) controller is a control loop mechanism employing feedback that is widely used in applications requiring continuously modulated control. A PID controller continuously calculates an error value e(t) as the difference between a desired setpoint (SP) and a measured process variable (PV) and applies a correction based on proportional, integral, and derivative terms (denoted P, I, and D respectively).\nMethodology Methodology\rThis control function implements a .\nLimitations Limitations\rN/A\nInputs meas_hp_p_el Control Function Input\rName\rmeas_hp_p_el\nType (according to SC description)\rMeasureConnection\nUnit\rkWel\nRange\r[0, 100]\nExpected update rate\r1 Hz\nDescription\rmeasurement of electrical power consumption of heat pump setpoint_hp_p_el Control Function Input\rName\rsetpoint_hp_p_el\nType (according to SC description)\rCtrlConnection\nUnit\rMWel\nRange\r[0, 0.15]\nExpected update rate\revery 5 min\nDescription\rsetpoint for power consumption of heat pump from voltage controller\nOutputs setpoint_cond_mflow Control Function Output\rName\rsetpoint_cond_mflow\nType (according to SC description)\rCtrlConnection\nUnit\rkg/s\nRange\r[0, 10]\nExpected update rate\r1 Hz\nDescription\rsetpoint for heat pump condenser mass flow\nUse Cases Heat pump operation Use Case Example\rHeat pump operation\rDate created\r2023-04-03\nActor\rPID controller\rhydraulic pump\rheat pump\rDescription\rThe mass flow through the heat pump’s condenser loop is determined by the operation of the hydraulic pump. With the help of a PID controller (see Figure 1) the mass flow of the hydraulic pump is regulated.\nPreconditions\rThe power consumption setpoint for the heat pump is not zero.\nPostconditions\rN/A\nPriority\rmedium\nFrequency of use\r1 Hz\nNormal course\rThe mass flow through the hydraulic pump is regulated using the heat pump’s power consumption as process variable and a setpoint (see Figure 1).\nPID controller parameters:\nKp = 1e-4\rTi = 10 s\rTd = 10 s\rAlternative course\rIn case the power consumption setpoint of the heat pump is set to zero, the hydraulic pump is switched off. The PID output is then set to zero, resulting in zero mass flow rate.\nExceptions\rN/A\nAssumptions\rN/A\nNotes and issues\rN/A\nDiagrams Diagrams\rSchematic view of the control setup\rFigure : PID control setup for regulating the heat pump’s power consumption.\nAlgorithms Algorithms\rController algorithm\rN/A Deterministic Functions Deterministic Functions\rError value:\ne(t)=meas_hp_p_el(t)-setpoint_hp_p_el(t)\nControl variable:\nsetpoint_cond_mflow (t)=Kp[e(t)+1/Ti∫0te(τ)dτ +Tdde(t)dt]\nStochastic Functions Stochastic Functions\rN/A\nDeployment Deployment\rA state-of-the-art pneumatic PID controller device is used for the deployment (see Figure 2).\nFigure : PID controller device (source: Wikipedia)\nReferences References\rN/A\n","categories":"","description":"PID controller for the hydraulic pump","excerpt":"PID controller for the hydraulic pump","ref":"/docs/erigrid-2.0/tc08/menb-cf-pid/","tags":"","title":"Control Function MENB-CF-PID"},{"body":"Document History Document History\rDate\rVersion\rDescription\rAuthor\r2021-05-13\n0.1\nfirst draft\nEvangelos Rikos (CRES)\n2021-05-18\n0.2\nupdate of diagrams and control concept based on discussion with partners\nEvangelos Rikos (CRES)\n2021-11-02\n1.0\nupdate controller specification to represent the final implemented benchmark setup\nEdmund Widl (AIT)\n2024-25-01\n1.1\nAdded identification\nFilip Pröstl Andrén (AIT)\nControl Function Identification Control Function Identification\rControl Function ID\rName\rMENB-CF-VC\nVoltage controller for the multi-energy network benchmark\nFunctional Description Functional Description\rBackground:\nSystem configuration MENB-SC specifies an electrical network, including a voltage controller, see Figure 1. The system comprises two PV systems, two (aggregated) electricity consumers, a heat pump and a simplified electrical distribution network consisting of two lines and two buses. The distribution grid is connected to the external electrical grid (equivalent voltage source).\nThis specific setup is typical for a local energy community (specifically a renewable local energy community) and, as such, allows to address the issue of exploiting the local PV generation in a way that avoids injection of extra energy to the upstream network (self-consumption). In order for an energy community to be autonomous, the size of the PV systems is such that at times high power generation may occur. However, high power generation from the PVs with no corresponding high consumption on the consumer side can lead to a significant voltage rise in parts of the grid (e.g., busbar bus_1). Therefore, synchronization of consumption with generation is necessary to ensure the power quality and avoid any disruption due to overvoltage limit violations.\nFigure : Electrical sub-system including the voltage controller\nProblem formulation:\nThe voltage controller specified in this document is intended to prevent overvoltages at busbar bus_1 due to high PV generation and simultaneous low power consumption by governing the operation of the heat pump accordingly. In the same way, it should prevent undervoltages due to increased power consumption and reduced PV generation.\nController scope:\nIn this context, the scope of this controller is to monitor the voltage at busbar bus_1 and increase or decrease the power consumption of the heat pump (controllable/flexible load) in order to keep the voltage within an allowed range.\nTerminology Terminology\rLocal energy community\nLocal energy communities (LEC) are a way to organize collective energy actions around open, democratic participation and governance and the provision of benefits for the members or the local community (Roberts et al., 2019).\nRenewable local energy community\nA special type of LEC that incorporate renewable energy sources, renewable local energy communities can be active in all energy sectors and involve activities in production, consumption and selling of renewable energy.\nFlexible load\nA load that has the capability of adjusting its consumption based on specific optimality criteria and/or control signals.\nMethodology Methodology\rThe rationale of the applied control methodology is based on the droop control approach used for distributed energy resources (DER) to support voltage variations (see also Figure 2):\nThe voltage at busbar bus_1 is periodically monitored (with a time resolution depending on the simulation setup, see test specification MENB-TS01).\rThe measured value of the bus voltage is compared to (subtracted from) the reference value (nominal voltage) to determine the deviation (error).\rIn case the measured voltage is within the allowed voltage range, no action is taken by the controller. Otherwise, in case the voltage error exceeds the allowed voltage range, a new setpoint for the heat pump’s power consumption is calculated to compensate for the deviation (see Figure 2 and definition of applied algorithm below).\rLimitations Limitations\rHeat pump consumption\nA major limitation in the operation of this control scheme is the maximum/minimum power that the heat pump can consume. In several cases of implementing the droop control technique it is possible that the required setpoint violates the operating limits of the controlled component. Therefore, in the selected implementation two limitations are considered:\nThe controller cannot request a power consumption from the heat pump above a certain limit (electrical power rating of compressor), regardless of the network condition. The controller cannot request a power consumption from the pump below a certain limit (minimal electrical power consumption for operating the compressor). However, the controller can request the heat pump to be switched off (set setpoint to 0).\rOperation veto\nThe control signals must not result in an actuation pattern that switches the heat pump on and off in rapid succession. Therefore, after switching the heat pump on, the voltage controller must not switch off the heat pump for a certain amount of time, regardless of the network conditions. Vice versa for switching the heat pump off. This is referred to as operation veto.\nTime resolution\nAnother important limitation is the time resolution selected for the simulation and, consequently, the control loop. In an actual system, voltage variations may take place at very small time scales (\u003c1s). In this case, however, slow (quasi-static) variations will be considered (i.e., in the order of minutes). Essentially, the specified voltage controller can be regarded as a tertiary voltage control scheme dealing with the slow (long-term) variations rather than the short-term dynamics.\nOutput signal granularity\nThe granularity of the output signal may be a limitation in view of the precision of the voltage control. The use of a discretization function leads to an approximation of the optimal value that would be required at every time instance. To ensure sufficient granularity, the right amount of discretization steps must be selected in advance, depending on the maximum power range of the heat pump. However, since this control scheme aims to contain voltage deviations and not to precisely compensate them, fine granularity is not crucial. Response dynamics\nA limitation factor can potentially be the time response of the heat pump after the setpoint changes. However, since a quasi-dynamic approach is assumed, the fast dynamics of the network voltage are neglected.\nInputs meas_voltage_pu Control Function Input\rName\rmeas_voltage_pu\nType\r(according to SC description)\rMeasureConnection\nUnit\rp.u.\nRange\r[0.8, 1.2]\nExpected update rate\r1-15 min (simulation step size)\nDescription\rvoltage at busbar bus_1 as measured by the voltage sensor (RMS voltage transducer)\nOutputs setpoint_hp_p_el Control Function Output\rName\rsetpoint_hp_p_el\nType\r(according to SC description)\rCtrlConnection\nUnit\rMWel\nRange\r[0, 0.1]\nExpected update rate\r1-15 min (simulation step size)\nDescription\rproposed heat pump setpoint for electrical consumption, sent to flex heat controller\nUse Cases Voltage support at distribution grid substation Use Case Example\rVoltage support at distribution grid substation\rDate created\r2021-05-13\nActor\rvoltage sensor (RMS voltage transducer) at busbar bus_1\rflex heat controller (controls the heat pump operation)\rheat pump\rDescription\rThe voltage controller modifies the setpoint of the heat pump’s active power consumption to contain/reduce the voltage deviation at busbar bus_1.\nPreconditions\rSetpoint for heat pump power consumption is within operational limits and there is no operational veto pending.\nPostconditions\rThe bus voltage is kept within the limits of operation.\nPriority\rmedium\nFrequency of use\rperiodically (according to simulation step size)\nNormal course\rThe controller measures the voltage deviation. If the deviation is within the allowed voltage range, no action is taken.\nAlternative course\rThe controller measures the voltage deviation. If the deviation is not within the allowed voltage range, a new setpoint is calculated and sent to the flex heat controller. The flex heat controller takes this setpoint into consideration when actuating the hydraulic pump in the heat pump’s condenser loop.\nExceptions\rN/A\nAssumptions\rN/A\nNotes and issues\rN/A\nDiagrams Diagrams\rSchematic view of the voltage control algorithm\rFigure : Schematic view of the voltage control algorithm\nAlgorithms Algorithms\rVoltage controller algorithm\rBEGIN ALGORITHM (voltage controller)\rDETERMINE operation veto still pending\rIF operation veto pending THEN\rEXIT ALGORITHM (voltage controller)\rEND IF\rREAD meas_voltage_pu // get latest voltage measurement\rREAD setpoint_hp_p_el // get latest value for setpoint\r// lower voltage band threshold depends on heat pump status\rIF heat pump is switched off THEN\rSET delta_vm_lower_pu = delta_vm_lower_pu_hp_off\rELSE\rSET delta_vm_lower_pu = delta_vm_lower_pu_hp_on\rEND IF\rCOMPUTE delta_v_meas_pu = meas_voltage_pu - 1\rIF delta_vm_lower_pu \u003c delta_v_meas_pu \u003c delta_vm_upper_pu THEN\rIF heat pump is switched off AND NOT operation veto pending THEN\rSET setpoint_hp_p_el = hp_p_el_mw_min\rSET operation veto to pending\rEND IF\rELSE\r// update setpoint\rCOMPUTE res = k_p * (delta_v_meas_pu - delta_vm_deadband) / hp_p_el_mw_step\rCOMPUTE step_res = int(res)\rIF fabs(res - step_res) \u003e hp_p_el_mw_step THEN\rSET setpoint_hp_p_el = setpoint_hp_p_el + hp_p_el_mw_step * (step_res + 1)\rEND IF\r// check operational constraints\rIF new setpoint above max. heat pump consumption THEN\rSET setpoint_hp_p_el = hp_p_el_mw_rated\rELSE IF new setpoint below min. heat pump consumption AND \\\rNOT no operation veto pending THEN\rSET setpoint_hp_p_el = 0\rSET operation veto to pending\rELSE IF new setpoint below min. heat pump consumption AND operation veto pending THEN\rSET setpoint_hp_p_el = hp_p_el_mw_min\rEND IF\rEND IF\rEND ALGORITHM (voltage controller) Deterministic Functions Deterministic Functions\rN/A\nStochastic Functions Stochastic Functions\rN/A\nDeployment (optional) Deployment (optional)\rN/A\nReferences References\r[1] J. Rocabert, A. Luna, F. Blaabjerg, and P. Rodriguez, “Control of Power Converters in AC Microgrids”, IEEE Trans. Power Electron., vol. 27, no. 11, pp. 4734-4749. Nov. 2012.\n","categories":"","description":"Voltage controller for the multi-energy network benchmark","excerpt":"Voltage controller for the multi-energy network benchmark","ref":"/docs/erigrid-2.0/tc12/menb-cf-vc/","tags":"","title":"Control Function MENB-CF-VC"},{"body":"Document History Document History\rDate\rVersion\rDescription\rAuthor\r2021-03-23\n0.1\nFirst draft version\nEdmund Widl (AIT)\n2021-05-17\n0.2\nAdd quasi-static thermal network system configuration\nChristopher Wild (DTU)\n2021-09-01\n0.3\nAdd additional information for the electric network configuration\nTran The Hoang (CEA)\n2021-11-19\n1.0\nUpdate system configuration to the final implemented benchmark setup\nEdmund Widl (AIT)\n2022-11-11\n1.1\nAdapt to ERIGrid 2.0 SC template:\nfocus on testing / simulation\rmake template parseable\rimproved SBD\rEdmund Widl (AIT)\nSystem Configuration Identification System Configuration Identification\rSystem configuration ID [ID]\rName\rMENB-SC\nSystem configuration for the multi-energy network benchmark Short Description of Context Short Description of Context\rContext description\rThe system configuration described in this document has been developed as part of a reference setup for multi-domain energy network simulations. This reference setup intends to inspire the use of co-simulation for the assessment of multi-energy systems.\nThe level of detail was chosen in a way that allows to apply different modelling approaches for the individual subsystems. For instance, the thermal network could be implemented either in a quasi-static model (series of equilibrium states) or a dynamic model (hydraulic transients).\nThe system configuration resembles part of the sub-urban area of a typical Central European city. The climate is typical for Central Europe with its moderately warm summers and cold winters. Solar irradiation ranges between 800 and 1200 kWh/m². Ambient ground temperature is constant at 8°C.\nKey figures\relectrical network: 2 consecutive lines (0.3 km each), connected to external grid\rthermal network: 3 main consecutive pipes (supply and return, 0.5 km each), connected to external grid\rpower-to-heat facility: 1 heat pump (max. 100 kWel) connected to a thermal tank (100 m3) feeding into the thermal network\rconsumption: 2 consumers, each representing the aggregated loads (electrical and thermal) of an urban quarter and connected to both networks\rgeneration: 2 PV systems (one of 150 kWel, peak and one of 50 kWel, peak)\rKeywords\rlocal consumption of high PV generation\rdecentralized heat generation\rheat pumps\rcoupled heat and electric networks\rOntology / namespace (optional)\rN/A\nSystem Breakdown Diagram System Breakdown Diagram\rGraphical Representation of System Configuration Graphical Representation of System Configuration\rOverview\rElectrical Grid (detailed view)\rThermal grid (detailed view):\rTerminal Description Terminal Description\rName\rType ID\rType of exchange\rConnected component classes\rComment\rHeat connector\nHeat-Connection\nheat flow (water mass flow)\nExternalElectricGrid, Line, Busbar, Load, PVSystem, HeatPump\nconnects components of the thermal network\nElectric power connector\nElectric-Connection\nelectric power flow (electric current)\nExternalThermalGrid, Pipe, Junction, Bypass, HeatExchanger, Tank, HeatPump, Pump\nconnects components of the electrical network\nMeasurement connector\nMeasure-Connection\nmeasurement exchange (communicationsignal) Bus, Tank, HeatPump, VoltageController, FlexHeatController\nconnects sensors with controllers via a communication link\nControl connector\nCtrl-Connection\ncontrol signal exchange (communicationsignal)\nPump, HeatPump, VoltageController, FlexHeatController\nconnects controllers with actuators via a communication link\nComponent descriptions ElectricNetwork Component description\rTag in SBD\r1\nLevel in SBD\r1\nClass ID\rElectricNetwork\nParent class\r-\nContained in\rMENB-SC\nDescription\rThis element represents an electric distribution network. It contains interconnected components with the purpose of delivering electricity to the consumers.\nNumber of components in SC\r1\nAttributes\rFunctionality\rThe electrical network’s actual functionality is determined by its components. This class serves as logical unit containing these components and has itself no functionality.\nPhysical characteristics\r-\nTerminals\rTerminal ID\rType ID\rDescription\r-\n-\n-\nInstances\rInstance ID\rInstance parameterization\rel_net\n-\nExternalElectricGrid Component description\rTag in SBD\r1.1\nLevel in SBD\r2\nClass ID\rExternalElectricGrid\nParent class\r-\nContained in\rel_net\nDescription\rThis element represents a connection to an external electrical grid supplying the local electrical distribution network.\nNumber of components in SC\r1\nAttributes\rFunctionality\rThe external grid controls the voltage and the phase angle of the busbar to which it is connected.\nPhysical characteristics\rf (float) - Nominal frequency [Hz]\rvn (float) - Nominal voltage [kV]\rTerminals\rTerminal ID\rType ID\rDescription\rplug_ext\nElectricConnection\nconnection point of the electrical distribution network to the external grid\nInstances\rInstance ID\rInstance parameterization\rext_el_grid\nf [Hz]: 220\rvn [kV]: 0.4\rLine Component description\rTag in SBD\r1.2\nLevel in SBD\r2\nClass ID\rLine\nParent class\r-\nContained in\rel_net\nDescription\rThis element represents a power line of an electrical distribution network.\nNumber of components in SC\r2\nAttributes\rFunctionality\rThe power lines transport electricity between the busbars of an electrical network.\nPhysical characteristics\rl (float): line length [km]\rr (float): resistance [Ω/km] x (float): reactance [Ω/km]\rc (float): capacitance [nF/km]\rmax_i (float): rated current [kA]\rTerminals\rTerminal ID\rType ID\rDescription\rplug_line_a\nElectricConnection\nconnection to a bus of the electrical distribution network on one side of the power line\nplug_line_b\nElectricConnection\nconnection to a bus of the electrical distribution network on other side of the power line\nInstances\rInstance ID\rInstance parameterization\rline_1\nl [km]: 0.3\rr [Ω/km]: 0.306\rx [Ω/km]: 0.29\rc [nF/km]: 13.2\rmax_i [kA]: 0.35\rline_2\nl [km]: 0.3\rr [Ω/km]: 0.306\rx [Ω/km]: 0.29\rc [nF/km]: 13.2\rmax_i [kA]: 0.35\rBusbar Component description\rTag in SBD\r1.3\nLevel in SBD\r2\nClass ID\rBusbar\nParent class\r-\nContained in\rel_net\nDescription\rThis element represents an electrical busbar used in substations for local power distribution.\nNumber of components in SC\r2\nAttributes\rFunctionality\rThe electrical busbars connect the components of the electrical network (lines, loads, PV systems).\nPhysical characteristics\rvn (float) - nominal voltage [kV]\rTerminals\rTerminal ID\rType ID\rDescription\rplug_bus\nElectricConnection\nconnection point to other components (lines, loads, PV systems) of the electrical distribution network\nmeas_voltage_pu\nMeasureConnection\nvoltage measurement (for the voltage controller) [p.u.]\nInstances\rInstance ID\rInstance parameterization\rbus_1\nvn [kV]: 0.4\rbus_2\nvn [kV]: 0.4\rLoad Component description\rTag in SBD\r1.4\nLevel in SBD\r2\nClass ID\rLoad\nParent class\r-\nContained in\rel_net\nDescription\rThis element represents a component of the electrical network that consumes (active) electric power.\nNumber of components in SC\r3\nAttributes\rFunctionality\rEach load represents an aggregation of the (active) power consumption of several consumers (e.g., households connected to an LV feeder).\nPhysical characteristics\rvn (float): nominal voltage [kV]\rp (float): nominal active power consumption [kW]\rTerminals\rTerminal ID\rType ID\rDescription\rplug_load\nElectricConnection\nconnection to a bus of the electrical distribution network through which power is consumed\nInstances\rInstance ID\rInstance parameterization\rload_1\nvn [kV]: 0.4\rp [kW]: 120\rload_2\nvn [kV]: 0.4 p [kW]: 45\rPVSystem Component description\rTag in SBD\r1.5\nLevel in SBD\r2\nClass ID\rPVSystem\nParent class\r-\nContained in\rel_net\nDescription\rThis element represents a PV system comprising several PV panels.\nNumber of components in SC\r2\nAttributes\rFunctionality\rThe PV systems generates electrical power and supplies it to the electrical distribution network via a busbar connection. Its generation profile is independent of the network conditions.\nPhysical characteristics\rP_peak (float): peak production [kW]\rTerminals\rTerminal ID\rType ID\rDescription\rplug_pv\nElectricConnection\nconnection to a bus of the electrical distribution network through which the generated power is delivered to the electrical network\nInstances\rInstance ID\rInstance parameterization\rpv_1\nP_peak [kW]: 150\rpv_2\nP_peak [kW]: 50\rThermalNetwork Component description\rTag in SBD\r2\nLevel in SBD\r1\nClass ID\rThermalNetwork\nParent class\r-\nContained in\rMENB-SC\nDescription\rThis element represents the thermal network that delivers a mass flow of hot water to satisfy the heat demand of the connected consumers.\nNumber of components in SC\r1\nAttributes\rFunctionality\rThe thermal network’s actual functionality is mostly determined by its components. This class serves as logical unit containing these components and has itself no functionality.\nPhysical characteristics\r-\nTerminals\rTerminal ID\rType ID\rDescription\r-\n-\n-\nInstances\rInstance ID\rInstance parameterization\rth_net\n-\nExternalThermalGrid Component description\rTag in SBD\r2.1\nLevel in SBD\r2\nClass ID\rExternalThermalGrid\nParent class\r-\nContained in\rth_net\nDescription\rThis element represents a connection to an external higher-level thermal network supplying the local thermal network.\nNumber of components in SC\r1\nAttributes\rFunctionality\rThe external thermal network acts as a pressure source with a prescribed supply temperature. It is considered an ideal heating unit without any constraints regarding mass flow or ramp rates.\nPhysical characteristics\rp_ext (float): pressure of the external thermal network [bar]\rT_supply_ext (float): nominal supply temperature [°C]\rTerminals\rTerminal ID\rType ID\rDescription\rflange_supply\nHeatConnection\nsupply line connection to external thermal grid\nflange_return\nHeatConnection\nreturn line connection to external thermal grid\nInstances\rInstance ID\rInstance parameterization\rext_th_grid\np_ext [bar]: 6\rT_supply_ext [°C]: 75\rPipe Component description\rTag in SBD\r2.2\nLevel in SBD\r2\nClass ID\rPipe\nParent class\r-\nContained in\rth_net\nDescription\rThis element represents a straight pipe with constant cross section used to transport water within the thermal network.\nNumber of components in SC\r14 (7x supply, 7x return)\nAttributes\rFunctionality\rDetermines the transport effects (pressure drop, flow delays, etc.) for a mass flow based on hydraulic principles. Depending on the insulation of the pipe and the surrounding temperature, the temperature of the water transported through the pipe changes. Physical characteristics\rl (float): pipe length [km]\rd (float): pipe diameter [m]\ralpha (float): heat transfer coefficient [Wm-2K-1]\rk (float): roughness of pipe material [mm]\rTerminals\rTerminal ID\rType ID\rDescription\rflange_a\nHeatConnection\nconnection to another component of the thermal network on one side of the pipe\nflange_b\nHeatConnection\nconnection to another component of the thermal network on other side of the pipe\nInstances\rInstance ID\rInstance parameterization\rpipe_1_supply\nl [km]: 0.5\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_1_return\nl [km]: 0.5\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_2_supply\nl [km]: 0.5\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_2_return\nl [km]: 0.5\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_4_supply\nl [km]: 0.5\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_4_return\nl [km]: 0.5\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_tank_supply\nl [km]: 0.01\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_tank_return\nl [km]: 0.01\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_3_supply\nl [km]: 0.01\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_3_return\nl [km]: 0.01\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_5_supply\nl [km]: 0.01\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_5_return\nl [km]: 0.01\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_6_supply\nl [km]: 0.01\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_6_return\nl [km]: 0.01\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rJunction Component description\rTag in SBD\r2.3\nLevel in SBD\r2\nClass ID\rJunction\nParent class\r-\nContained in\rth_net\nDescription\rThis element represents a tee junction for connecting three pipes.\nNumber of components in SC\r6\nAttributes\rFunctionality\rUsed either for splitting the mass flow from a single pipe into separate mass flows of two pipes of or joining mass flows from two separate pipes into a single mass flow for one pipe. Splitting/joining follows basic hydraulic rules (e.g., mass conservation).\nPhysical characteristics\r-\nTerminals\rTerminal ID\rType ID\rDescription\rflange_1\nHeatConnection\nconnection to pipe 1\nflange_2\nHeatConnection\nconnection to pipe 2\nflange_3\nHeatConnection\nconnection to pipe 3\nInstances\rInstance ID\rInstance parameterization\rjunction_1_supply\n(branch-off from supply line to consumers)\njunction_2_supply\n(branch-off from supply line to consumers)\njunction_1_return\nbranch-off from return line to consumers\njunction_2_return\nbranch-off from return line to consumers\njunction_tank_supply\nbranch-off from supply line to tank\njunction_tank_return\nbranch-off from return line to tank\nHeatExchanger Component description\rTag in SBD\r2.4\nLevel in SBD\r2\nClass ID\rHeatExchanger\nParent class\r-\nContained in\rth_net\nDescription\rThis element represents a heat exchanger acting as an aggregated heat consumer in the thermal network.\nNumber of components in SC\r2\nAttributes\rFunctionality\rThe heat exchanger is fed with hot water from the thermal network’s supply line. The mass flow through the heat exchanger is adjusted to reach a pre-defined return temperature, depending on the current heat demand from the aggregated consumer.\nPhysical characteristics\rT_return_target (float): set-point for return temperature [°C]\nTerminals\rTerminal ID\rType ID\rDescription\rflange_supply\nHeatConnection\ninlet of heat exchanger from supply line\nflange_return\nHeatConnection\noutlet of heat exchanger to return line\nInstances\rInstance ID\rInstance parameterization\rhex_1\nT_return_target [°C]: 40\rhex_2\nT_return_target [°C]: 40\rBypass Component description\rTag in SBD\r2.5\nLevel in SBD\r2\nClass ID\rBypass\nParent class\r-\nContained in\rth_net\nDescription\rThis element represents the bypass of the thermal network.\nNumber of components in SC\r1\nAttributes\rFunctionality\rIdeal valve that allows to regulate the water mass flow from the supply line to the return line independently of the consumers.\nPhysical characteristics\r-\nTerminals\rTerminal ID\rType ID\rDescription\rflange_supply\nHeatConnection\ninlet of bypass from supply line\nflange_return\nHeatConnection\noutlet of bypass to return line\nInstances\rInstance ID\rInstance parameterization\rbypass\n-\nPowerToHeatFacility Component description\rTag in SBD\r3\nLevel in SBD\r1\nClass ID\rPowerToHeatFacility\nParent class\r-\nContained in\rMENB-SC\nDescription\rThis element represents a power-to-heat facility comprising a heat pump connected to a thermal tank, which feeds into the thermal network’s supply line to support its operation. By consuming local excess PV generation, the power-to-heat facility can be used at the same time to improve the stability of the electrical network and support the supply of the thermal network. Its components are actuated by the flex heat controller.\nNumber of components in SC\r1\nAttributes\rFunctionality\rThe power-to-heat facility’s actual functionality is determined by its components. This class serves as logical unit containing these components and has itself no functionality.\nPhysical characteristics\r-\nTerminals\rTerminal ID\rType ID\rDescription\r-\n-\n-\nInstances\rInstance ID\rInstance parameterization\rp2h\n-\nHeatPump Component description\rTag in SBD\r3.1\nLevel in SBD\r2\nClass ID\rHeatPump\nParent class\r-\nContained in\rp2h\nDescription\rThis element represents a heat pump with constant condenser output temperature.\nNumber of components in SC\r1\nAttributes\rFunctionality\rThe source for the evaporator is the thermal network’s return line. The condenser’s output is fed to the thermal storage tank.\nPhysical characteristics\rP_rated_max (float): electrical power rating of compressor [kWel]\rP_rated_min (float): minimal electrical power consumption for operating the compressor [kWel]\rP_0 (float): electrical stand-by power consumption [kWel]\rT_evap_min (float): minimal evaporator outlet temperature [°C]\rT_cond_max (float): maximum condenser outlet temperature [°C]\rT_cond_target (float): condenser outlet temperature setpoint [°C]\reta_sys (float): ratio between work provided by the pump and available thermodynamic work [-]\reta_comp (float): compressor efficiency [-]\rlambda_comp (float): compressor time constant [s-1]\rTerminals\rTerminal ID\rType ID\rDescription\rplug_load\nElectricConnection\nconnection to a bus of the electrical distribution network through which power is consumed\nflange_evap_in\nHeatConnection\ninlet of heat pump evaporator from return line\nflange_evap_out\nHeatConnection\noutlet of heat pump evaporator to return line\nflange_cond_in\nHeatConnection\ninlet of heat pump condenser from tank\nflange_cond_out\nHeatConnection\noutlet of heat pump condenser to tank\nmeas_p_el\nMeasureConnection\nmeasurement of electrical power consumption (for flex heat controller) [kWel]\nInstances\rInstance ID\rInstance parameterization\rhp\nP_rated [kWel]: 100\rP_0 [kWel]: 0.3\rT_evap_min [°C]: 20\rT_cond_max [°C]: 85\rT_cond_target [°C]: 75\reta_sys [-]: 0.5\reta_comp [-]: 0.7\rlambda_comp [s-1]: 0.2\rTank Component description\rTag in SBD\r3.2\nLevel in SBD\r2\nClass ID\rTank\nParent class\r-\nContained in\rp2h\nDescription\rThis element represents a stratified hot water storage tank.\nNumber of components in SC\r1\nAttributes\rFunctionality\rThe tank has two hydraulic loops (also see pumps below):\ncold water is drawn from the bottom of the tank, heated up by the heat pump and fed back at the top of the tank\rhot water is drawn from the top of the tank and fed to the heating network’s supply line; simultaneously an equal amount of cold water is drawn from the heating network’s return line to refill the tank\rPhysical characteristics\rV (float): tank volume [m3]\rh (float): height of tank (without insulation) [m]\rd (float): thickness of insulation [m]\rk (float): specific heat conductivity of insulation [Wm-1K-1]\rN (int): number of volume segments [-]\rTerminals\rTerminal ID\rType ID\rDescription\rflange_tank_supply\nHeatConnection\nhot water outlet of tank to supply line\nflange_tank_return\nHeatConnection\ncold water inlet from return line to tank\nflange_hp_out\nHeatConnection\ncold water outlet from tank to heat pump condenser\nflange_hp_in\nHeatConnection\nhot water inlet from heat pump condenser to tank\nmeas_temp\nMeasureConnection\ntank temperature measurement (for flex heat controller) [°C]\nInstances\rInstance ID\rInstance parameterization\rtank\nV [m3]: 100\rh [m]: 9.2\rd [m]: 0.1\rk [Wm-1K-1]: 0.03\rN [-]: 10\rPump Component description\rTag in SBD\r3.3\nLevel in SBD\r2\nClass ID\rPump\nParent class\r-\nContained in\rp2h\nDescription\rThis element represents a water pump with prescribed mass flow rate.\nNumber of components in SC\r2\nAttributes\rFunctionality\rIdeal water pump that generates a mass flow according to the setpoint. Moves the water in the following loops of the power-to-heat facility:\ncondenser loop: pump hot water from the heat pump condenser to the tank\rnetwork support loop: pump hot water from the tank to the supply line\rPhysical characteristics\r-\nTerminals\rTerminal ID\rType ID\rDescription\rflange_in\nHeatConnection\npump inlet\nflange_out\nHeatConnection\npump outlet\nsetpoint_mflow\nCtrlConnection\nset-point for pump mass flow (from flex heat controller)\nInstances\rInstance ID\rInstance parameterization\rpump_cond\npump for tank charging loop\npump_tank\npump for tank discharging loop\nController Component description\rTag in SBD\r4\nLevel in SBD\r1\nClass ID\rController\nParent class\r-\nContained in\rMENB-SC\nDescription\rThis element serves as parent class for concrete controller implementations.\nNumber of components in SC\r-\nAttributes\rFunctionality\rControllers govern the operation of the system.\rPhysical characteristics\r-\nTerminals\rTerminal ID\rType ID\rDescription\r-\n-\n-\nInstances\rInstance ID\rInstance parameterization\r-\n-\nVoltageController Component description\rTag in SBD\r4.1\nLevel in SBD\r2\nClass ID\rVoltageController\nParent class\rController\nContained in\r-\nDescription\rThis element represents a voltage controller in the electrical distribution network.\nNumber of components in SC\r1\nAttributes\rFunctionality\rThis controller monitors the voltage at bus_1 and proposes a power consumption setpoint for the heat pump (controllable/flexible load) to keep the voltage within acceptable limits.\rPhysical characteristics\rdelta_vm_up (float): upper threshold for turning off the heat pump [p.u.]\rdelta_vm_low_hp_on (float): lower threshold for turning on the heat pump [p.u.]\rdelta_vm_low_hp_off (float): lower threshold for turning off the heat pump [p.u.]\rdelta_vm_deadband (float): deadband size [p.u.]\rhp_p_el_mw_min (float): minimum operating point (minimal allowed power consumption) of heat pump [MWe]\rk_p (float): the controller's proportional term [-]\rTerminals\rTerminal ID\rType ID\rDescription\rmeas_voltage_pu\nMeasureConnection\nvoltage measurement at bus_1 [p.u.]\nsetpoint_hp_p_el\nCtrlConnection\nproposed heat pump setpoint for electrical consumption [MWel]\nInstances\rInstance ID\rInstance parameterization\rvoltage_ctrl\ndelta_vm_up [p.u.]: 0.1\rdelta_vm_low_hp_on [p.u.]: – 0.1\rdelta_vm_low_hp_off [p.u.]: – 0.08\rdelta_vm_deadband [p.u.]: 0.03\rhp_p_el_mw_min [kWel]: 35\rk_p [-]: 0.15\rFlexHeatController Component description\rTag in SBD\r4.2\nLevel in SBD\r2\nClass ID\rFlexHeatController\nParent class\rController\nContained in\r-\nDescription\rThis element represents a dedicated controller for operating the power-to-heat facility.\nNumber of components in SC\r1\nAttributes\rFunctionality\rThe flex heat controller decides whether the heat supply is covered entirely through the external grid or whether the power-to-heat facility supports by discharging the tank. If required, the heat pump is used to charge the tank, taking into account the power consumption threshold from the voltage controller (i.e., the power consumption never exceeds the setpoint, but may be less).\rPhysical characteristics\rT_tank_max (float): maximum tank temperature [°C]\rT_tank_min (float): minimum tank temperature [°C]\rmdot_tank_out_setpoint (float): setpoint for tank discharge mass flow rate [kg/s]\rTerminals\rTerminal ID\rType ID\rDescription\rmeas_tank_temp\nMeasureConnection\nmeasurement of tank temperature [°C]\nmeas_hp_p_el\nMeasureConnection\nmeasurement of electrical power consumption of heat pump [kWel]\nsetpoint_hp_p_el\nCtrlConnection\nsetpoint for power consumption of heat pump from voltage controller [MWel]\nsetpoint_tank_mflow\nCtrlConnection\nsetpoint for tank discharge mass flow [kg/s]\nsetpoint_cond_mflow\nCtrlConnection\nsetpoint for heat pump condenser mass flow [kg/s]\nInstances\rInstance ID\rInstance parameterization\rflex_heat_ctrl\nT_tank_max [°C]: 72\rT_tank_min [°C]: 65\rConnection points Connection points\rConnection from\rcomponent\rConnection from\rterminal\rConnection from\rcomponent\rConnection from\rterminal\rext_el_grid\nplug_ext\nline_1\nplug_line_a\nbus_1\nplug_bus\nline_1\nplug_line_b\nbus_1\nplug_bus\nline_2\nplug_line_a\nbus_1\nplug_bus\nload_1\nplug_load\nbus_1\nplug_bus\nhp\nplug_load bus_1\nplug_bus\npv_1\nplug_pv\nbus_2\nplug_bus\nline_2\nplug_line_b\nbus_2\nplug_bus\nload_2\nplug_load\nbus_2\nplug_bus\npv_2\nplug_pv\next_th_grid\nflange_supply\npipe_1_supply\nflange_a\next_th_grid\nflange_return\npipe_1_return\nflange_b\njunction_tank_supply\nflange_1\npipe_1_supply\nflange_b\njunction_tank_supply\nflange_2\npipe_tank_supply\nflange_b\njunction_tank_supply\nflange_3\npipe_2_supply\nflange_a\njunction_tank_return\nflange_1\npipe_2_return\nflange_b\njunction_tank_return\nflange_2\npipe_tank_return\nflange_a\njunction_tank_return\nflange_3\nhp\nflange_evap_in\njunction_1_supply\nflange_1\npipe_2_supply\nflange_b\njunction_1_supply\nflange_2\npipe_3_supply\nflange_a\njunction_1_supply\nflange_3\npipe_4_supply\nflange_a\njunction_1_return\nflange_1\npipe_4_return\nflange_b\njunction_1_return\nflange_2\npipe_3_return\nflange_b\njunction_1_return\nflange_3\npipe_2_return\nflange_a\njunction_2_supply\nflange_1\npipe_4_supply\nflange_b\njunction_2_supply\nflange_2\npipe_5_supply\nflange_a\njunction_2_supply\nflange_3\npipe_6_supply\nflange_a\njunction_2_return\nflange_1\npipe_6_return\nflange_b\njunction_2_return\nflange_2\npipe_5_return\nflange_b\njunction_2_return\nflange_3\npipe_4_return\nflange_a\nhex_1\nflange_supply\npipe_3_supply\nflange_b\nhex_1\nflange_return\npipe_3_return\nflange_a\nhex_2\nflange_supply\npipe_5_supply\nflange_b\nhex_2\nflange_return\npipe_5_return\nflange_a\nhp\nflange_evap_out\npipe_1_return\nflange_a\nhp\nflange_cond_in\npump_cond\nflange_out\nhp\nflange_cond_out\ntank\nflange_hp_in\nhp\nmeas_p_el\nflex_heat_ctrl\nmeas_hp_p_el\ntank\nmeas_temp\nflex_heat_ctrl\nmeas_tank_temp\ntank\nflange_hp_out\npump_cond\nflange_in\ntank\nflange_tank_return\npipe_tank_return\nflange_b\ntank\nflange_tank_supply\npump_tank\nflange_in\npump_tank\nflange_out\npipe_tank_supply\nflange_a\nbypass\nflange_supply\npipe_6_supply\nflange_b\nbypass\nflange_return\npipe_6_return\nflange_a\nvoltage_ctrl\nmeas_voltage_pu\nbus_1\nmeas_voltage_pu\nvoltage_ctrl\nsetpoint_hp_p_el\nflex_heat_ctrl\nsetpoint_hp_p_el\nflex_heat_ctrl\nsetpoint_tank_mflow\npump_tank\nsetpoint_mflow\nflex_heat_ctrl\nsetpoint_cond_mflow\npump_cond\nsetpoint_mflow\n","categories":"","description":"System configuration for the multi-energy network benchmark ","excerpt":"System configuration for the multi-energy network benchmark ","ref":"/docs/erigrid-2.0/tc12/menb-sc/","tags":"","title":"System Configuration MENB-SC"},{"body":"Please have a look at the Getting Started section. We still have to define more detailed contribution guidelines.\n","categories":"","description":"How to contribute to the test-case repository\n","excerpt":"How to contribute to the test-case repository\n","ref":"/contribution-guidelines/","tags":"","title":"Contribution Guidelines"},{"body":"","categories":"","description":"","excerpt":"","ref":"/docs/","tags":"","title":"Test Cases"},{"body":"","categories":"","description":"","excerpt":"","ref":"/categories/","tags":"","title":"Categories"},{"body":" ","categories":"","description":"","excerpt":" ","ref":"/community/","tags":"","title":"Community"},{"body":"\rOverview\rGetting Started\rContribution Guidelines\rHow to contribute to the test-case repository\nTest Cases\r","categories":"","description":"","excerpt":"\rOverview\rGetting Started\rContribution Guidelines\rHow to contribute to …","ref":"/","tags":"","title":"ERIGrid 2.0 Test Case Repository"},{"body":"","categories":"","description":"","excerpt":"","ref":"/tags/","tags":"","title":"Tags"}]