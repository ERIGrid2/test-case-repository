[{"body":"Identification ID 01\nAuthor OCT\nVersion 2\nProject ERIGrid 2.0\nDate 03/05/2021\nTest Case Definition Name of the Test Case Control of voltage with an on-load tap change controller\nNarrative The aim of this test case is to prove that an on-load tap changer controller “OLTC” is able to regulate the voltage level of the distribution network to the required value as stipulated both by international standards and by the network operator. This regulation would happen when the components connected to its low voltage side or when external anomalies such as the weather disturbing the normal behavior of the grid voltage. Depending on the control strategy, the measured value could come from locally measured values, remotely measured values, or even from end-user (smart meter) measurements.\nFunction(s) under Investigation (FuI) The function under test is the voltage level control\nObject under Investigation (OuI) OLTC controller The communication infrastructure between the controller and the RTU. Flexible loads and sources on the demand side Domain under Investigation (DuI) Electric Power System, Communication, Control\nPurpose of Investigation (PoI) Verify if the performance of OLTC controller is adequate to maintain the voltage level within the required limits\nCharacterize the OLTC operating performance in terms of loss reduction and hosting capacity enhancement.\nSystem under Test (SuT) The SuT is composed real experimental grid with the follow-ing components:\nGenerator. OLTC Transformers. automated switchgear with RTUs. Controllable loads Communication facilities Functions under Test (FuT) OLTC controller regulating the voltage. Communication of ICT with the RTU. Interaction of the OLTC with the SuT configuration and conditions. Loads and generation control. Test criteria (TCR) The OLTC shall be able to control voltage with the pre-established limits in a predefined time-frame.\nTarget Metrics (TM) Voltage (V) on low-voltage side of transformer. Operation time (s). Number of TAP position changes. Variability Attributes (VA) Voltage variation. Control of loads and generation Errors in measurement Errors in Communication Loss of a line/generator Quality Attributes (QA) Complies with the quality standards, Maintain voltages within the ±10% specified limit. Qualification Strategy The different tests will create situations where there is a significant variability in voltage in the test circuit setup. The PoI will be met when it is verified that the variability is controlled, and the voltage maintained within the limits set out by the corresponding standards.\n","categories":"","description":"Control of voltage with an on-load tap change controller","excerpt":"Control of voltage with an on-load tap change controller","ref":"/test-case-repository/docs/erigrid-2.0/tc01/","tags":"","title":"Test Case 01"},{"body":"Test Specification Definition ID 01.01\nReference to Test Case 01\nTitle of Test Control of voltage with an on-load tap change controller\nTest Rationale Verify that an on-load tap changer controller “OLTC” is able to regulate the voltage level of the distribution network to the required value as stipulated both by international standards and by the network operator\nSpecific Test System (graphical) Grid voltage levels may be defined in specific cases, but the MV range expected is 0-36Kv.\nTarget measures Voltage (V). Operation time (s). TAP position Number of TAP position changes Input and output parameters Inputs:\nVoltage (V) TAP position TAP direction (up/down) Outputs:\nVoltage (V) Operation time (s) TAP position Other:\nNumber of TAP position changes Operation delay time (s) Test Design Initialization of system (network, OLTC controller) Measurement of input parameters Calculation of optimal TAP position Output of optimal set points to voltage regulator Repeat Initial system state System in steady-state at nominal grid voltage OLTC controller in ready state Communications established Evolution of system state and test signals Voltage signals monitored from start of experiment. Disturbances on the network are stabilized by changing tap position to return grid voltage level to within permitted grid voltage limits..\nOther parameters n/a\nTemporal resolution 1ms\nSource of uncertainty Communication delays, power supply fluctuations\nSuspension criteria / Stopping criteria Uncontrollable abnormal system conditions, communications failures\n","categories":"","description":"Control of voltage with an on-load tap change controller","excerpt":"Control of voltage with an on-load tap change controller","ref":"/test-case-repository/docs/erigrid-2.0/tc01/01.01/","tags":"","title":"Test Specification 01.01"},{"body":"Experiment Specification Definition ID 01.01.01\nReference to Test Specification 01\nTitle of Experiment Control of voltage with an on-load tap change controller\nResearch Infrastructure UDEX\nExperiment Realisation The combination of the OLTC and the conventional transformer is called a \"smart-transformer\". The test is carried out with real components in a real network with no simulation required.\nDuring the test, drops and overvoltages would be applied by instantaneously connecting and disconnecting parts of the grid components where the smart-transformer is connected, while at its output the physical quantities would be measured to check that they comply with the required setpoint previously configured.\nExperiment Setup (concrete lab equipment) Specific lab equipment includes:\nMedium voltage distribution network cable infrastructure Generator. OLTC Transformers. Automated switchgear with RTUs. Controllable loads Communication facilities Experimental Design and Justification The experiment requires the use of a real controllable network environment and so justifies the use of the UDEX infrastructure.\nThe open possibilities of different grid voltages ranging from 0-36KV to demonstrate the objectives set out for this experiment, with a flexibility in the grid configuration providing flexibility in the load and generation characteristics requires a laboratory infrastructure such as the UDEX.\nPrecision of equipment and measurement uncertainty System uncertainty \u003c5%\nStorage of experiment data Experimental data is collated locally in files for posterior analysis if required. ","categories":"","description":"Control of voltage with an on-load tap change controller","excerpt":"Control of voltage with an on-load tap change controller","ref":"/test-case-repository/docs/erigrid-2.0/tc01/01.01.01/","tags":"","title":"Experiment Specification 01.01.01"},{"body":"Identification ID 02\nAuthor Alexandros G.Paspatis, Alkistis Kontou\nVersion 2\nProject ERIGRID 2.0\nDate 13/04/2020\nTest Case Definition Name of the Test Case Complying with the fault-ride-through (FRT) requirements in inverter-based droop-controlled microgrids\nNarrative An inverter-based microgrid is considered, with inverter-interfaced distributed energy resources (DERs) operating in parallel to feed the microgrid load. At some point, a network fault occurs, either inside the microgrid (when considering an islanded microgrid) or at the main grid (when considering a grid-connected microgrid).\nThrough the control design of the inverter-interfaced distributed energy resources, power sharing is achieved between the multiple inverters during normal grid conditions. In this way, all inverters are equally stressed while the voltage and frequency of the microgrid are regulated close to their nominal values (droop control operation).\nFurthermore, when the network fault occurs, the inverters inject power according to the international standards to provide grid voltage support.\nFunction(s) under Investigation (FuI) Power sharing in inverter-based microgrids and grid voltage support from inverters, during grid faults\nObject under Investigation (OuI) Inverter-interfaced distributed energy resources controllers\nDomain under Investigation (DuI) Electrical Power\nPurpose of Investigation (PoI) Transition to future smart-grids, where inverter-interfaced DERs provide multiple ancillary services Characterization and validation of the SuT Verification and validation of the OuI Verification and validation of the FuT System under Test (SuT) An inverter-based microgrid consisting of multiple inverter-interfaced distributed energy resources (DERs), lines, loads, etc.\nFunctions under Test (FuT) A unified inverter controller that incorporates droop control and fault-ride-through techniques.\nTest criteria (TCR) Microgrid operation according to the designed control algorithm\nTarget Metrics (TM) Is power sharing achieved according to the droop control technique? Is voltage support provided to the grid when grid faults occur according to the international standards? Variability Attributes (VA) Different microgrid loading Different grid faults Quality Attributes (QA) During the normal operation, the acceptable load voltages values should be inside the ±5% of the nominal voltage and the acceptable frequency values should be inside ±1% of the nominal frequency Reactive power injection during grid faults, as a percentage of Smax Inverter currents below their maximum threshold Imax Qualification Strategy The major ancillary services required from inverter-interfaced DERs during i) normal operation (droop control) and ii) during grid faulty operation (fault-ride-through) will be investigated through a single test where the inverters are equipped with the appropriate smart control algorithms.\n","categories":"","description":"Complying with the fault-ride-through (FRT) requirements in inverter-based droop-controlled microgrids","excerpt":"Complying with the fault-ride-through (FRT) requirements in …","ref":"/test-case-repository/docs/erigrid-2.0/tc02/","tags":"","title":"Test Case 02"},{"body":"Test Specification Definition ID 02.01\nReference to Test Case 02\nTitle of Test Complying with the fault-ride-through (FRT) requirements while maintaining power sharing\nTest Rationale N/A\nSpecific Test System (graphical) Target measures Inverter power injection, load voltage and frequency, inverter currents\nInput and output parameters Input:\nLoad Inverter power injection set-points Grid conditions Output:\nPower, voltage, current and frequency measurements Test Design Operate multiple inverters in parallel Perform a network fault when the microgrid operates either in islanded (non-interconnected) mode or in grid-connected mode Save the experimental results Initial system state Inverter controllers enabled Hardware or simulated network and devices up and running Computer displaying and saving data Evolution of system state and test signals The system goes from normal operation (operation close to nominal voltage and frequency) to operation under grid faults, to test the inverter control algorithms\nOther parameters N/A\nTemporal resolution N/A\nSource of uncertainty Impedance of load and lines, inverter sensors operation\nSuspension criteria / Stopping criteria Abnormal current/ power injections from inverters\n","categories":"","description":"Complying with the fault-ride-through (FRT) requirements while maintaining power sharing","excerpt":"Complying with the fault-ride-through (FRT) requirements while …","ref":"/test-case-repository/docs/erigrid-2.0/tc02/02.01/","tags":"","title":"Test Specification 02.01"},{"body":"Experiment Specification Definition ID 02.01.01\nReference to Test Specification 02.01\nTitle of Experiment Hardware-in-the-Loop for inverter controller validation in real conditions\nResearch Infrastructure Electric Energy Systems (ICCS-NTUA) Experiment Realisation Multiple inverters forming a microgrid, both through hardware setup and through simulated components in the RTDS\nExperiment Setup (concrete lab equipment) Real Time Digital Simulator (RTDS) PC for RSCAD (UI of RTDS) Hardware controller (Triphase) Interfacing I/O cards Experimental Design and Justification In RSCAD an inverter-based microgrid will be designed. The inverters will be simulated as controlled voltage sources to facilitate testing of the control scheme under faults. FRT curve according to Grid Codes, will be used. A hardware controller will be connected to RTDS to perform CHIL experiments and validate the control algorithm under real conditions. Precision of equipment and measurement uncertainty Software real-time measurements from RTDS, 50μs simulation step\nStorage of experiment data Matlab files and Excel files\n","categories":"","description":"Hardware-in-the-Loop for inverter controller validation in real conditions","excerpt":"Hardware-in-the-Loop for inverter controller validation in real …","ref":"/test-case-repository/docs/erigrid-2.0/tc02/02.01/02.01.01/","tags":"","title":"Experiment Specification 02.01.01"},{"body":"Identification ID 10\nAuthor E. Rikos\nVersion 1.1\nProject ERIGrid 2.0\nDate 04/02/2021\nTest Case Definition Name of the Test Case Evaluation of secure transition from grid-connected to islanded operation: Uninterruptible Power Supply\nNarrative One of the functionalities that a microgrid should accommodate is its ability to automatically switch from grid-connected to islanded mode. The scope of this functionality is to isolate the microgrid’s customers from the local distribution grid when in the latter some disturbances appear. The transition from grid-connected to islanded mode should be made in a seamless way in order to eliminate loss of power supply on the microgrid consumer’s side (Uninterruptible Power Supply) and it is based on an automatic switch that disconnects the microgrid at the point of common coupling (PCC) as well as on at least one DER unit that has the ability to form the grid voltage once connection to the upstream grid is lost. Function(s) under Investigation (FuI) Over/under voltage detection Over/under frequency detection ROCOF detection Primary voltage control Primary frequency control Object under Investigation (OuI) Protection relay Static Switch DER inverters Domain under Investigation (DuI) Electrical ICT (time-delays) Electrochemical Thermal Environmental Purpose of Investigation (PoI) Validation of Uninterruptible Power Supply capability System under Test (SuT) The main components and subsystems that are of interest for this TC are depicted in the above diagram and summarized below:\nProtection Relay Static Switch CHP microturbines Battery inverters Communication channels Functions under Test (FuT) Microgrid Frequency Controller (MFC) Battery Management System MPPT Load control SCADA Energy Management System Test criteria (TCR) Frequency response Voltage response Target Metrics (TM) Maximum Voltage deviations Maximum frequency deviations Maximum ROCOF Response/stabilization time Variability Attributes (VA) Fully Controllable attributes:\nProtection relay parameters Droop control parameters Inverter control functionalities Partly Controllable attributes:\nLoad active/reactive power Generator active/reactive power Uncontrollable attributes:\nSolar irradiation Wind speed Ambient temperature ICT and control delays Quality Attributes (QA) Sampling time of signals (frequency, voltages): \u003c1ms Resolution: frequency 0.05Hz, voltage 0.005 pu Points of measurement: Frequency: at least 1 (at the point of common coupling) Voltage: 1 point for each resource connected at their electrical output Qualification Strategy In order to meet the specific PoI, which is the evaluation of the microgrid’s capability of UPS, three test specifications are required: -One test is related to the protection equipment and its effective detection of disturbances in the upstream distribution grid. This test ensures that the combination of the protection relay and the static switch can adequately disconnect the microgrid when frequency disturbances appear. This test examines the response of the protection subsystem for various kinds of disturbances including over/underfrequency and increased ROCOF.\n-The second test is related to the protection subsystem and its ability to detect voltage disturbances. The reason why this functionality is addressed separately than the frequency test is the different requirements in the test system topology. In the voltage test, specifically, the detailed microgrid topology is considered since it can affect the voltage level at the Point of Common Coupling.\n-The third test is related to the response of the grid-supporting voltage source inverters of the microgrid after the disconnection. In principle, the test aims to assess the capability of these resources to maintain a voltage/frequency deviation within specific limits thanks to the primary control. The test is conducted under different initial conditions depending on the event that activates the protection equipment (for example, over/underfrequency). ","categories":"","description":"Evaluation of secure transition from grid-connected to islanded operation: Uninterruptible Power Supply","excerpt":"Evaluation of secure transition from grid-connected to islanded …","ref":"/test-case-repository/docs/erigrid-2.0/tc10/","tags":"","title":"Test Case 10"},{"body":"Test Specification Definition ID 10.01\nReference to Test Case TC10\nTitle of Test Response of protection subsystem to various kinds of frequency disturbances\nTest Rationale This test is necessary in order to verify the protection relay’s capability of detecting the specified disturbances as well as to verify that the response time of the static switch in disconnecting the microgrid is below a specified threshold.\nSpecific Test System (graphical) The above setup allows the evaluation of the frequency protection function with only one load in place of a detailed microgrid since frequency deviations are due to larger-scale disturbances in the transmission system.\nTarget measures Δfmax\u003c±0.5Hz ROCOFmax \u003c1Hz/s Response time (Relay and Switch) \u003c0.5s Input and output parameters Input parameters\nFrequency Load consumption Relay state Output parameters\nBreaker state Load voltage Test Design The test is conducted into three distinct steps each of which tackles one frequency threshold (i.e., 50.5Hz, 49.5Hz, and ±1Hz/s). It is presumed that in between these steps the relay is reset to its initial state in order to allow for the detection of the next disturbance.\nInitial system state The source frequency is within the operating limits i.e., 49.5Hz \u003c f \u003c 50.5Hz, and –1Hz/s \u003c ROCOF \u003c+1Hz/s). The breaker (static switch) is closed, and therefore the load is supplied. The protection relay is reset to its normal (initial) state Evolution of system state and test signals The LV source frequency is monitored and, controlled in order to increase stepwise to the maximum allowable value of 50.5Hz. The time of this activation limit is recorded. The protection relay detects the disturbance and activates a disconnection of the static switch. The static switch disconnects the load from the LV source. The load voltage is monitored in order to detect the disconnection time and calculate the response time of the system. The relay is reset and the static switch reconnects the load to the source. The LV source is controlled to change its frequency stepwise to 49.5Hz. The time of this activation limit is recorded. The protection relay detects the disturbance and activates a disconnection of the static switch. The static switch disconnects the load from the LV source. The load voltage is monitored in order to detect the disconnection time and calculate the response time of the system. The relay is again reset and the static switch reconnects the load to the source. The LV source is controlled to change its frequency gradually upwards or downwards with a ROCOF equal to 1Hz/s. The time of this activation limit is recorded. The protection relay detects the disturbance and activates a disconnection of the static switch. The static switch disconnects the load from the LV source. The load voltage is monitored in order to detect the disconnection time and calculate the response time of the system. Other parameters N/A\nTemporal resolution A sampling time of \u003c1ms is required for the accurate measurement of the protection time response\nSource of uncertainty Uncertainties that may appear in this test are due to the precision of the various instruments used to measure the voltage/frequency responses. Additional uncertainties may be introduced by the communication channel delays between the protection relay and the static switch. Suspension criteria / Stopping criteria The test should be suspended and restarted if one of the quality attributes described in the TC is not met. Also, if the frequency variations are well above the specified limits (i.e., 0.1Hz and 0.1Hz/s) the test should be discarded and repeated with the appropriate values.\n","categories":"","description":"Response of protection subsystem to various kinds of frequency disturbances","excerpt":"Response of protection subsystem to various kinds of frequency …","ref":"/test-case-repository/docs/erigrid-2.0/tc10/10.01/","tags":"","title":"Test Specification 10.01"},{"body":"Test Specification Definition ID 10.02\nReference to Test Case TC10\nTitle of Test Response of protection subsystem to various kinds of voltage disturbances\nTest Rationale This test is an extension of TS10.01 in the sense that the protection subsystem is tested in terms of voltage limits. Due to the fact that the voltage at the PCC is determined by the local configuration of the microgrid, a detailed microgrid topology is used instead of one lumped load.\nSpecific Test System (graphical) The above test system is based on the LV distribution network benchmark application example by CIGRE1\nTarget measures ΔVmax=+15% to -20% of nominal voltage Response time (Relay and Switch) \u003c0.5s Input and output parameters Input parameters\nVoltage at PCC Power flow at PCC Relay state Output parameters\nBreaker state Voltage at PCC Test Design The test is conducted into two distinct steps each of which tackles one voltage threshold (i.e., +15% (265V) and -20% (184V). It is presumed that in between these steps the relay is reset to its normal state in order to allow for the detection of the next disturbance.\nInitial system state The source and the microgrid are operated in a way that leads to a voltage at the PCC within the protection limits i.e., 184V\u003c Vpcc \u003c 265V. The breaker (static switch) is closed, therefore the microgrid exchanges power with the grid (voltage source). The protection relay is reset to its normal state Evolution of system state and test signals At first the voltage at the PCC should be within the protection limits and the microgrid should be connected to the grid (LV source) and exchange power. Either the LV source or some of the microgrid units should be controlled in a way that allows the voltage at the PCC to increase towards the upper limit (15%). The time that the voltage crosses the limit is recorded. The protection relay detects the disturbance and activates a disconnection of the static switch. The static switch disconnects the microgrid from the LV source. The PCC voltage is monitored in order to detect the disconnection time and calculate the response time of the protection system. The relay is reset and the static switch reconnects the microgrid to the source. Either the LV source or some of the microgrid units should be controlled in a way that allows the voltage at the PCC to decrease towards the lower limit (-20%). The time that the voltage crosses the limit is recorded. The protection relay detects the disturbance and activates a disconnection of the static switch. The static switch disconnects the load from the LV source. The PCC voltage is monitored in order to detect the disconnection time and calculate the response time of the system. Other parameters N/A\nTemporal resolution A sampling time of \u003c1ms is required for the accurate measurement of the protection time response\nSource of uncertainty Uncertainties may arise due to the precision of the various instruments used to measure the voltage responses. Additional uncertainties may be introduced by the communication channel delays between the protection relay and the static switch, as well as from the operation of the microgrid units that are subject to: Environmental conditions Consumers’ demand Grid parameters variability i.e., resistance/inductance ratio Suspension criteria / Stopping criteria The test should be suspended and restarted if one of the quality attributes described in the TC is not met.\n","categories":"","description":"Response of protection subsystem to various kinds of voltage disturbances","excerpt":"Response of protection subsystem to various kinds of voltage …","ref":"/test-case-repository/docs/erigrid-2.0/tc10/10.02/","tags":"","title":"Test Specification 10.02"},{"body":"Test Specification Definition ID 10.03\nReference to Test Case TC10\nTitle of Test Primary frequency and voltage response after disconnection\nTest Rationale Once the protection system intervenes to isolate the microgrid, the local DER controllers (voltage and frequency droop) react to the imbalance and try to stabilize the microgrid operation. The specific test aims at characterizing the simultaneous ability of the DER units (i.e., battery storage and CHP) to stabilize the voltage and frequency. Specific Test System (graphical) In this TS the selected test system is the same with TS10.02 and is based on the LV distribution network benchmark application example by CIGRE1\nTarget measures ΔVmax=+15% to -20% of nominal voltage Δfmax\u003c±1Hz ROCOFmax \u003c2Hz/s Response time (frequency/voltage stabilization) \u003c5s Input and output parameters Input parameters\nSolar irradiance Wind speed Ambient temperature Load consumption Breaker state Output parameters\nFrequency Voltages Test Design The test considers one power imbalance that is caused from the disconnection of the breaker and the loss of power exchange to/from the grid. This imbalance will result in activation of the droop controllers and the possible subsequent stabilization. The same test will have to be repeated several times for five (5) different initial conditions depending on the type of disturbance. Initial system state There are five possible initial states for the system in terms of frequency and voltage values. All five of them, however, require that initially the microgrid is connected to the grid and that both the voltage at PCC and the frequency are within allowable limits. Once these conditions are met, each one of the five disturbances should be generated through the LV source.\nEvolution of system state and test signals The microgrid is running in parallel with the LV source with which exchanges some power The LV source frequency is monitored and controlled in order to increase stepwise to the maximum allowable value of 50.5Hz. The time of this activation limit is recorded The protection relay detects the disturbance and activates a disconnection of the static switch The static switch disconnects the microgrid from the LV source The frequency at the PCC and the Voltage at multiple points of the microgrid are monitored in order to estimate the response time from the protection activation to the new steady-state The relay is reset and the static switch reconnects the load to the source Step 2 is repeated with the frequency setting at 49.5Hz Steps 3-6 are repeated Step 2 is repeated with the frequency setting at ROCOF=1Hz/s Steps 3-6 are repeated Either the LV source or some of the microgrids units should be controlled in a way that allows the voltage at the PCC to increase towards the upper limit (15%). The time that the voltage crosses the limit is recorded. The protection relay detects the disturbance and activates a disconnection of the static switch The static switch disconnects the microgrid from the LV source Frequency at the PCC and Voltage at multiple points of the microgrid are monitored in order to estimate the response time from the protection activation to the new steady-state The relay is reset and the static switch reconnects the microgrid to the source Either the LV source or some of the microgrids units should be controlled in a way that allows the voltage at the PCC to increase towards the lower limit (-20%). The time that the voltage crosses the limit is recorded. The protection relay detects the disturbance and activates a disconnection of the static switch The static switch disconnects the microgrid from the LV source Frequency at the PCC and Voltage at multiple points of the microgrid are monitored in order to estimate the response time from the protection activation to the new steady-state Other parameters N/A\nTemporal resolution A sampling time of \u003c1ms is required for the accurate measurement of the total system response\nSource of uncertainty Uncertainties that may arise due to the precision of the various instruments used to measure the voltage responses. Additional uncertainties may be introduced by the communication channel delays between the protection relay and the static switch, as well as from the operation of the microgrid units that are subject to: Environmental conditions Consumers’ demand Grid parameters variability i.e., resistance/inductance ratio Suspension criteria / Stopping criteria The test should be suspended and restarted if one of the quality attributes described in the TC is not met.\n","categories":"","description":"Primary frequency and voltage response after disconnection","excerpt":"Primary frequency and voltage response after disconnection","ref":"/test-case-repository/docs/erigrid-2.0/tc10/10.03/","tags":"","title":"Test Specification 10.03"},{"body":"Identification ID 11\nAuthor Tue Jensen, Kai Heussen (Edmund Widl)\nVersion 0.2\nProject SmILES, ERIGrid 2.0\nDate 2020-12-16\nTest Case Definition Name of the Test Case Characterization of power-to-heat service availability and its impact on the networks\nNarrative A network-integrated booster heat pump is used to also provide services to the electrical system. In the local electrical distribution network congestion may appear, and other flexibility options are available. This test seeks to characterize the impact of the use of local flexibility on available regulating power from a local district. The test targets an examination of the ability of the system to provide these services when under conflict. Function(s) under Investigation (FuI) The heating system provides services to the electrical system (a) congestion management - electrical import and export limitation; and (b) regulating power provision. Object under Investigation (OuI) The characterization concerns the Booster Heater Controller and the Electric Storage Controller in combination with the District Supervisory Controller.\nDomain under Investigation (DuI) power (low voltage distribution network) heat (coupling points to thermal network) control (storage and heat network control) Purpose of Investigation (PoI) Characterize the impact use of local flexibility on available regulating power from a local district.\nSystem under Test (SuT) “PCC” denotes the point of common coupling for the district to the external networks. All units connected downstream of the respective PCCs must be considered.\nFunctions under Test (FuT) electrical and heat exchange (at respective PCC) electrical energy bound violation total district electricity export total district thermal energy import Test criteria (TCR) The TCR (test criteria) aim to quantify the resource and service conflicts: 1) the export/import from the electrical distribution network (including the respect for capacity limitations); 2) the service level at the district heating network (energy and service level violations)\nTarget Metrics (TM) electrical energy bound violation in MWh: given a limit for , measure the violation via the total electrical energy consumption as , where is a one-sided error measure, e.g. (x)=x if x\u003e0, else x=0.\nelectrical and heat exchange (at respective PCC) in MWh total district electricity export in MWh total district thermal energy import in MWh Variability Attributes (VA) Controllable factors:\nbooster heater activation electrical storage system activation Uncontrollable factors:\ndemand (electrical and thermal) PV generation prices Quality Attributes (QA) N/A\nQualification Strategy The PoI is addressed first using a simple implementation to verify the test concept and the functional principles, the outcome of TS01 is a preliminary characterisation of the same TCR as TS02. TS02 will then refine and validate the characterisation on a more realistic study case. ","categories":"","description":"Characterization of power-to-heat service availability and its impact on the networks","excerpt":"Characterization of power-to-heat service availability and its impact …","ref":"/test-case-repository/docs/erigrid-2.0/tc11/","tags":"","title":"Test Case 11"},{"body":"Identification ID 12\nAuthor Benedikt Leitner, Edmund Widl\nVersion 2\nProject SmILES, ERIGrid 2.0\nDate 2020-12-17\nTest Case Definition Name of the Test Case Verification of improved self-consumption of RES in a coupled heat \u0026 power network using power-to-heat\nNarrative This test case is used to verify that the self-consumption of renewable energy sources in a coupled heat and power network improves when using distributed power-to-heat appliances compared to a base scenario without power-to-heat. Different control schemes can be applied to reach this goal, which can be assessed in the context of this test case.\nFunction(s) under Investigation (FuI) Control function(s) of power-to-heat appliances\nNote: The actual control schemes (and the corresponding control functions) are defined in the test specifications.\nObject under Investigation (OuI) External electric grid:\npower flows (to and from) Gas heating boiler (for base load):\nheat generation Local heating network:\nsupply temperatures at thermal substations differential pressures at thermal substations Low voltage distribution network:\nvoltages at consumer connection points Domain under Investigation (DuI) electric (low voltage distribution network) heat (local heating network) Purpose of Investigation (PoI) Verification of reduction of energy flows flowing out of the network. At the same time energy imports should not increase and the operational parameters of both networks must remain within acceptable ranges.\nSystem under Test (SuT) The SuT comprises a coupled low-voltage distribution network and local heating network (sub-urban district), which host residential homes, offices and workshops. A high share of the building stock is connected to the heating network, which is supplied by a central gas-fired boiler. Generation from rooftop photovoltaic power plants covers a significant part of the annual electric energy demand. Electric boilers are installed in the heating network with the aim to further increase the self-consumption of photovoltaic generation at a network scale.\nFunctions under Test (FuT) energy flows (in and out of the networks) effort variables of both networks (bus voltages, supply temperatures, differential pressures) loading of the transformer Test criteria (TCR) Target Metrics (TM) total power flow from external electric grid in MWh total heat flow from base district heating boiler in MWh voltages at consumer connection points in p.u. transformer loading in % differential pressures at substations in bar supply temperatures at substations in °C Variability Attributes (VA) Controllable factors:\nelectric boiler activation gas boiler activation Uncontrollable factors:\ndemand (electrical and thermal) PV generation Quality Attributes (QA) The power flow to the external grid and the heat flow from the base district heating boiler are reduced compared to a scenario without power-to-heat appliances. Thus, self-consumption of RES is improved. At the same time, the power flow from the external grid is not allowed to increase more than 1%.\nMoreover, the following technical criteria must be met:\nvoltages at consumer connection points within 0.95 p.u. and 1.05 p.u. for 99% of time differential pressures at substations within 0.9 bar and 5 bar for 99% of time supply temperatures at substations above 65°C for 99% of time transformer loading never goes above 100% Qualification Strategy ","categories":"","description":"Verification of improved self-consumption of RES in a coupled heat \u0026 power network using power-to-heat","excerpt":"Verification of improved self-consumption of RES in a coupled heat \u0026 …","ref":"/test-case-repository/docs/erigrid-2.0/tc12/","tags":"","title":"Test Case 12"},{"body":"Identification ID 13\nAuthor Petra Raussi, Olli Himanen\nVersion 0.1\nProject ERIGrid 2.0\nDate 1.7.2021\nTest Case Definition Name of the Test Case Characterization of hydrogen storage scale for power systems support and services. Narrative The amount of volatile renewable energy generated to the power system is rapidly increasing emphasizing the need for proper storage solutions to harness all the produced renewable energy. Without sensible storage solutions the overproduction of renewable energy cannot be used and we need to default back to fossil fuels. While for short term storage batteries and other storage solution in the power systems are crucial, in long term the most promising storage solutions can be found via sector coupling of electrical and hydrogen grids in combination with salvaging the heat produced in the conversion processes and fed to the district heating networks. This test case focuses especially at assessing the potential of different storage solutions based on their scale and cost benefits. Function(s) under Investigation (FuI) Hydrogen storage provides a long-term solution for storing renewable energy and also potentially could participate to the reserve markets depending on the reaction time. Object under Investigation (OuI) Hydrogen storages of different scales.\nDomain under Investigation (DuI) Electrical Hydrogen Heat Purpose of Investigation (PoI) Characterize the optimal scale for hydrogen storage to be integrated with power systems and also provide potentially services to the reserve markets. System under Test (SuT) SuT comprises of electrical grid, hydrogen network and heat network. The electrical system includes a medium (?) voltage grid with battery storage and renewable generation with integration to reserve markets. The hydrogen network will include fuel cells, conversion gas power plants, hydrogen storages. The heat network will include components for conversion to from the other networks and heat loads. Functions under Test (FuT) electrical and hydrogen exchange at the PCC (point of common coupling) storing of hydrogen and reaction time to access Test criteria (TCR) TCR aims to optimize the scale of the hydrogen storage to support power system and provide potentially balancing power to the power systems while also considering sustainability and cost benefits. Target Metrics (TM) electrical and hydrogen exchange capacity of hydrogen storage reaction time of exchange Variability Attributes (VA) capacity of hydrogen storage material and life cycle aspects of the hydrogen activation of exchange demand (electrical and hydrogen) renewable generation electricity market price Quality Attributes (QA) sustainability of hydrogen storage lower than traditional solutions cost of hydrogen storage not covered by earned profits Qualification Strategy There are three (3) Test Specifications to assess the scale of the hydrogen storage to meet the PoI. TS13.01 considers existing empty storage suitable for hydrogen, TS13.02 considers specifically extracted hydrogen storage and TS13.03 considers separate metal containers as a storage option. ","categories":"","description":"Characterization of hydrogen storage scale for power systems support and services. ","excerpt":"Characterization of hydrogen storage scale for power systems support …","ref":"/test-case-repository/docs/erigrid-2.0/tc13/","tags":"","title":"Test Case 13"},{"body":"Test Specification Definition ID 13.01\nReference to Test Case TC13\nTitle of Test Verification of large scale existing hydrogen storage for power system support\nTest Rationale The aim of the test is to verify the cost benefits and sustainability of large scale existing hydrogen storages for supporting and providing services to power systems. Specific Test System (graphical) The system uses in particular an existing empty storage for hydrogen such as an empty natural gas storage or salt mine.\nTarget measures The test is successfully passed if the hydrogen storage can meaningfully support the power system balancing and via this remain profitable and sustainable.\nInput and output parameters Point of common coupling measurements setpoints for control of the hydrogen storage Reaction time of storage Profit Test Design This test needs to run in non-real-time for several years or seasons depending on the reaction time.\nInitial system state Networks operating on nominal power, temperature and pressure Storages are empty Evolution of system state and test signals The storages are filled based on the overproduced renewable generation Based on price signals the storages react and balance the power system Other parameters -\nTemporal resolution Dynamic, variable step size (seconds?)\nSource of uncertainty -\nSuspension criteria / Stopping criteria Critical violation of network operation constraints Networks becoming unstable ","categories":"","description":"Verification of large scale existing hydrogen storage for power system support","excerpt":"Verification of large scale existing hydrogen storage for power system …","ref":"/test-case-repository/docs/erigrid-2.0/tc13/13.01/","tags":"","title":"Test Specification 13.01"},{"body":"Identification ID 14\nProject ERIGrid2.0\nDate 12/04/2021\nTest Case Definition Name of the Test Case Synthetic inertia and fast frequency response/control provided by converter-based resources Narrative The increasing penetration of DERs is reducing the inertia of existing power systems. However, power converters can provide services such as FFR and SI, in order to limit the frequency deviations. An assessment of the frequency dynamics requires multiple experiments to take into account the interaction between the traditional components and the converters as well as the specifications provided by different TSOs. Function(s) under Investigation (FuI) The FuIs are implemented in each converter controller. In this TC, several FuIs are investigated: Fast frequency response and Synthetic Inertia provided by converters, considering the specification of different countries.\nFast Frequency Response\nENTSO-E specification:\nMain requirements:\nActivation threshold frequency and maximum full activation time (3 configurable values):\n49.7 Hz, 1.3 s 49.6 Hz, 1 s 49.5 Hz, 0.7 s Minimum support duration = 5 s\nMaximum power overshoot = 0.35*Ppre (being Ppre the prequalified FFR capacity)\nDeactivation rate = 0.2Ppre/s (measured as the average rate over an integration window of one second) and with no power step higher than 0.2Ppre\nBuffer + recovery time = 900 s\nRecovery maximum power = 0.25* Ppre\nDead-band = +/-50 mHz\nItalian specification:\nActivation instant \u003c= 300 ms\nActivation time \u003c= 1 s\nSupport duration = 30 s\nDeactivation time = 300 s\nBuffer time + Recovery time = 200 s\nFFR Maximum Power = 5 ÷ 25 MW\nRecovery Maximum Power = 2 MW (or more if the frequency is within the dead-band)\nDead-band = +/- 50 mHz\nΔP/Δf = tbd\nUK specification:\nDead-band: +/- 15 mHz\nSmall linear delivery: between 15 mHz and 200 mHz (maximum of 5% at 200 mHz)\nKnee point activation: +/- 200 mHz\nFull delivery: +/- 500 mHz is 100%\nLinear delivery knee point: 200 mHz\nActivation time \u003c=1s (but no faster than 0.5 s)\nSynthetic inertia\nHydro-Québec Transmission system:\nInertial response requirements:\nActivated at a given frequency threshold (frequency deviation) An adjustable dead band from -0.1 Hz to -1.0 Hz (with respect to nominal frequency) Rise time (1-2): ≤ 1.5 s Maximum power overproduction (2-3): at least 6% of rated power Max. overproduction duration (1-4): at least 9s Transition time (3-5): ≥ 3.5 s Max. power decrease during recovery (5-6): 20% of rated power Be able to operate repeatedly with a 2 min delay after the end of the recovery period following the previous operation Recovery time: not defined yet Nationalgrid-UK (proposal):\nActivated scheme: ROCOF (df/dt) Max. power overproduction: 5.4% of rated power for a ROCOF ≥ 0.325 Hz/s. Rise time: 200 ms Max. power decrease during recovery: 5% of rated power Max. overproduction duration: not defined yet Recovery time: not defined yet Transition time: not defined yet Object under Investigation (OuI) Set of converters controllers on which the FFR and SI are implemented. Domain under Investigation (DuI) Electrical domain.\nICT domain (in case of remote control by system operator for changing function parameters).\nPurpose of Investigation (PoI) PoI 1: Verification of the behavior of providing FFR and SI for different devices (PV, Wind, ESS, etc).\nPoI 2: Validate that FFR and SI limit the Rate Of Change Of Frequency (ROCOF) and the frequency deviations considering different specification and also the interaction among power converters and synchronous machine. System under Test (SuT) For PoI 1:\nGrid simulator which sets the frequency connected to a power converter with the OuI.\nFor PoI 1, PoI 2: In order to get insights from the test results, a simple benchmark is selected. The SuT (see figure below) is composed of:\n3 synchronous generators that will be increasingly replaced by power converters. 3 loads (considering asynchronous machines, constant power loads, constant impedance loads, etc.). Functions under Test (FuT) Other frequency control such as Frequency Containment Reserve (FCR).\nOther high-level controllers (i.e., active and reactive power control).\nTest criteria (TCR) For PoI 1:\nComparison between the FFR and SI specification requirements (listed in Function(s) under Investigation field) and the experiment results.\nThe test answers to the following question:\nIs the power converter compliant with the FFR specification?\nIs the power converter compliant with the SI specification?\nFor PoI 2:\nEvaluation of the ROCOF and the frequency deviation considering different system configuration in terms of DERs penetration.\nThe test answers to the following questions:\nIs the system stable under the different configurations?\nIs the frequency and ROCOF maintained within the limits? Is there any interaction between the devices providing grid services?\nTarget Metrics (TM) For PoI 1:\nsee Function(s) under Investigation field.\nFor PoI 2:\nAt power system level: Frequency variation (ROCOF, Frequency nadir, Steady State frequency, time recovery). At component level: Speed of response, Settling time, Power Overshoot, support duration, max power undershoot during recovery\nVariability Attributes (VA) For PoI 1:\nFrequency variation, power set-point, voltage and current harmonics, measures accuracy.\nFor PoI 2:\nMechanical Inertia, Non-controllable DER production and load consumption, grid parameters, communication and controller delay, interaction between each power converter providing FFR and SI and other components.\nQuality Attributes (QA) For PoI 1:\nPass/fail criteria:\nAll the specification listed in the FuI field. System fail (one or more components disconnected) Quality attributes:\nSampling time: 100 µs Resolution: frequency 0.01 Hz, voltage 0.001 pu and current 0.01 pu Measurement point: one for each resource For PoI 2:\nPass/fail criteria:\nFrequency nadir: 48 Hz System fail (one or more components disconnected) Quality attributes:\nSampling time: 100 µs Resolution: frequency 0.01 Hz, voltage 0.001 pu and current 0.01 pu Measurement point: one for each resource Qualification Strategy Two test specifications will be implemented: one for verifying the FFR and SI control in case of the power converter is independent from other components and one for the verification of the OuI in case of interaction with other grid components and validation of the power system stability.\n","categories":"","description":"Synthetic inertia and fast frequency response/control provided by converter-based resources  ","excerpt":"Synthetic inertia and fast frequency response/control provided by …","ref":"/test-case-repository/docs/erigrid-2.0/tc14/","tags":"","title":"Test Case 14"},{"body":"Identification ID 15\nAuthor Alkistis Kontou, Dimitris Lagos, Loizos Loizou\nVersion v03\nProject ERIGRID 2.0\nDate 19/05/2021\nTest Case Definition Name of the Test Case Smart Grid Control Algorithm – optimal centralized Coordinated Voltage Control\nNarrative Distribution networks are becoming increasingly “smarter”, as well as more complex, with the addition of power electronic devices, ICT, smart meters, and more. As a result, advanced control strategies to manage such networks are becoming necessary. An optimal centralized Coordinated Voltage Control (CVC) operates as a distribution management system. The algorithm manages all the devices of the network that are capable of regulating the voltage either directly (OLTCs), or through the injection of active/reactive power, such as Battery Energy Storage Systems (BESS) and Photovoltaic (PV) inverters. Management is based on the solution of an optimization problem, which minimizes a predefined objective function, subject to linear and non-linear constraints. A central controller is installed at substation level and is initialized with all the necessary static data of the network: network topology, admittance of lines and transformer, nominal power of DER units and storage systems, operating limits, tap change operations of the OLTC, etc. While it operates, it requests and receives real-time power measurements from the smart meters of loads and DER units, as well as the state of charge (SoC) of the storage systems and the current tap position of the OLTC. Using this dynamic data, it formulates the optimal power flow problem, whose objective function involves the minimization of voltage deviation of critical nodes from the nominal value, power losses of the lines and transformer, and tap change operations of the OLTC.\nFunction(s) under Investigation (FuI) PV inverter’s Q(U) control, OLTC controlling secondary voltage, MGCC behavior\nObject under Investigation (OuI) MicroGrid Central Controller (MGCC)\nDomain under Investigation (DuI) Electrical Power, ICT\nPurpose of Investigation (PoI) Characterization and validation of the SuT Verification and validation of the OuI Verification and validation of the FuT System under Test (SuT) PV, OLTC, transformer, distribution line, upstream network impedance, MGCC\nFunctions under Test (FuT) Optimal centralized coordinated voltage control algorithm, Communication scheme\nTest criteria (TCR) OLTC behaviour according to reactive power levels Inverter’s effectiveness in participation in voltage regulation Inverter’s reaction to tap changes BESS management effectiveness Industrial MGCC behavior Target Metrics (TM) When and how often the optimization converges. How fast and what is the solutions quality (suboptimal etc) Voltage deviation of all the nodes from the nominal value, number of tap changes, network active power losses with and without the CVC algorithm Estimation errors of voltage, active and reactive power Ability of the BESS to provide voltage support (based on SoC) Errors and failures and delays that the MGCC may introduce Variability Attributes (VA) Load and RES Patterns (realistic, daily, annual variation) Message exchange of MGCC using different protocols (Modbus, IEC 61850) Quality Attributes (QA) Convergence of the optimization algorithm within some sec (validation) All voltages are within ±5% of the nominal value (characterization) Estimation quality characterized with a confidence of 95% (characterization) Qualification Strategy The Pol will be met through a single test system where the MGCC will optimally control the voltages of a distribution network, while simultaneously minimizing power losses and tap change operations of the transformer's on-load tap changer (OLTC). This will be accomplished with a central controller that receives real-time measurements from key nodes of the network (under normal operation), solves an optimization problem, and dispatches set-points to controllable devices located in the network, such as the OLTC, inverters of DER units and storage systems. The experimental setup will be a combined CHIL and PHIL to validate the performance in real conditions.\n","categories":"","description":"Smart Grid Control Algorithm – optimal centralized Coordinated Voltage Control","excerpt":"Smart Grid Control Algorithm – optimal centralized Coordinated Voltage …","ref":"/test-case-repository/docs/erigrid-2.0/tc15/","tags":"","title":"Test Case 15"},{"body":"Identification ID 16\nAuthor Evangelos Rikos, Julia Merino, Andres Cortes\nVersion 1.0\nProject ERIGrid 2.0-NA4\nDate 22/02/2021\nTest Case Definition Name of the Test Case Testing Black-Start capability using distributed converted interfaced resources Narrative The focus of this TC is on MV distribution grid where one central controller can perform the following actions: isolate/disconnect/ reconnect lines and/or resources and initiate grid-forming DGs. The DGs that provide the BS service should have resilience in significant frequency/voltage variations to cope with large imbalances during re-energization and for a typical duration of at least 1 hour. The scope of the TC is to verify the system’s ability to achieve a smooth re-energization within the prescribed duration. Function(s) under Investigation (FuI) Black-start control Primary voltage control Primary frequency control Secondary frequency control Secondary voltage control Object under Investigation (OuI) Distribution Management System (as the provider of the BS and secondary control functionalities) Inverter-based DGs (as providers of the power/energy needed for system re-energization and as primary control resources) Domain under Investigation (DuI) Electrical Power ICT (time-delays) Electrochemical Environmental Purpose of Investigation (PoI) Validation of Black-Start capability System under Test (SuT) The main components and subsystems that are of interest for this TC are depicted in the above diagram and summarized below:\nDistribution Management System (DMS) Circuit breakers Battery energy storage system (BESS) Distribution Grid Functions under Test (FuT) Battery Management System MPPT Load control SCADA Energy Management System Test criteria (TCR) Frequency response Voltage response Battery capacity Target Metrics (TM) Maximum Voltage deviations (±5%) Maximum frequency deviations (47.5 Hz–52 Hz) Maximum ROCOF Response/stabilization time Maximum Energy Availability Number of sequential start-ups (at least three) Variability Attributes (VA) Fully Controllable attributes:\nCircuit breakers’ state Primary and secondary control parameters Inverter control functionalities Partly Controllable attributes:\nLoads’ active/reactive power Generators’ active/reactive power Uncontrollable attributes:\nSolar irradiation Wind speed Ambient temperature ICT and control delays Quality Attributes (QA) Sampling time of signals (frequency, voltages, Power/energy flows): \u003c1sec Resolution: frequency 0.05 Hz, voltage 0.005 pu Power 0.01pu Points of measurement: Frequency: at least 1 Voltage: 1 point for each resource connected at their electrical output Battery power/energy flow: 1 point at the output of the BESS Qualification Strategy In order to meet the specific PoI, which is the evaluation of the distribution system’s Black Start capability, three separate test specifications are required: -One test is related to the partitioning of the system. That is how the centralized BS controller manages to disconnect and reconnect components of the grid, either resources (loads, generators) or lines. The test validates the correctness of the disconnection order of components, as well as the ability of the controller to reconnect them at times when voltage and frequency are well within specific boundaries and more or less stable. -The second test verifies the ability of the system to maintain voltage and frequency within specific boundaries after the BS generator is started up by the BS central controller. The specific operating limits for this test are more relaxed as opposed to the ones that apply in normal operation.\n-The third test is a sort of endurance test which validates the BS generator’s ability to provide the service for a minimum time duration (e.g., 1 hour). In other words, this test comes down to verifying the energy reserve of the BS generator. ","categories":"","description":"Testing Black-Start capability using distributed converted interfaced resources   ","excerpt":"Testing Black-Start capability using distributed converted interfaced …","ref":"/test-case-repository/docs/erigrid-2.0/tc16/","tags":"","title":"Test Case 16"},{"body":"Test Specification Definition ID 16.01\nReference to Test Case TC16\nTitle of Test Black Start algorithm verification\nTest Rationale This test verifies the ability of the centralized BS controller to disconnect/reconnect parts of the grid and resources in the right order and at the right timing. The order of actions is fixed and predefined through the programming parameters of the control system, whereas the reconnection timing should happen automatically at times when voltage and frequency are within specific boundaries.\nSpecific Test System (graphical) The test setup depicted above comprises one BS controller (as part of the DMS), three loads with controllable switches, three transducers for the voltage measurement at each load (on the breaker’s side), one transducer for the measurement of frequency and one controllable source which provides the voltage/frequency controllability required for validating the controller behavior. Target measures Power outage time Reconnection times Voltage/frequency values Input and output parameters Input parameters\nFrequency Voltage Output parameters\nBreaker state Load voltage Controllable source activation Test Design The specific test makes use of the controllable MV source to emulate the blackout condition as well as the BS generation provider. Therefore, the source’s output can be deactivated manually and reactivated through a communication signal from the BS controller. In the real system, the specific signal is the start-up command from the BS controller to the BS generator. The voltages at each load should be monitored on either end of the breaker in order to verify:\nDisconnection/reconnection time If the voltage conditions for reconnection are suitable Moreover, by monitoring the frequency at the source’s output it is possible to:\nVerify that the controller reconnects the loads within the proper frequency conditions and in the right order Verify that the start-up command to the BS generator is communicated correctly and in the right order Even though some voltage/frequency stability is presumed for the test, the limits for these values, especially frequency should be not considered as tight as in normal operation. Therefore, the frequency limits for this test are considered from 47.5 to 52 Hz with a ROCOF \u003c2 Hz/s. The corresponding voltage limits are considered as +5% and -5% of the nominal voltage.\nInitial system state The controllable source supplies the system with constant voltage at frequency at nominal values (fsource=50 Hz, Vsource=1 p.u.) The three breakers are closed, and the loads are supplied The BS controller is reset to its initial state (normal operation) The BS controller continuously monitors frequency and voltages in order to detect a possible blackout Evolution of system state and test signals At a predetermined moment, the source’s output is deactivated and the voltage and frequency become zero emulating the blackout conditions This time is recorded as reference for calculating the response times of the various components The BS controller detects the loss of voltage and initiates the BS procedure Initially, the BS controller disconnects all three loads from the grid After a specific interval (\u003c1 min), the BS controller dispatches the start-up signal to the controllable source The output of the source is monitored in order to calculate the time required for this step until re-energization is restored The BS controller continuously monitors the voltages and frequency in order to detect when the conditions are proper for reconnecting the loads The load voltages are recorded to measure the reconnection order as well as the proper voltage/frequency conditions during reconnection Other parameters N/A\nTemporal resolution A sampling time of \u003c1 s is enough for this test to provide the necessary information since the responses of the controller signals range in the order of several seconds to minutes.\nSource of uncertainty Uncertainties that may appear in this test are due to the precision of the various instruments used to measure the voltage/frequency responses. Additional uncertainties may be introduced by the communication channel delays between the BS controller and the various controllable components.\nSuspension criteria / Stopping criteria The test should be suspended and restarted if one of the quality attributes described in the TC is not met or if the algorithmic procedure of the BS controller does not perform as should be expected.\n","categories":"","description":"Black Start algorithm verification","excerpt":"Black Start algorithm verification","ref":"/test-case-repository/docs/erigrid-2.0/tc16/16.01/","tags":"","title":"Test Specification 16.01"},{"body":"Test Specification Definition ID 16.02\nReference to Test Case TC16\nTitle of Test Frequency and Voltage stability response during BS\nTest Rationale Once the BS generator is started by the BS controller to reenergize the grid, an interval follows within which several resources are reconnected. The main challenge that the BS generator and the system itself faces is the stability of frequency and voltage. Due to its nature, the requirements for this operating state should not be very strict. Nevertheless, rudimentary stability should always be maintained in order to avoid a new blackout. This test aims at evaluating the system’s capability to cope with the imbalances and maintain frequency as well as voltage stability within the required limits.\nSpecific Test System (graphical) The above test system is based on the MV distribution network benchmark application example by CIGRE1\nTarget measures ΔVmax=+5% to -5% of nominal voltage Δfmax= from 47.5 to 52 Hz with a ROCOF \u003c2 Hz/s. Input and output parameters Input parameters\nSolar irradiance Wind speed Ambient temperature Load consumption Breaker state Output parameters\nFrequency Voltages Test Design The test is carried out in a way that emulates the system behaviour after a black out. This implies the initial disconnection of lines and loads through the controllable circuit breakers and the start-up of the BS generator (BESS on Bus B-5). In this way, the system is sectionalized to its minimal connectivity state.\nInitial system state All circuit breakers are open The BS generator is not running Evolution of system state and test signals At a specific time within 1 min from the beginning of the test, the BS generator is started up Frequency and voltages at various points of the grid are continuously monitored After another time interval (e.g., 2-5 minutes) the first set of circuit breakers is reclosed to add the extra generation/load to the system. The time interval allowed for reconnection should be enough for quasi-stabilization of the system. The previous step is repeated as many times as the number of circuit breaker groups are reclosed Other parameters N/A\nTemporal resolution A sampling time of \u003c100 ms is required for the accurate measurement of frequency and voltage variations.\nSource of uncertainty Apart from the measurement uncertainties due to the instruments’ accuracy, additional uncertainties may be introduced by the communication channel delays between the controller and the DER units. In addition to that, the system operation is subject to uncertainties due to: Environmental conditions Consumers’ demand Grid parameters variability, i.e., resistance and inductance Suspension criteria / Stopping criteria The test should be suspended and restarted if one of the quality attributes described in the TC is not met. If stability is not ensured during the various reconnection actions, the control parameters should be readjusted and the test repeated.\n","categories":"","description":"Frequency and Voltage stability response during BS","excerpt":"Frequency and Voltage stability response during BS","ref":"/test-case-repository/docs/erigrid-2.0/tc16/16.02/","tags":"","title":"Test Specification 16.02"},{"body":"Test Specification Definition ID 16.03\nReference to Test Case TC16\nTitle of Test BS generator energy availability test\nTest Rationale The BS generator must provide a sufficient amount of energy for at least 1 hour, in order for the system to cope with any uncertainties during the process. Such uncertainties may include failures in starting up other generators or instability problems. Also, uncertainties caused State of Health (SOH), ambient temperature, etc. may result in a deviation of the actual available energy of the BESS from its nominal value. The specific test addresses the ability of the BS generator to provide energy supply for at least 1 hour of continuous operation after the BS.\nSpecific Test System (graphical) The test system consists of a controllable and bidirectional MV source, one BESS comprising battery, inverter and BMS and one controller which can control the BESS’s active and reactive power injection.\nTarget measures Battery SOC\u003e10% Operation time \u003e1 h Input and output parameters Input parameters\nAmbient temperature Active and reactive power setpoints Output parameters\nActive and Reactive Power Active and Reactive Energy SOC Test Design The test can consider various profiles for the setpoints of P and Q depending on the specifications and needs from each BS system. However, as the worst-case scenario, the maximum P should continuously be drawn from the BESS in order to examine the minimum time duration of the generator’s availability.\nInitial system state The battery is charged at a SOC\u003e50% assuming that the system may participate in other services as well The MV source is up and running at nominal voltage The Inverter is connected to the MV source Evolution of system state and test signals The PQ controller changes the setpoint for the active power to its maximum value. The power flow is recorded at the bus together with the time that the flow of energy starts In parallel, the SOC and battery voltage are monitored through the BMS The discharging of the BESS continues until either 1-hour elapses or the SoC drops below 10% Other parameters N/A\nTemporal resolution A sampling time of 1 s is sufficient for monitoring the required quantities\nSource of uncertainty Sources of uncertainty for this experiment may be the SoH of the battery, the ambient temperature as well as the accuracy with which the BMS calculates the SOC. In addition, accuracies of measurement equipment may apply.\nSuspension criteria / Stopping criteria The test should be suspended if no maximum power absorption is obtained from the BESS. Also, if for some reason the BMS overrides the external control in order to prioritize other functions (e.g., recharge of the battery).\n","categories":"","description":"BS generator energy availability test","excerpt":"BS generator energy availability test","ref":"/test-case-repository/docs/erigrid-2.0/tc16/16.03/","tags":"","title":"Test Specification 16.03"},{"body":"Identification ID 17\nProject ERIGrid 2.0\nDate 5/2/2021\nTest Case Definition Name of the Test Case Fault tolerance/ recovery of a multi-aggregator dispatch mechanism\nNarrative In a section of an electrical distribution grid, multiple (\u003e=2) aggregators operate independently of each other. Each of the aggregators maintains a portfolio of flexible DER units under contract. The contract provides for on-demand delivery of a grid service (e.g. load reduction/production increase).\nIt is assumed that the primary customer for the grid service in question is the local DSO operating the grid section. It is also assumed that a fair mechanism exists for matching supply (aggregators) and demand (DSO). This mechanism could e.g. be a flexibility market - but the exact workings are not relevant to the test case. For the sake of simplicity, it is assumed that the unknown mechanism has produced a merit-order list of the services offered by the different aggregators, before the start of the test. A dispatch unit is tasked with continuously matching the service demand indicated by the DSO using the merit order list, and to submit service activation requests to the appropriate aggregators.\nAt some point in time after the start of the test, a communication fault disrupts communication between the dispatch unit and one of the aggregators. To ensure that the service demand is met, the dispatch unit must decide whether the fault is temporary or permanent, and arrange for meeting the service demand with the remaining aggregator(s).\nIt is assumed that an aggregator affected by a communication fault will continue to function, i.e. service definitions agreed with the dispatch unit will continue to be delivered. However, due to the lack of updates from the dispatch unit, these services will eventually diverge from the evolving needs of the grid.\nFunction(s) under Investigation (FuI) Communication fault detection and impact mitigation. A communication fault in the context of this test case is defined as the inability of the dispatch unit to communicate with one or more aggregators, caused by a disruption of the communication link. Implementations of the two functions will typically require functionality both on the dispatch unit as well as on the aggregator side.\nObject under Investigation (OuI) Aggregator dispatch unit\nDomain under Investigation (DuI) Electrical ICT Purpose of Investigation (PoI) Characterisation of (the performance of) system recovery from a permanent communication failure.\nSystem under Test (SuT) The test system consists of an electrical grid section, energy resources, aggregators, a dispatch unit, a service requester (DSO) and an ICT command and control infrastructure. The electrical grid section is a part of a LV and/or MV distribution grid (e.g. 0.4kV and 10kV) with a number of flexible DER units distributed across one or multiple feeders. The ICT infrastructure consists of three separate types of IT systems (dispatch unit, aggregator and DER controller) as well as the communication links between these entities.\nFunctions under Test (FuT) Communication fault detection and impact mitigation (FuI) Coordinated congestion management, consisting of an algorithm for congestion management as well as the communication between units needed to implement the algorithm (i.e. between unit controllers and aggregators and between aggregators and dispatch unit) Aggregator internal dispatch mechanism, consisting of portfolio management and unit dispatch Unit controller functionality, consisting of local flexibility calculation and management A dispatch mechanism for aggregators, executing on the dispatch unit. A congestion detection method, emulating the determination of service requirements by a DSO. Test criteria (TCR) Time to detection of a nonresponsive aggregator Time to full service restoration Target Metrics (TM) Time elapsed from the occurrence of a communication fault to the classification of an aggregator as nonresponsive by the dispatch unit [s] Time elapsed from the occurrence of a communication fault to the restoration of a stable steady state in which the entire service demand as requested by the DSO is met by the aggregators [s]. Variability Attributes (VA) Controllable Frequency of service change requests from dispatch unit to aggregators [1/10s to 1/10min] Duration of communication failure [100ms to permanent] Variability of baseload profile [0 to 100% of mean baseload] Quality Attributes (QA) Confidence in the accuracy of the time measurements (measurement error \u003c= +/- 10% of measured value) Qualification Strategy The system will be characterized in two different domains:\nIsolated in the ICT domain: How well does the multi-aggregator system recover from a communication fault? The overall performance of the system in the electrical power domain: What is the impact of the fault recovery in the ICT domain on the ability of the multi-aggregator system to deliver a power system service? This will be achieved by a sequence of two tests:\nOne test to determine the performance of a multi-aggregator system without any communication fault recovery mechanism. This will establish a baseline for overall system performance in the electrical power system domain. A second test where a recovery mechanism is in place. This will allow both characterization objectives to be achieved by (a) measuring the performance of the fault recovery mechanism in the ICT domain, and (b) comparing the performance of the entire multi-aggregator system to the baseline results. ","categories":"","description":"Fault tolerance/ recovery of a multi-aggregator dispatch mechanism","excerpt":"Fault tolerance/ recovery of a multi-aggregator dispatch mechanism","ref":"/test-case-repository/docs/erigrid-2.0/tc17/","tags":"","title":"Test Case 17"},{"body":"Identification ID 18\nAuthor Christoph Bauschmann, Matti Aro, Petra Raussi\nVersion 1\nProject ERIGrid 2.0\nDate 19/4/2021\nTest Case Definition Name of the Test Case Evaluation of various service definitions and activation patterns\nNarrative Aggregation can serve the representation and coordinated operation with respect to energy markets. Cyber-physical interactions appear especially in congestion management, where aggregators may trade as well as in the facilitation and match-making in a Local Energy Community (LEC).\nA peer-to-peer trading platform for energy community management leads to an implicit energy dispatch that is traced by the community manager. Prior to participation in a Virtual Power Plant (VPP) formed by distributed aggregations, the provided ancillary services undergo pre-qualification tests to their communication and flexibility characterization aspects.\nThis test case concerns the evaluation of the services required for and offered by an aggregation platform, as well as their connected activation patterns. The test scenarios serve the validation of continuous service provision under various disruptions and system settings.\nThe two scales of the power system considered here are MV/LV distribution networks and single LV distribution feeders, both with various loads, renewable generation, demand side ﬂexibility, such as EV charging infrastructure, and other DERs.\nFunction(s) under Investigation (FuI) Aggregator services providing stability and flexibility to the network\nObject under Investigation (OuI) Activations patterns, services, impacts to power grid\nDomain under Investigation (DuI) Electrical power system Control/ICT Purpose of Investigation (PoI) PoI#1: Evaluate system services and connected activation patterns of an aggregator platform (e.g., fast frequency response, Fault Ride Through, blackstart assistance, coordinated voltage control, virtual inertia provision) PoI#2: Evaluate continuous service provision under disruptions and addressment of irregularities (e.g., congestion, loss of a line/generator, errors in forecast/measurement) PoI#3: Determine/validate pre-qualification factors for ancillary services System under Test (SuT) Distribution system (lines, transformers, etc.): power distribution network (MV/LV) / LV distribution feeder Local energy community (LEC): flexible loads (domestic), inflexible loads (e.g., ships), DERs (e.g., PV, wind turbine, energy storage system) Aggregation platform / VPP: energy sharing coordinator (control system), communication systems, measuring and monitoring devices Functions under Test (FuT) In-focus functions: Aggregator platform services\nEmulated functions: Controlling functions of the systems (e.g., aggregator network management control methods, DER controlling, storage system controlling)\nActuation functions: Controllable loads, demand response signals\nObserver functions: Monitoring of network properties (e.g., voltage, current, uncontrollable load)\nTest criteria (TCR) Safe and robust voltage for all nodes Transient and frequency stability Fulfillment (in real-time) of the scheduled power profile in presence of disruptions/errors Effectiveness of ancillary service activation patterns Scalability of aggregation and control solutions Communication functionality for aggregation, service matching, fail-over, conﬁguration, and interoperability Target Metrics (TM) Voltage/frequency regulation regions: [image] Short fulfillment time Optimal dispatch of flexibilities Variability Attributes (VA) Congestion (load) Loss of a line/generator Errors in forecast/measurement Medium-voltage variations Participating DERs (number \u0026 type) Concurrent services (interference/synergy) Quality Attributes (QA) Power quality standard EN50160 All node voltages within the specified limit (+ or -10%) Quick fault reduction Qualification Strategy PoI#1 is met with TS 18.01 and PoI#2 is met with TS 18.02. PoI#3 does not have a separate TS as it falls under the TC19 pre-qualification concepts. ","categories":"","description":"Evaluation of various service definitions and activation patterns","excerpt":"Evaluation of various service definitions and activation patterns","ref":"/test-case-repository/docs/erigrid-2.0/tc18/","tags":"","title":"Test Case 18"},{"body":"Test Specification Definition ID 18.01\nReference to Test Case TC18 Evaluation of various service definitions and activation patterns\nTitle of Test Evaluation of system services and activation patterns after functional disruption in the local grid\nTest Rationale Aim is to evaluate system services and connected activation patterns of an aggregator platform during and/or after a functional disruption in the near location (e.g., Fault Ride Through, blackstart assistance, virtual inertia provision)\nSpecific Test System (graphical) Target measures The test scenarios serve the validation of continuous service provision under various disruptions and system settings. Input and output parameters Control signal before and after the disruption as an input. Active power as an output. Test Design 30 minute long simulation period during which a disruption is introduced that breaks the connection of communication and/or electricity from aggregator/public grid. Initial system state Initially the system service is operating normally and the grid is functioning without disruptions.\nEvolution of system state and test signals A disruption is introduced. Communication and/or grid connection is momentarily lost. System(s) providing the flexibility service is then evaluated to see if nornal operation can be established again.\nOther parameters communication latency, communication signal, voltage and current observed from the DER(s)\nTemporal resolution 1 second resolution\nSource of uncertainty Only certain amount of different kind of disruptions can be tested for. In other words, everything cannot be tested.\nSuspension criteria / Stopping criteria 30 minutes or permanent loss of communication and/or grid connection\n","categories":"","description":"Evaluation of system services and activation patterns after functional disruption in the local grid","excerpt":"Evaluation of system services and activation patterns after functional …","ref":"/test-case-repository/docs/erigrid-2.0/tc18/18.01/","tags":"","title":"Test Specification 18.01"},{"body":"Test Specification Definition ID 18.02\nReference to Test Case TC18 Evaluation of various service definitions and activation patterns\nTitle of Test Evaluating the provision of regulatory aggregator services under irregularities after network disruptions or errors in forecast/measurement\nTest Rationale This test investigates aggregator services that are involved in regulating the grid properties towards desired values in case of emerging deviations:\nCoordinated voltage control Fast frequency response Virtual inertia provision In the process, the individual activation patterns of the services undergo assessment. Simulation software provides the various auxiliary services required for their functionality:\nCollection of updated capabilities from DERs Evaluation of automatic restoration reserve provision by DERs, storage units and controllable loads Computation of optimal and feasible P/Q set-point Verification of actual P/Q produced and possible recalculation ICT-related effects are abstracted as activation delays, making this an “idealized” case.\nSpecific Test System This Test Specification requires a simulator of a grid (MV/LV distribution network or single LV distribution feeder) with several connected DERs / storage units.\nTarget measures Safe and robust voltage for all nodes: Direct voltage operating regions not violated Frequency restoration time: \u003c120sec Steady-state deviation: \u003c0.1Hz Reserves availability (power/energy): \u003e20% DERs curtailment: \u003c30% Loads curtailment: \u003c5% Input and output parameters Uncontrollable input parameters:\nGrid topology Generation and load profiles DER controllers parameters Tie-line exchange specifications Controllable input parameters:\nVoltage set-point Frequency set-point Load value Output parameters:\nNode voltages Power losses Test Design The test considers several consecutive imbalances and voltage/frequency deviations in order to sufficiently evaluate the capability of the voltage/frequency control system to cope with such incidents. The following border cases are defined:\nMaximally decrease input voltage/frequency, use constant voltage/frequency set-point Maximally increase input voltage/frequency, use constant voltage/frequency set-point Decrease voltage/frequency set-point from maximal to minimal value, do not artificially vary input voltage/frequency Increase voltage/frequency set-point from minimal to maximal value, do not artificially vary input voltage/frequency The operating set-points are determined. The output stabilizes. The input voltage/frequency and/or the set-points are varied according to the current border case. The test criteria are assessed. Steps 2-4 are repeated until the testing of each predefined border case was concluded. Initial system state Initial power flow conditions:\nThe voltage/frequency value (output) matches the voltage/frequency set-point. The combination of the RES units should provide at least 20% of their nominal power. The consumption of the loads should be at least 20% of the maximum consumption. The imbalance should be under 5%. Evolution of system state and test signals At first, the system is sufficiently balanced with only a small amount of reserves (ideally zero) implemented and the voltage/frequency nominal. An imbalance emerges which leads to a significant voltage/frequency deviation and the consequent activation of a large part of reserves after a simulated communication delay. Consumption or production changes in order to reduce the variation. Subsequent disturbances emerge either before or after the restoration of voltage/frequency to its nominal value. Having started at Inp0, the voltage/frequency changes up to Val1, then down to Val2 etc. with varying step sizes (St1, St2, ...). For example, changes to the frequency could occur with a fixed ramp rate and amplitude. The test is successful if load voltage/frequency is always regulated within its operating interval [TOL-, TOL+]. Other parameters N/A\nTemporal resolution The simulation is continuous, with time step sizes depending on the software experiment:\nTime constants inside SuT in-between 50 μs and 5 s Monitoring quantities with a maximum sampling time of 0.1 sec. Internal time resolution of communication simulation Source of uncertainty Grid parameters variability (i.e., resistance/inductance ratio) Timing deviations, communication delays Consumers’ demand Environmental conditions Suspension criteria / Stopping criteria Restoration and stabilization of regular network behavior and properties (according to power quality standard EN50160) Passage of predetermined critical amount of time Violation of quality attributes Deviation from initial conditions during start ","categories":"","description":"Evaluating the provision of regulatory aggregator services under irregularities after network disruptions or errors in forecast/measurement","excerpt":"Evaluating the provision of regulatory aggregator services under …","ref":"/test-case-repository/docs/erigrid-2.0/tc18/18.02/","tags":"","title":"Test Specification 18.02"},{"body":"Identification ID 19\nAuthor Merkebu Zenebe, Tesfaye Amare, Petra Raussi, Aro Matti\nVersion 1\nProject ERIGrid 2.0\nDate 28/4/2021\nTest Case Definition Name of the Test Case Evaluation of unintended impacts of activation of flexibility resources on the quality of supply Narrative Flexibility services have the potential to negatively affect local power quality. These unintended impacts might be a result of large amounts of flexibility resources and related power electronics under same distribution feeder. Unintended impacts might also result from mis use of flexibility controllers if an attacker is able to breach the communication between controller and flexibility resource.\nUnintended impact is evaluated mainly on the quality of supply but also on the ICT connections. Function(s) under Investigation (FuI) The function under investigation is the activation of flexibility resources.\nObject under Investigation (OuI) Local or Remote controller The communication infrastructure between the controller and the flexibility resource. A flexibility resource on the demand side. Domain under Investigation (DuI) Electric Power system ICT/Control System Purpose of Investigation (PoI) PoI#1: Characterization of impacts of activation flexibility resources on QoS\nPoI#2: Characterization of the communication technologies used for flexibility activation for their vulnerabilities towards misuse case.\nSystem under Test (SuT) The test system includes large distribution network, customer loads with variety of flexibility resources (shiftable loads, hot water tanks, home EV charging stations …etc). In addition, an aggregator/DSO with responsibility of activation of flexibility resources implicitly or explicitly. The underlying ICT infrastructure for both control and price signal communication is also part of the test system.\nFunctions under Test (FuT) DSO function: Peak shaving Customer function: Load generation balancing / maximize self-consumption Energy retailer function: day ahead market participation TSO function: frequency regulation Test criteria (TCR) The flexibility resources shall be able to provide the requested service on time and within the requested capacity (PoI#1) The activation of flexibility resources shall not increase network losses, voltage quality problems or additional peaks in the network (PoI#1) The communication infrastructure in place shall not create new vulnerabilities for mis use cases. Also, it shall communicate control and price signals with acceptable level of latency. (PoI#2) Target Metrics (TM) Flexibility service-related metrics:\nCapacity (MW) Duration (t) Ramp rate (dP/dT) Unintended impact related metrics:\nNetwork loss (reactive power flow) (kWh) Overloading of network components (% of rating) Blackout probability (Load Altering Attack related metrics, in relation to natural frequency of grid, possibility for frequent switching?) Communication infrastructure related metrics (adequacy):\nLatency Packet loss Variability Attributes (VA) Type and volume of flexibility resources Type and requirements of service requests Electrical grid configuration Peak/off-peak time (affects the probability of creating local peaks) Cyber-attack behaviors Type of communication technology used and traffic behaviors: Failure rate of components Quality Attributes (QA) For voltage quality measurements, the measured value should not be below 0.95 pu ? or above 1.05 pu? Total harmonic distortion Vulnerability for LAA (Pass/fail) Overloading (%rating) threshold varies for transformers, overhead lines and underground cables. Qualification Strategy PoI#1 is met with Test Specification 19.01 and PoI#2 with Test Specification 19.02.\n","categories":"","description":"\nEvaluation of unintended impacts of activation of flexibility resources on the quality of supply ","excerpt":"\nEvaluation of unintended impacts of activation of flexibility …","ref":"/test-case-repository/docs/erigrid-2.0/tc19/","tags":"","title":"Test Case 19"},{"body":"Test Specification Definition ID 19.01\nReference to Test Case 19 Evaluation of unintended impacts of activation of flexibility resources on the quality of supply\nTitle of Test Evaluation of unintended impacts of large amount of EVs under same distribution feeder participating on frequency regulation (FCR-n market in Finland)\nTest Rationale Aim is to find out if activation of large amount of flexibility from electric vehicles in a local area could cause unintended impacts on the quality of supply.\nSpecific Test System (graphical) The test system consists of a large distribution network, which includes customer loads, e.g. EVs and charging stations. There is also an underlying ICT infrastructure providing the control and price signal communication and the activation signals from an aggregator/DSO. The focal point is the OuI, which are the local or remote controller and the flexibility resource on the demand side, while the ICT infrastructure is assumed to operate normally implicitly. Target measures Voltage, Current, Harmonic Distortion.\nInput and output parameters Controllable input parameters: activation control of EVs, power of EVs Uncontrollable input parameters: loading level, power Measured parameters: voltage, current, distortion, frequency Test Design One hour participation in flexibility markets (e.g. in Frequency Regulation) with multiple electric vehicles in a local area. Number of EVs is variable as well as the power change capacity of individual EVs. Initial system state Initially none of the controlled EVs are in operation, but rest of the loads are in operation to reach an initially stability. Evolution of system state and test signals A random amount of EVs in random locations of the distribution grid will be activated and after the reaching new equilibrium the process is repeated.\nOther parameters Frequency measurement, time of day, time of week, weather, SoC of EVs.\nTemporal resolution 1 sec time resolution.\nSource of uncertainty EV user behaviour, willingness to participate in demand response.\nSuspension criteria / Stopping criteria If after the initial state there are no EVs controlled within a couple of cycles or if the response to the activation causes the system to become unstable and unable to reach stability again. ","categories":"","description":"Evaluation of unintended impacts of large amount of EVs under same distribution feeder participating on frequency regulation (FCR-n market in Finland)","excerpt":"Evaluation of unintended impacts of large amount of EVs under same …","ref":"/test-case-repository/docs/erigrid-2.0/tc19/19.01/","tags":"","title":"Test Specification 19.01"},{"body":"Test Specification Definition ID 19.02\nReference to Test Case Test Case 19: Evaluation of unintended impacts of activation of flexibility resources on the quality of supply\nTitle of Test Evaluation of the impact of ICT support system for flexibility activation on the quality of supply. Test Rationale This test is about evaluating the adequacy and vulnerability of the ICT support system during flexibility activation. The ICT infrastructure facilitates the communication between the utility / DSO, aggregators, TSO/energy retailers, and the flexibility resources on the user end. The test focusses on the ICT's function to carry the direct load control (DLC) signal from utilities (DSOs or aggregators) to the flexibility resource. In the adequacy investigation, the aim is to assess the impact of delays and packets losses in the control signals of flexibility activation on the quality of the supply and stability of the system. In addition, it also looks into identifying the vulnerabilities of the ICT support system towards the misuse cases. It assess how these vulnerabilities can be exploited by an attacker and measures the impact of these attacks on quality of supply or the stability of the system.\nSpecific Test System (graphical) The test system, shown in figure below, consists a power system, ICT and Control system. The power system is a distribution network with loads/Flexibility resources such as EVs/heating loads. The ICT/control system consists a direct load controller either at the DSO or at an aggregator (optional) that sends switching signals to the flexibility resources. The aggregator avails flexibility resources to TSOs in accordance with the contractual agreement in the reserve market. Hence, depending on the frequency level and the associated power, control signals are sent to the flexibility resources by the aggregators. The ICT system consist the communication network connecting the controller at the DSO or aggregator with the TSO/ Energy retailer and the flexibility resource on the end user side. In the middle, an attacker may interfere with the operation of the aggregator's communication to the upstream controllers or downstream communication to the flexibility resource's control.\nTarget measures Frequency, Voltage quality, vulnerability for LAA, delay, packet loss. Input and output parameters Input parameters: Attack behavior, attack duration, background traffic behavior, Load/power of EVs (MW), nominal frequency, Output Parameters: delay, packet loss, load (MW), ∆ frequency, Voltage etc\nTest Design The test design for achieving PoI #3 is as follows:\nThe system operates normally with the nominal operating frequency and voltages at every point in the system are within the specified margins. Add some background traffic in the communication between controllers and flexibility resource. OR Initiate the cyber-attack injecting false commands on the aggregator's or controller's communication to the flexibility resource. Change the load dynamics that can result in a significant deviation in the operating frequency or voltage values in the system. The change in loads will be automatically followed by flexibility activation. This could be either a frequency regulation based on a pre-agreed contractual agreement or an activation for congestion management by the DSO. The activation will last for a specified amount of time. collect the statistics/ output and target measures Repeat these steps with a varying background traffic or attack behaviors. Initial system state In the power system: Normal loads in the system operate and the system reach stability. There is no activation of flexibility resources. In the ICT system: no attack is initiated, and no background traffic is injected. The operating frequency is at nominal value ~ 50 Hz, and the voltage quality is within the limits (±10% ) in the LV network.\nEvolution of system state and test signals The system state starts with its initial state as presented above (Frequency ~ 50 Hz and Voltage (±10%) The load dynamics changes results in a small deviation of frequency from its nominal value or a voltage drop. (Frequency ±1% (49.5 - 50.5 Hz) OR in a deviation on the voltage quality ±10% (0.90 pu \u003c V \u003c 1.10 pu) Flexibility activation is initiated to account for the deviation/imbalance. The use of background traffic or initiating the cyber-attack may or may not have an impact on the target measures. Hence, the Frequency may go back to the nominal frequency ~50 Hz or the deviation may sustain/increased \u003e ±1% (f \u003c 49.5 or f \u003e 50.5 Hz) due to the cyber-attacks such as LLA. Similarly, if the activation is for congestion management/voltage regulation, the deviation on the voltage quality may either goes back to ranges within the limits ±10% (0.90 pu \u003c V \u003c 1.10 pu) or a sustained or increased deviation due to the delays and packet losses in the flexibility activation signals V \u003e ±10% (V \u003c 0.90 pu or V \u003e 1.10 pu) Other parameters Customer side inconvenience parameter, aging of EV batter due to frequent charge-discharge cycles.\nTemporal resolution 100 µs\nSource of uncertainty Cyber-attack behavior, (data) traffic behavior, Load dynamics or power demand on flexibility resources.\nSuspension criteria / Stopping criteria If the system become unstable i.e., ∆ frequency passes the threshold, overloading of the lines passing the threshold values.\n","categories":"","description":"\nEvaluation of the impact of ICT support system for flexibility activation on the quality of supply.  ","excerpt":"\nEvaluation of the impact of ICT support system for flexibility …","ref":"/test-case-repository/docs/erigrid-2.0/tc19/19.02/","tags":"","title":"Test Specification 19.02"},{"body":"Identification ID 20\nAuthor OFFIS\nVersion 1.0\nProject ERIGrid 2.0\nDate 02/02/2021\nTest Case Definition Name of the Test Case Test methods for integration/interoperability assessment for building and resource-level management systems in participation with aggregation platform\nNarrative With the increasing reliance of MV and LV level power systems on DERs, it becomes important to ensure a wide interoperability between different aggregation infrastructures and local management systems of DERs, including EVs, energy storages, PV, wind turbines, and smart buildings. Indicators for the achieved interoperability are the ease of transfer of a DER from one Virtual Power Plant (VPP) to another, the coordinated control and monitoring of the resources, and the potential for service matching among the providers. These processes depend on a functional information exchange between a central control and the DER control systems. This test case applies to aggregator platforms as well as peer-to-peer (P2P) trading platforms for energy community management. Two scales of the power system are within the scope of testing: MV/LV distribution networks and LV distribution feeders, each with the potential for various loads, renewable generation and demand side ﬂexibility.\nFunction(s) under Investigation (FuI) DER integration into a new platform Communication for aggregation, service matching, fail-over, conﬁguration and/or flexibility trade Ancillary service provision under different scales of aggregation and control solutions Object under Investigation (OuI) Aggregator platforms / P2P trading platforms Local management systems of buildings/resources Aggregation infrastructure of power systems Domain under Investigation (DuI) Electrical power system Control/ICT Domain of final energy use Purpose of Investigation (PoI) PoI#1: Evaluate aggregator platforms / P2P trading platforms for capability of seamless integration of new DER participants PoI#2: Evaluate local management systems of buildings/resources in terms of interoperability with platforms PoI#3: Study the transfer process of DERs from one aggregation infrastructure to another PoI#4: Validate operational capability of flexibility services directly after configuration of introduced DER System under Test (SuT) Aggregation infrastructures and platforms: energy sharing coordinators (control systems), communication systems, measuring and monitoring devices Local energy communities (LECs): DERs (e.g., PV, wind turbines, energy storage systems, smart buildings), flexible loads (domestic), inflexible loads (e.g., ships) Local management systems of buildings/resources and reactive power controllable equipment Distribution system (lines, transformers, etc.): power distribution network (MV/LV) / LV distribution feeder Functions under Test (FuT) In-focus functions: Controlling functions of the systems (i.e., aggregator network management control methods, DER controlling, storage system controlling), DER configuration and integration\nEmulated functions: Aggregator platform services\nActuation functions: Controllable loads, demand response signals\nObserver functions: Monitoring of network properties (e.g., voltage, current, uncontrollable load)\nTest criteria (TCR) Seamless integration and configuration process Applicability of DERs to various diverging aggregation infrastructures Effective matching of available services and optimal dispatch Scalability and flexibility of aggregation and control solutions Functional communication for aggregator service provision Target Metrics (TM) Workload, time and cost of integration and configuration process Software and operation adjustments required for control of additional DERs Addition and improvement of aggregator services (in terms of fulfillment time, reliability, energy efficiency etc.) Variability Attributes (VA) Properties of connected networks (e.g., medium voltage, frequency, load) Participating DERs (number \u0026 type) Concurrent services (interference/synergy) Platform specific requirements (e.g., coordination with traditional voltage support components for voltage regulation) Quality Attributes (QA) Stable grid operation and integrity (respecting power quality standard EN50160) Interoperability of DER management system to at least two different platforms Short integration process Qualification Strategy Test Specifications to this Test Case will address the PoI for a specific DER type. TS 20.1 covers PoI#2 and PoI#4 for PV systems directly within its testing scope, while providing the means to evaluate PoI#1 and PoI#3 based on the results accomplished by the previously integrated PV system.\n","categories":"","description":"Test methods for integration/interoperability assessment for building and resource-level management systems in participation with aggregation platform","excerpt":"Test methods for integration/interoperability assessment for building …","ref":"/test-case-repository/docs/erigrid-2.0/tc20/","tags":"","title":"Test Case 20"},{"body":"Test Specification Definition ID 20.1\nReference to Test Case TC20: Test methods for integration/interoperability assessment for building and resource-level management systems in participation with aggregation platform\nTitle of Test Precise control of PV system operational settings (smart inverter) for reactive power and active power limitation on different aggregation platforms\nTest Rationale In this Test Scenario, a PV plant is tested for interoperability with two distinct aggregation infrastructures. The plant may start out in one of the networks and therefore already be known as interoperable to the initial platform prior to transfer. Otherwise, the interoperability has to be proven for both infrastructures independently. The PV plant is governed by a programmable automation control system that is scalable and fully integrated with all required data acquisition, analytical and control logic functionalities to demonstrate advanced and reliable PV system operations. The system is equipped with smart inverters and should be capable of failure diagnosis, communication with the aggregation platform (Modbus TCP), as well as storage and ancillary services compliant to the grid code. The two networks should differ in their share of Renewable Energy Sources (RES) and medium voltages in order to validate the systems’ extensive interoperability.\nSpecific Test System The test system consists of the PV system and the separate (simulated) aggregation infrastructures to be qualified for interoperability. Additional generators and reactive power controllable equipment at different voltage levels are connected to each network. The test is either conducted with geographically distributed HIL or within a simulation.\nTarget measures Which values are monitored and which timeframes are acceptable depend on the system functionality under assessment. During congestion management, the PV operation should respect a reserves availability of at least 20%, as well as the direct voltage operating regions of the grid. If not linked to specific grid restrictions, there should be no significant performance variance for connection to the two distinct networks. All status reports and schedules must be communicated accurately and timely between the control systems.\nInput and output parameters Uncontrollable input parameters:\nGrid topology Generation and load profiles of other grid participants Controllable input parameters:\nPV system controllers parameters Voltage set-point Frequency set-point Load value Output parameters:\nCommunication acknowledgements Node voltages Power losses Test Design Testing the functionalities in their operation constitutes a practical assessment for the interoperability of the PV control system with each aggregation platform. The PV system has to fulfill ancillary services and reporting duties towards the aggregation management. It has to process and implement received activation plans. The evaluation of the system response can be done within a specific flexibility redistribution scenario. To this end, a congestion will be simulated for the connected power system. The information exchanged between the control systems during the reallocation process will be protocolled on dedicated communication channels.\nInitial system state The PV system is connected to one of the networks. The communication channels to the associated aggregation platform are set up. The initial power flow conditions are:\nThe voltage/frequency value (output) matches the voltage/frequency set-point. The consumption of the loads should be at least 20% of the maximum consumption. The combination of the RES units should provide at least 20% of their nominal power. Evolution of system state and test signals At first, the power system is sufficiently balanced, the voltage and frequency are nominal, and the PV system reserves are unengaged. Then a congestion emerges, to which the aggregation platform responds by requesting the activation of the PV reserves, alongside those of some additional RES of the network. For testing purposes, these other resources’ contribution to the congestion management is marginalized. The PV system control regulates the plant’s production and storage release to meet the grid’s demands. It incorporates subsequent updates by the platform on these demands to take further disturbances and the activity of the other RES into account, and reports on its current status and energy supply. The exchange concludes with the platform’s acknowledgement that the congestion was successfully mitigated by the increased production rate. Network properties such as voltage, frequency and load at relevant sections are monitored during the entire process to verify grid integrity at all times. Further exchanges not covered by the functionalities involved in congestion management can be tested separately and directly (e.g., scheduling or failure reporting).\nOther parameters N/A\nTemporal resolution The simulated part of the test proceeds continuously, with time step sizes depending on the software experiment:\nTime constants inside SuT in-between 50 μs and 5 s Monitoring quantities with a maximum sampling time of 0.1 sec. Source of uncertainty Grid parameters variability (i.e., resistance/inductance ratio) Timing deviations, communication delays by other participants Consumers’ demand Environmental conditions Suspension criteria / Stopping criteria Successful congestion mitigation and conclusion of all test runs for PV system functionalities Each functionality has a predetermined timeframe to operate successfully Violation of grid integrity ","categories":"","description":"Precise control of PV system operational settings (smart inverter) for reactive power and active power limitation on different aggregation platforms","excerpt":"Precise control of PV system operational settings (smart inverter) for …","ref":"/test-case-repository/docs/erigrid-2.0/tc20/20.1/","tags":"","title":"Test Specification 20.1"},{"body":"Identification ID 21\nAuthor Felipe Castro\nVersion 1\nProject ERIGrid 2.0\nDate 04/12/2020\nTest Case Definition Name of the Test Case Performance characterization of new equipment and communication technologies\nNarrative The aim of this test case is to assess the performance of equipment used for communication in smart grids and power systems, such as Remote Terminal Units (RTU). The characterization of this performance is one of the major goals of this test case, taking into account the different communication technologies that could be supported in such devices (e.g. communication protocols) and the stochastic nature of communication effects.\nIn particular, the experiments in the test case allow characterizing the performance of communication equipment by means of communication delay calculation and the rate of dropped packets between two RTUs. Through this experiment, it is possible to determine the mean value and the standard deviation of the communication delay between two devices, together with the packet loss rate for different polling times.\nFunction(s) under Investigation (FuI) The characteristics of two communication devices exchanging information. The delay of the information transmission and the loss packet rate, for different communication protocols.\nObject under Investigation (OuI) At least two communication components connected together.\nDomain under Investigation (DuI) Information and Communication Technology (ICT)\nPurpose of Investigation (PoI) Verify whether the performance of the devices is adequate for the applications for which their use is intended. Specifically, verify that the mean delay and packet loss rate of the communication complies with the minimum expected requirements for the application for which they will be used.\nSystem under Test (SuT) In order to execute this test, the following components are needed:\nReal time simulator, such as OPAL-RT At least two communication devices, such as remote terminal units (RTU) One communication emulator, such as ATTERO Ethernet connection cables (RJ45) The test consists in the connection of the Real Time simulator to both communication devices, and the connection of these devices to the communication emulator.\nFunctions under Test (FuT) Capability of the real time simulator to transmit data under different communication protocols (e.g. MODBUS, IEC 60870-5-104, IEC 61850) Capability to generate and transmit data by the real time simulator with different characteristics (data profiles) Data transmission from real time simulator to the OuI. Capability of Communication protocol translation by OuI. One communication emulator, such as ATTERO Ethernet connection cables (RJ45) Test criteria (TCR) The real time simulator needs to send a data profile periodically using a certain pre-defined communication protocol. Due to the stochastic nature of communication phenomena, the data profile needs to be sent periodically enough times to be able to obtain statistically valid results. The real time simulator needs to register the time for which data is sent and for which data is received, in order to calculate the communication delay of each data value. Target Metrics (TM) Data profile:\nThe data profile needs to be arranged in a way that it is possible to determine the communication roundtrip time (delay) of each data value. A series of increasing integer values is proposed with an increasing value change periodicity. For example: In the previous figure, the constant α represents the reduction of the time during a particular value is sent. It is noted that the polling time of the devices must be less than the time duration of a sent value.\nThe delay and the lost packages have to be registered: The delay for each successfully transmitted data value can be used to create a normal distribution of the delay probability (obtaining the mean delay value and its standard deviation): The successful transmission rate can be calculated for each value sent from the profile, allowing to determine the minimum periodicity that can be 100% successfully transmitted Variability Attributes (VA) Periodicity for which a data value changes. The delay between the OuI devices set in the communication emulator. The amount of repetitions of the experiment to obtain statistically valid results. The communication protocols involved between the real time simulator and the OuI devices, and between each of the OuI devices. Quality Attributes (QA) For delay calculation, at least have a packet loss rate less than 1%\nQualification Strategy The PoI can be addressed by firstly determining which are the requirements in terms of Quality of Service (QoS) of the application for which the communication is being assessed. These requirements are to be determined by the user depending on individual criteria.\nSecondly, the minimum periodicity for which a value is sent and for which there is a packet loss less than 1% can be assessed by following the Test Specification NA4-TC21.TS1.\nFinally, considering the results from NA4-TC21.TS1, the QoS performance indicators can be obtained for different emulated delays by following the Test Specification NA4-TC21.TS2.\n","categories":"","description":"Performance characterization of new equipment and communication technologies","excerpt":"Performance characterization of new equipment and communication …","ref":"/test-case-repository/docs/erigrid-2.0/tc21/","tags":"","title":"Test Case 21"},{"body":"Identification ID 22\nProject ERIGrid 2.0\nDate 28/04/21\nTest Case Definition Name of the Test Case Resilience Assessment of ICT infrastructure\nNarrative The broad aim of this test case is to quantify and assess the resilience of ICT equipment used for communication in Cyber Physical Systems (CPS), i.e., smart grids. More specifically, the focus is on cyber resilience of digital substations. In a digital substation, analogue signal wiring is replaced with digital Ethernet (IEEE 802.3) links. Communication within a digital substation is realized through the IEC 61850 standard that covers substation automation and protection functionalities. Communication with the control center is realized through a dedicated communication gateway using protocols such as IEC 60870-5-104 and/or DNP 3. CPS resilience assessment considers the impact on power grid operation, when the abovementioned protocols/standards in digital substations are subjected to disturbances or targeted cyber attacks – packet loss, denial of service, etc. The characterization of this performance is one of the major interests of this test case, considering the nature of communication effects, and their overall impact on grid operations. Function(s) under Investigation (FuI) Protection and automation functionality in a digital substation. Type of data exchanged, i.e., control commands and measurements. Object under Investigation (OuI) Digital substation (see SuT for more information)\nDomain under Investigation (DuI) Information and Communication Technology (ICT) Electrical Purpose of Investigation (PoI) Verification and characterization of cyber resilience of digital substations. Specifically, characterize and verify the impact of ICT infrastructure performance on grid operations, in a digital substation in the presence of:\nComponent failures in the ICT infrastructure of the substation Misconfiguration of the ICT infrastructure Cyber attacks targeting the substation ICT infrastructure The impact on grid operations is measured by noting how aforementioned factors affect protection functionality, i.e., tripping times in a digital substation.\nSystem under Test (SuT) A digital substation includes substation bays, merging units, Ethernet switches (representing the process bus), Human Machine Interfaces (HMIs), time servers, Intelligent Electronic Devices (IEDs), Remote Terminal Units (RTUs), centralized protection and control units, station control systems, etc. A substation bay comprises busbars, disconnectors, circuit breakers, current and voltage transformers (CTs and VTs), etc. Hence, to realize this test case, the following components are required:\nReal-time grid simulator such as RTDS or OPAL-RT that supports Hardware-in-Loop (HIL) studies Substation network elements: At least one ethernet switch and time server. At least two or more physical IEC 61850 capable IEDs RTUs, MUs, other HIL devices A communication network emulator/simulator to model disturbances/cyber attacks The testing involves interfacing the real-time grid simulator with all hardware components in a HIL setup to mimic a digital substation. Furthermore, the real-time grid simulator also needs to be interfaced with the network emulator to model and input communication related effects such as latency, packet loss, loss of service, etc.\nSource: Centralized Protection and Control. ABB Whitepaper, 2020. Functions under Test (FuT) Capability of the real-time grid simulator to exchange data using IEC 61850 and IEC 60870-5-104 Automation and protection functionality realized by OuI Behaviour and performance of IEDs within the SuT, when subjected to specific disturbances Emulation of communication networks Performance of communication network emulator, i.e., Mininet Test criteria (TCR) Equipment response and performance under normal operating conditions Equipment response and performance when subjected to communication-based disturbances – packet losses, latency, etc. System response to communication-based disturbances Target Metrics (TM) Tripping times During normal operating conditions During disturbances Communication of control commands (GOOSE) During faulted (short-circuit) conditions During communication disturbances Variability Attributes (VA) Type of protection scheme implemented Overall substation configuration and topology Characteristics of network emulator Redundancy (N-1, N-2…. N-k): Number of components or communication links which can fail before system operation is at risk Topology and type of simulated power system (transmission vs distribution) Type of cyber-attack, e.g., Denial-of-Service (DoS), malformed authentication codes, etc. Quality Attributes (QA) Real-time communication performance during normal, electrical fault and communication disturbance conditions Pass: performance within max threshold of 10 ms Fail: performance exceeds 10 ms under any conditions Qualification Strategy The PoI are mainly addressed by characterizing and verifying the impact of ICT infrastructure performance on grid operations, in a digital substation. This can be achieved by determining how protection functionality and thereby power system stability is affected by disturbances to ICT infrastructure. As per the IEC 61850 standard, the maximum tripping time for protection equipment should always be lesser than 10ms. Hence, this can be used as a metric to assess the cyber resilience of a digital substation. This assessment is subject to presence of component failures in the ICT infrastructure of the substation, misconfigurations, and cyber attacks targeting the substation ICT infrastructure. ","categories":"","description":"Resilience Assessment of ICT infrastructure","excerpt":"Resilience Assessment of ICT infrastructure","ref":"/test-case-repository/docs/erigrid-2.0/tc22/","tags":"","title":"Test Case 22"},{"body":"Identification ID 23\nAuthor Tesfaye Amare Zerihun\nVersion 1\nProject ERIGrid 2.0\nDate 10/05/2020\nTest Case Definition Name of the Test Case Verification of the reliability of a redundant system or algorithm (e.g. failover)\nNarrative The aim of this test case is to assess and verify the reliability of failover systems in smart grids that relies on putting redundancy. Redundancy is mainly used for critical smart grid applications such as protection in substations. In general, the redundancy can be either for control systems (such as the SCADA controller), communication networks or network controller (such as SDN controller), or a redundancy in the sensors and actuators (CT/PTs, Merging units, Breakers). Specifically, this test case looks into the reliability of failover systems with a redundancy in the communication networks.\nThe ICT support system/communication network may fail due various reasons for e.g., component (hardware) failures, environmental failures (such as weather disruption failing multiple components), a power outage, overloading of the network (capacity shortage) or cyber-attack. A fail-over system tries to quickly detect failures and switch to backup systems (smooth transition in the case of active standby systems) or it tries to recover the system after experiencing some performance glitch (the case of passive standby system). Unlike active backup systems, in the case of passive redundant systems, there can be small system down time until the backup system is powered on and takeover. The test case investigates the reliability of active or passive fail over systems to verify if these systems can meet the requirements (delays, packet loss or system down time) specified by the smart grid application considered or requirements set by the standards and protocols such as IEC 61850.\nFunction(s) under Investigation (FuI) Exchange of data (measurement and control commands) through the communication network Control functions on the local controllers / IEDs Protection functions on the local controllers / IEDs Object under Investigation (OuI) Communication Network (network devices, switches, network links), control devices or IEDs\nDomain under Investigation (DuI) Information \u0026 Communication System Control system Power system Purpose of Investigation (PoI) PoI#1: Characterization of the performance of fail-over systems with a varying degree of redundancy. PoI#1.1: Characterization of the performance of fail-over systems with redundancy in the communication network. PoI#1.2: Characterization of the performance of fail-over systems with redundancy in the controller/IED PoI#2: Characterization of the redundant communication/control system for its vulnerability towards cyber attacks PoI#3: Verification of the system level performance with standard requirements (if it complies with the minimum expected KPIs e.g., down time, packet loss or delay) System under Test (SuT) Communication network (Switches, routers, network links) Sensors (voltage sensors, CT/PT basic control), Actuators (breakers, intelligent switches) SCADA Controller (for e.g., FLISR, voltage control, monitoring functions) or local controllers/IEDs Power transmission system (substations, transmission lines) Functions under Test (FuT) Capability of the communication network/ devices to facilitate data exchange between controllers/IEDs, sensors and actuators (breaker, disconnectors) Control and Protection functions Monitoring capability of sensors (devices such as Merging units, PMUs) Actuator (breaker, disconnector) functions Test criteria (TCR) Run the system without introducing faults, and measure the communication network's performance during the normal operating condition… Introduce a fault and measure the communication network performance degradation right after a failure/fault occur/injected. Calculate and obtain the overall system performance (availability, reliability). Target Metrics (TM) End to end delay, packet loss During a normal operating condition After introducing a fault Up time, down time, availability and reliability After introducing a fault Variability Attributes (VA) Redundancy type and degree (active-active, active-standby, active-inactive) Number of simultaneous (component) failures Communication network traffic situation (background traffic) Communication topology Failure type Cascading (from PS to CS) Hardware Software Quality Attributes (QA) Pass: End to end delay (average, maximum) and packet loss are within the maximum limit or threshold values set by specifications on standard communication protocol or the smart grid application (such as protection) considered. OR, the availability, reliability measures are within the limit on the specification requirement set by system administrator.\nPacket loss \u003e T, where T is a threshold value set according to the application (protection) type considered. Packet delay larger than D ms, where D is the delay tolerance which depend on the application (protection) type considered. The delay tolerance varies from 1 ms (for bus bar protection), 4 to 8 ms (for other type of protection schemes) up to 800 ms for IED to SCADA communication. Fail: If the measured metrics (delay, packet loss, availability, or reliability) exceeds the threshold values.\nQualification Strategy ","categories":"","description":"Verification of the reliability of a redundant system or algorithm (e.g. failover)","excerpt":"Verification of the reliability of a redundant system or algorithm …","ref":"/test-case-repository/docs/erigrid-2.0/tc23/","tags":"","title":"Test Case 23"},{"body":"Identification ID 24\nProject ERIGrid 2.0\nDate 19/4/2021\nTest Case Definition Name of the Test Case Interoperability testing and validation in the activation chain of flexibility-related events in a local distribution network\nNarrative Smart grid interoperability is a main enabling facet of electricity technology developments. It comprises all parts of the smart grid, from generation to transmission and from distribution to consumption. Testing interoperability requires producing detailed test cases describing how smart grid components are intended to interact with each other. A\nsystematic approach for developing smart grid interoperability tests may facilitate the dissemination of innovative solutions, the stability and resilience of the smart grid.\nThe proposed Test Case is conducted following the JRC Smart Grid Interoperability methodology. The methodology is used mainly as a common framework for interoperability testing and consist of five stages; Use Case creation (UC), Basic Application Profile (BAP) creation, Basic\nApplication Interoperability profile (BAIOP) creation, Design of Experiments (DoE), Testing and Analysis of Experiments (AE). Each stage allows the developer to select certain features then used in the subsequent stage. During the completion of all stages, the developer can select relevant standards, their options, test beds with all qualified and test equipment as well their attributes or functions used during the testing. The proposed methodology summarizes a set of best practices the developer could follow to complete in a smooth way a smart grid interoperability test.\nFig.1 A schematic overview of the JRC Interoperability testing methodology\nIn this test case, we will investigate through the interoperability validation tests, the interaction and information exchange between the involved actors for a flexibility activation event. This event will be triggered by a local node voltage disturbance and followed by a consequent flexibility request. To this end, we will analyze voltage restoration level, time and control.\nFunction(s) under Investigation (FuI) In this use case, we will analyze the performance of the “voltage restoration” function, after a voltage disturbance occurs in the power grid when different system variables (input factors) are considered and changed. The performance of this function is assessed an interoperability point of view, where different system variables (input factors) potentially affecting the system performance are considered and their effect on the system response is analysed. A reference grid model will be used (JRA1.1?).\nObject under Investigation (OuI) Domain under Investigation (DuI) Communication/ICT/Control Electrical Power System Purpose of Investigation (PoI) Pol#1: Evaluate the interoperability between the involved actors and the different components in the system (flexibility provider, requester, other intermediates). Validate the interfaces along with specific communication technologies.\nPol#2: Assess the restoration time and the level of the restored voltage among the different interface profiles System under Test (SuT) Lower bound communication architecture: from the DSO to the Device through a Remote Terminal Unit (RTU) à two communication links: DSO ↔ RTU and RTU ↔ Device Distribution system (lines, transformers, etc.): power distribution network (MV/LV) / LV distribution feeder Functions under Test (FuT) In-focus functions: Voltage restore (including restoration time), interoperability testing validation of the selected interfaces, real time simulator for the LV distribution benchmark network\nEmulated functions: ICT network emulator- communication network emulation, Controlling functions of the systems (e.g., DSO ↔ RTU and RTU ↔ Device)\nActuation functions: Flexibility signal (demand response) to manage voltage disturbance event in a system node\nObserver functions: SCADA monitoring system to detect voltage deviations and instruct the RTU for the activation of the selected flexibility source available in the system\nTest criteria (TCR) Safe and robust voltage for all nodes Restore (in real time) of voltage to acceptable levels (0.95 pu \u003c voltage \u003c 1.05 pu) for the node the disturbance takes place Restoration time for voltage testing the communication interfaces Effectiveness of flexibility service activation patterns Communication functionality, configuration and interoperability validation for all the tested interfaces Target Metrics (TM) The value of the voltage measured at node 𝑖 after the flexibility (located at the same node) is activated in the attempt of restoring the voltage within the allowed DSO-specific voltage range The time the system took in order to restore the voltage at node 𝑖 Variability Attributes (VA) The admitted voltage deviation, which is the maximum allowed value from which the node voltage, in percentage, can deviate with respect to the reference voltage. This parameter is meant to be a DSO-oriented factor, and the influence of its variability on the system outputs (together with that of the other considered input factors) is studied.\nQuality Attributes (QA) Power quality standard EN50160 All node voltages within the specified limit (+ or -10%) System restoration time Qualification Strategy Both PoI#1 and PoI#2 are met with Test Specification 24.01. The overall interoperability evaluation for the test will be in the form of a final “pass/fail” form. For PoI#2, the time that the system needs to activate the voltage support mechanism and successfully restore the voltage to acceptable levels will be evaluated. It should be also mentioned that although both PoI can be met by TS 24.01, multiple interfaces (each one corresponding to a different BAIOP) depending on the selected telecommunication technology will be tested for the two communication links under consideration (DSO ↔ RTU and RTU ↔ Device). These will result in multiple experiment specifications.\n","categories":"","description":"Interoperability testing and validation in the activation chain of flexibility-related events in a local distribution network","excerpt":"Interoperability testing and validation in the activation chain of …","ref":"/test-case-repository/docs/erigrid-2.0/tc24/","tags":"","title":"Test Case 24"},{"body":"Test Specification Definition ID 24.01\nReference to Test Case Interoperability testing and validation in the activation chain of flexibility-related events in a local distribution network\nTitle of Test Interoperability validation and evaluation of the activation chain to satisfy a DSO flexibility request as a response to a voltage disturbance event at a specific grid node.\nTest Rationale The aim is to investigate through the interoperability validation tests, the interaction and information exchange between the involved actors for a flexibility activation event. This event will be triggered by a local node voltage disturbance (functional disruption) and followed by a consequent flexibility request.\nSpecific Test System (graphical) Target measures In the system under test, the interoperability test will be in the simple “pass/fail” form. The time the system requires to restore the voltage back to the desirable deviation levels is evaluated, i.e., the time that the system takes to respond to the voltage support mechanism after a disturbance in the power grid. If this time = ∞ --\u003e fail, else --\u003e pass\nInput and output parameters Internal RTU time delay Reference Voltage Admitted Voltage Deviation Time required for Flex to activate Available flexibility capacity Maximum activation time for flexibility Test Design A simulation period of X minutes long, during which a functional disruption is introduced in the system. This disruption causes a voltage disturbance and results in a flexibility activation request to restore the system back to acceptable conditions. The connection and communication between all the involved actors in the activation chain is evaluated under an interoperability point of view.\nInitial system state Initially the system service is operating “as usual”. The grid loads are at their nominal values and the grid is functioning without disruptions. As far as the communication is concerned, we assume that the communication links between the various actors are 100% reliable.\nEvolution of system state and test signals The networked is continuously monitored by the SCADA. A voltage disruption (disturbance) is introduced at a specific node. The system (through the DSO) asks for flexibility so as to restore the voltage in a reasonable time period. The interconnection between the whole activation chain and all necessary actors is studied and assessed under an interoperability point of view.\nOther parameters Temporal resolution To be determined\nSource of uncertainty Only a deterministic type of disruption event is introduced.\nSuspension criteria / Stopping criteria 30 minutes or permanent loss of communication and/or grid connection\n","categories":"","description":"Interoperability validation and evaluation of the activation chain to satisfy a DSO flexibility request as a response to a voltage disturbance event at a specific grid node.","excerpt":"Interoperability validation and evaluation of the activation chain to …","ref":"/test-case-repository/docs/erigrid-2.0/tc24/24.01/","tags":"","title":"Test Specification 24.01"},{"body":"Identification ID 25\nAuthor Petra Raussi (VTT), Vetrivel Subramaniam Rajkumar (TUD)\nVersion 1\nProject ERIGrid 2.0\nDate 19/4/2021\nTest Case Definition Name of the Test Case Cyber Security of Digital Substations and Impact Analysis\nNarrative The energy transition towards a carbon neutral and clean energy system requires increased power grid digitalization. This is seen as the most cost-effective path in developing smart grids. An essential part of any functional power system are substations; thus, their digitalization is crucial. While the digitalization of power system brings several benefits from cost savings to more optimized operations and investments, it also raises concerns related to cybersecurity. To ensure safe and resilient operation of digital substations even in the case of cyber attacks or incidents, it is necessary to investigate their cyber resilience. This can aid in impact analysis of cyber attacks on digital substations, and help to gain deeper understanding of which components must be most secured\nFunction(s) under Investigation (FuI) Grid stability and operation when impacted by cyber-attacks/incidents Cyber resilience of digital substations Object under Investigation (OuI) Digital substation components and communication systems:\nsubstation bays (busbars, disconnectors, circuit breakers, current and voltage transformers), merging units, Ethernet switches, HMIs, time servers, IEDs, centralized protection and control units, station control systems, process bus, and communication gateways. Domain under Investigation (DuI) ICT Electrical power system Purpose of Investigation (PoI) To carry out impact analysis of cyber-physical events on digital substations and quantify impact on grid operations.\nSystem under Test (SuT) In power system domain: digital substation including substation bays, merging units, Ethernet switches, HMIs, time servers and IEDs centralised protection and control units, station control systems, etc. A substation bay comprises of busbars, disconnectors, circuit breakers, current and voltage transformers, etc. In ICT domain: communication within the substation via local operating networks (process bus) at bay level using communication protocols such as IEC 61850 and LAN at the station level for communication with the control centre via dedicated communication gateway and protocols such as IEC 104 and DNP3. Hence, to realize this test case, the following components are required:\nReal-time grid simulator such as RTDS or OPAL-RT that supports Hardware-in-Loop (HIL) studies Substation network elements: 1. At least one ethernet switch and time server. At least two or more physical IEC 61850 capable IEDs 1. RTUs, MUs, other HIL devices A dedicated communication network emulator to model disturbances/cyber attacks The testing involves interfacing the real-time grid simulator with all hardware components in a HIL setup to mimic a digital substation. Furthermore, the real-time grid simulator also needs to be interfaced with the network emulator to model and input communication related effects such as latency, packet loss, loss of service, etc.\nSource: Centralized Protection and Control. ABB Whitepaper, 2020. Link: https://library.e.abb.com/public/6b20916a4d2e412daabb76fbada1268e/Centralized_Protection_and_Control_White_paper_2NGA000256_LRENA.pdf\nFunctions under Test (FuT) Capability of test setup to exchange data using IEC 61850 and IEC 60870-5-104 Automation and protection functionality realized by OuI Behaviour and performance of substation, when subjected to specific cyber attacks/threats Test criteria (TCR) Equipment response and performance under normal operating conditions Equipment response and performance when subjected to specific cyber attacks/threats. Impact of particular attack/threat on overall system performance Target Metrics (TM) Cyber security performance and resilience testing\nThis TC assumes that the substation is conformant to IEC 62351-6 and tests its implementation for resiliency. For e.g., through Denial-of-Service attacks, malformed authentication codes, etc. Impact on Power system\nKPIs: loss of load, voltage deviations, frequency fluctuations, etc. Variability Attributes (VA) Overall substation configuration and topology Network emulator characteristics Redundancy (N-1, N-2…. N-k): Number of components or communication links which can fail before system operation is at risk Topology and type of simulated power system (transmission vs distribution) Quality Attributes (QA) System performance under cyber attacks Pass: all KPIs within maximum limits/bounds Fail: at least one KPI maximum limits Qualification Strategy The PoI are mainly addressed by characterizing and verifying the impact of cyber attacks in digital substations on grid operations. This can be achieved by determining how substation functionality and thereby power system stability and operations are directly affected by cyber-physical attacks.\n","categories":"","description":"Cyber Security of Digital Substations and Impact Analysis","excerpt":"Cyber Security of Digital Substations and Impact Analysis","ref":"/test-case-repository/docs/erigrid-2.0/tc25/","tags":"","title":"Test Case 25"},{"body":"Identification ID 3\nAuthor L. Loizou, G. Makrides, M. Kynigos, S. Theocharidis\nVersion 1\nProject ERIGrid 2.0\nDate 15/03/2021\nTest Case Definition Name of the Test Case Real-time supervision of a photovoltaic (PV) system and control of operational settings for centralized active power limitation and localized voltage regulation\nNarrative The integration of high shares of variable renewable energy (VRE) technologies, such as PV, is essential for decarbonizing and meeting the demands of future grids but introduces new grid operation challenges. In particular, the variability and uncertainty of solar electricity incurs serious stability and reliability issues in power system operations, rendering new power system flexibility options critical for ensuring balanced operation. To this end, the increasing amount of PV generation, especially at the distribution level, can create problems to the power system with a few of the reported consequences being rapidly varying voltage profiles and increased frequency swings that exceed design or regulated limits. This is the main reason why utility grids with large share deployment of distributed PV systems are fostering the transformation towards modern digitally-enhanced technologies that will enable the centralized observability and control of underlying distributed energy resources (DERs). In order to resolve these issues, programmable automation controllers (PACs) and PV system smart inverters have the interoperability capability to process signal operational set-points originating from centralized control and supervisory systems for immediate control and implementation of different autonomous control strategies (i.e. Fixed Power Factor, Volt-VAR, Volt-Watt and Frequency-Watt). In particular, intelligent edge devices such as PACs can be configured to act as a PV system power plant controller (PPC) and to pass signals that originate from centralized control and supervisory cloud-based systems to smart inverters for immediate controls (connection/disconnection of system and active power limitation). Regarding voltage regulation, the Volt-VAR mode is the most employed and discussed localized control strategy for smart inverters. This is because of the ease at which voltage regulation can be achieved by controlling the reactive power produced by the inverter. More specifically, the Volt-VAR mode provides dynamic reactive power output (absorption or injection) through responses to voltage measurements. The reactive power output follows a specified Volt-VAR response (characteristic curve) which typically would have a dead-band around the target voltage where no reactive power is injected or absorbed. In contrast to current practises of enabling localized smart inverter controls through manual methods and on-site visits, the localized Volt-VAR control strategy can be implemented by enabling the function and setting the characteristic curve points through the centralized control and supervisory cloud-based dashboard. The set-points are then transferred to the PAC that processes and relays the control function to the smart inverter (signalling responses based on SunSpec and IEC 61850). Another localized voltage regulation control mode is Volt-Watt. This control mode is applicable only to feeders with extreme over-voltage profiles and may also be enabled to operate in conjunction with the commonly applied Volt-VAR mode. Specifically, the rate of active power reduction is determined by the slope of the characteristic curve of set-points based on the voltage at the point of common coupling (PCC). To this end, this control strategy can be remotely enabled (configured at the centralized control and supervisory cloud-based dashboard) and set to the smart inverter (PAC processes control information and sets the control mode to the smart inverter) to provide active power reduction in case of voltage rises at the PCC, beyond National grid code levels. In the occurrence of fault communication conditions (loss of cloud connectivity) the PAC is set to remain/switch to the Volt-VAR autonomous control mode (fallback settings in the absence of cloud connectivity). The aim of this test case is to investigate coordinated real-time supervision and control strategies provided by cloud-based systems, PAC and SunSpec compliant smart inverters, for centralized active power limitation and localized voltage regulation. Function(s) under Investigation (FuI) PV system centralized active power limitation and enabling localized reactive and active power control for voltage regulation.\nObject under Investigation (OuI) PV system connected to a smart inverter (SunSpec compliant) that can receive automated control signals through the use of a PAC. The PAC processes real-time signals (set-points for immediate and localized controls) originating from a centralized control and supervisory cloud-based system. Domain under Investigation (DuI) Electrical power system Control ICT Purpose of Investigation (PoI) Design of a cloud-based PV PPC capable of providing automated ancillary services by taking advantage of the smart inverter abilities for immediate control (active power limitation) and to perform the Volt-VAR and Volt-Watt control modes for voltage regulation.\nSystem under Test (SuT) The SuT is composed of the following components:\nPV system Smart Inverter PAC Cloud-based database and SCADA platform Functions under Test (FuT) Real-time signalling effectiveness of centralized control and supervisory cloud-based system for PV system active power limitation (active power limitation signals originating from the cloud are communicated to the PAC that acts as an edge device PPC. The PAC processes the signals and passes them to the inverter) Volt-VAR and Volt-Watt localized control effectiveness for the provision of ancillary services (voltage regulation) from PV systems using smart inverter functionalities. The set-points of the characteristic curves are implemented at the cloud-based system dashboard and then relayed to the smart inverter via the PAC. Test criteria (TCR) Effectiveness of centralized control and supervisory cloud-based system to interoperate with on-site PPCs and smart inverters for real-time supervision and relaying of control set-points (immediate controls such as connection/disconnection, active power limitation and enabling control strategies) Effectiveness of Volt-VAR localized control mode in controlling reactive power to regulate voltage (voltage levels within grid code limits at PCC) Effectiveness of Volt-Watt localized control mode in controlling active power to regulate voltage (voltage levels within grid code limits at PCC) Target Metrics (TM) Voltage deviation Active power curtailment Reactive power injection/absorption Interoperability of PV inverter with the centralized control signals originating from the control and supervision cloud-based (communication effectiveness and latency of response) Variability Attributes (VA) PV inverter immediate control and active and reactive power set-points Control methods Interoperability methods Voltage limit set-points Rate of increase/decrease of reactive or active power injection/absorption and limitation, respectively Quality Attributes (QA) Voltage staying within a specific range (±10%) Control method reaction time latency (\u003c3 seconds) Qualification Strategy The implementation plan to meet the Purpose of Investigation (PoI) is to first design and simulate the PV power plant providing ancillary services, through different control methods, using the EMTP software offline and investigate whether the voltage is maintained within the predefined limits. Subsequently, the control model designs will be transferred to the real time simulator (RTS) for high fidelity control hardware-in-the-loop (CHIL) validation and verification. Finally, the test case will be demonstrated on a test-bench PV system that includes a smart inverter and controller using a PAC that processes signals that originate from a centralized control and supervision cloud-based system.\n","categories":"","description":"Real-time supervision of a photovoltaic (PV) system and control of operational settings for centralized active power limitation and localized voltage regulation","excerpt":"Real-time supervision of a photovoltaic (PV) system and control of …","ref":"/test-case-repository/docs/erigrid-2.0/tc03/","tags":"","title":"Test Case 3"},{"body":"Test Specification Definition ID 3.01\nReference to Test Case TC3\nTitle of Test Cloud-based real-time supervision and voltage regulation ancillary services for PV systems\nTest Rationale Design and demonstration of a grid-edge PV PPC that processes real-time signals from a cloud-based system for centralized supervision and localized voltage regulation at the PCC\nSpecific Test System (graphical) Target measures Observability of PV system and smart meter data Voltage regulation at PCC Centralized active power limitation of smart inverters PV system active and reactive power control Input and output parameters Input parameters:\nSmart meter voltage at PCC PV inverter Volt-Watt and Volt-VAR control characteristic curves Output parameters:\nImmediate smart inverter connection/disconnection signal Smart meter voltage, frequency, apparent, active and reactive power PV system active and reactive power Test Design Variation of PV system generated power Implementation of different control methods Initial system state Voltage close to 1 pu Unregulated PV system operating at maximum power point (MPP) mode Evolution of system state and test signals Measurement of increase/decrease of voltage at PCC Increase/decrease of active and reactive power with respect to voltage magnitude Other parameters n/a\nTemporal resolution 1 second\nSource of uncertainty Uncertainty of smart meter voltage measurements (0.5%) Uncertainty of smart inverter power measurements (1%) Suspension criteria / Stopping criteria Abnormal over or under voltage conditions ","categories":"","description":"Cloud-based real-time supervision and voltage regulation ancillary services for PV systems","excerpt":"Cloud-based real-time supervision and voltage regulation ancillary …","ref":"/test-case-repository/docs/erigrid-2.0/tc03/3.01/","tags":"","title":"Test Specification 3.01"},{"body":"Experiment Specification Definition ID 3.01.01\nReference to Test Specification TC3\nTitle of Experiment Simulating the effectiveness of PV power plant controls for voltage regulation\nResearch Infrastructure UCY-FOSS DER-Grid Smart Facility Experiment Realisation The voltage regulation control methods proposed in Test Specification 22.01 (Volt-Watt and Volt-VAR operation of smart inverters) will be evaluated on a typical low voltage (LV) feeder (DER-Grid Smart Facility of UCY-FOSS). The LV feeder includes loads (fixed uncontrollable) and a grid-connected PV system (AC-coupled via a smart inverter). The feeder and localized voltage regulation controls will be digitally mapped and simulated using the EMTP software. Experiment Setup (concrete lab equipment) PV system with smart inverter (SMA SB 3.0 PV inverter) Smart meter (Schneider PM8000) EMTP software Experimental Design and Justification The LV feeder at the UCY-FOSS DER-Grid Smart Facility will be digitally mapped using the EMTP software. The feeder includes loads, a grid-connected PV system (coupled to the grid via a smart inverter), a smart meter (grid measurements at the PCC) and a PAC (grid-edge PPC device). The localized voltage regulation controls will be modeled as a PV system PPC block configured as:\nPI controller for reactive power control Controller based on Volt-VAR curve settings Controller based on Volt-Watt curve settings The effectiveness of the proposed control methods to regulate the voltage at the PCC of the simulated grid will be evaluated by applying a step change in the voltage and analyzing the output response of the modelled PV system PPC block. Finally, the performance of the implemented controls will be assessed by applying actual consumption and generation data-sets acquired at the feeder over a yearly period (1-minute resolution consumption and generation data).\nPrecision of equipment and measurement uncertainty Uncertainty of smart meter voltage and power measurements (0.5%) Uncertainty of smart inverter active and reactive power measurements (1%) Storage of experiment data Csv\n","categories":"","description":"Simulating the effectiveness of PV power plant controls for voltage regulation","excerpt":"Simulating the effectiveness of PV power plant controls for voltage …","ref":"/test-case-repository/docs/erigrid-2.0/tc03/3.01.01/","tags":"","title":"Experiment Specification 3.01.01"},{"body":"Experiment Specification Definition ID 3.01.02\nReference to Test Specification TC3\nTitle of Experiment Centralized cloud-based PPC for real-time supervision and control of PV systems\nResearch Infrastructure UCY-FOSS DER-Grid Smart Facility Experiment Realisation Real-time supervision (streaming of high-resolution smart meter and PV system data) and centralized control methods proposed in Test Specification 22.01 (immediate controls such as connection/disconnection, active power limitation and enabling control strategies) will be demonstrated using a cloud-based SCADA platform. The PAC installed at the feeder will stream high-resolution data (1-second) acquired from the smart meter and PV system inverter to the cloud database. The implemented cloud-based dashboards will provide the interface for visualizing in real-time the acquired data and to provide centralized control functionalities (relaying control signals for immediate smart inverter active power limitation and enabling Volt-VAR or Volt-Watt operational modes).\nExperiment Setup (concrete lab equipment) PV system with smart inverter (SMA SB 3.0 PV inverter) Smart meter (Schneider PM8000) PAC (Gantner Instruments Q.Station XT) RTS CHIL testbed (Typhoon HIL 604) Experimental Design and Justification The experiment entails the configuration of a PAC, installed at the DER-Grid Smart Facility feeder, to acquire and stream in real-time data from the smart meter and PV system inverter. Data acquisition will be implemented using the vendor-specific and SunSpec Modbus registers. The data streams created and stored at the PAC will be setup for real-time streaming to a centralized cloud database. Accordingly, an online cloud-based platform comprising of different dashboards will be designed in order to demonstrate the proposed observability and interoperability concepts. More specifically, a SCADA dashboard will be created to act as the supervision interface and exhibit in real-time the measurements streamed from the underlying assets of the feeder (smart meter and inverter). Moreover, a PPC control dashboard will be developed in order to provide the user interoperability interface for enabling the PV system control signaling (set-points for immediate and localized controls).\nThe effectiveness of the centralized supervision and control methods will be demonstrated by enabling remotely the implemented control modes of the smart inverter through the cloud-based system. Finally, the functional response and latency of the cloud-based supervision and control system will be further verified in a CHIL approach using a RTS testbed. The RTS testbed will be utilized in order to vary the grid condition settings (varying in real-time the reference voltage at the PCC of the feeder via SunSpec Modbus over TCP/IP and analyzing the response of the controller).\nPrecision of equipment and measurement uncertainty Uncertainty of smart meter voltage and power measurements (0.5%) Uncertainty of smart inverter active and reactive power measurements (1%) Storage of experiment data Csv\n","categories":"","description":"Centralized cloud-based PPC for real-time supervision and control of PV systems","excerpt":"Centralized cloud-based PPC for real-time supervision and control of …","ref":"/test-case-repository/docs/erigrid-2.0/tc03/3.01.02/","tags":"","title":"Experiment Specification 3.01.02"},{"body":"Identification ID 4\nAuthor A. Paspatis, A. Kontou, A. F. Cortés Borray, Julia Merino\nVersion 3\nProject ERIGRID 2.0\nDate 13/04/2021\nTest Case Definition Name of the Test Case Investigation of different voltage control techniques for inverter-interfaced DERs in microgrids\nNarrative A microgrid with inverter-interfaced distributed energy resources (DERs) is considered. In order to respect the system regulations and successfully feed the microgrid load, the voltage across the microgrid needs to be regulated close to its nominal value.\nThrough the control design of the inverter-interfaced distributed energy resources, different control schemes are investigated. In particular i) master-slave voltage control, ii) conventional droop grid-forming control and iii) inverse droop grid-forming control. Function(s) under Investigation (FuI) Voltage regulation in a microgrid with inverter-interfaced DERs\nObject under Investigation (OuI) Inverter-interfaced distributed energy resources controllers\nDomain under Investigation (DuI) Electrical Power\nControl systems\nPurpose of Investigation (PoI) Comparison of different voltage control schemes\nSystem under Test (SuT) A microgrid that hosts multiple inverter-interfaced distributed energy resources, lines, loads, etc.\nFunctions under Test (FuT) Different voltage control schemes to achieve microgrid load voltage regulation\nTest criteria (TCR) Microgrid operation according to the designed control algorithm\nTarget Metrics (TM) Voltage measured at the output of the inverter (Is proper voltage regulation achieved?) Number of interruptions (Is continuity of service achieved after a sudden change in the demand and/or output of RES, or a generator outage?) Overall performance (What are the advantages and disadvantages of each technique?) Variability Attributes (VA) Different microgrid loading Different line impedance nature (i.e., resistive or inductive or complex) Quality Attributes (QA) Microgird voltages inside the ±5% of the nominal voltage / Successful\nQualification Strategy The most common voltage control algorithms for inverter-based microgrids will be validated through three tests, one for each control technique, where the inverters forming the inverter-based microgrid will be equipped with the appropriate voltage control algorithm. Then, the results will be collected to perform the comparison between the different voltage control techniques.\n","categories":"","description":"Investigation of different voltage control techniques for inverter-interfaced DERs in microgrids\n","excerpt":"Investigation of different voltage control techniques for …","ref":"/test-case-repository/docs/erigrid-2.0/tc04/","tags":"","title":"Test Case 4"},{"body":"Test Specification Definition ID 4.01\nReference to Test Case TC4\nTitle of Test Performance of different voltage control techniques for inverter-interfaced DERs in microgrids\nTest Rationale This test will perform a comparison between different voltage control schemes that are widely used in inverter-based microgrids, i.e., master-slave control, conventional droop control and inverse droop control. Aiming to quantify the effectiveness of the aforementioned techniques, their pros \u0026 cons will be ultimately identified.\nSpecific Test System (graphical) Laboratory setup\nTarget measures Microgrid voltages\nInput and output parameters Input:\nLevel of unbalance of the load Inverter power injection set-points and limits DERs control parameters Microgrid characteristics Output:\nMicrogrid voltages Test Design Operate multiple inverters in parallel Perform load changes and observe voltage regulation (continuity of service) Save the experimental results Initial system state Inverter controllers enabled Load disconnected Grid voltages based on the nominal output values of the inverters Hardware or simulated network and devices up and running Power analyzer and computers displaying and saving data Evolution of system state and test signals The microgrid system is subjected to load variations (step changes)\nOther parameters N/A\nTemporal resolution At least 0.1 ms.\nSource of uncertainty Impedance of load and lines, inverter sensors operation\nSuspension criteria / Stopping criteria Abnormal current/ power injections from inverters or tripping of inverters\n","categories":"","description":"Performance of different voltage control techniques for inverter-interfaced DERs in microgrids","excerpt":"Performance of different voltage control techniques for …","ref":"/test-case-repository/docs/erigrid-2.0/tc04/4.01/","tags":"","title":"Test Specification 4.01"},{"body":"Experiment Specification Definition ID 4.01.01\nReference to Test Specification 4.01\nTitle of Experiment Master-slave voltage control\nResearch Infrastructure Electric Energy Systems Laboratory (ICCS-NTUA) Experiment Realisation Multiple inverters forming a microgrid, both through hardware setup and through simulated components in the RTDS\nExperiment Setup (concrete lab equipment) Hardware controller (e.g., Three-phase real-time computer) Simulated microgrid network and inverters in the RTDS Optional: Hardware inverter (e.g., Three-phase inverter) Experimental Design and Justification Microgrid that hosts multiple inverter-interfaced DERs. At least one DER should operate in grid-forming mode and be the master unit, while the rest of the units can operate in grid-following mode as slaves.\nPrecision of equipment and measurement uncertainty Software and power analyzer are of high precision, inverter sensing system may be of lower precision\nStorage of experiment data Power analyzer and computer memory\n","categories":"","description":"Master-slave voltage control","excerpt":"Master-slave voltage control","ref":"/test-case-repository/docs/erigrid-2.0/tc04/4.01/4.01.01/","tags":"","title":"Experiment Specification 4.01.01"},{"body":"Experiment Specification Definition ID 4.01.02\nReference to Test Specification 4.01\nTitle of Experiment Conventional droop grid-forming control Research Infrastructure Electric Energy Systems Laboratory (ICCS-NTUA) Experiment Realisation Multiple inverters forming a microgrid, both through hardware setup and through simulated components in the RTDS\nExperiment Setup (concrete lab equipment) Hardware controller (e.g., Three-phase real-time computer) Simulated microgrid network and inverters in the RTDS Optional: Hardware inverter (e.g., Three-phase inverter) Experimental Design and Justification Microgrid that hosts multiple inverter-interfaced DERs. All inverter-interfaced DERs are equipped with the conventional droop grid-forming control in order to regulate the microgrid voltage.\nPrecision of equipment and measurement uncertainty Software and power analyzer are of high precision, inverter sensing system may be of lower precision\nStorage of experiment data Power analyzer and computer memory\n","categories":"","description":"Conventional droop grid-forming control ","excerpt":"Conventional droop grid-forming control ","ref":"/test-case-repository/docs/erigrid-2.0/tc04/4.01/4.01.02/","tags":"","title":"Experiment Specification 4.01.02"},{"body":"Experiment Specification Definition ID 4.01.03\nReference to Test Specification 4.01\nTitle of Experiment Inverse droop grid-forming control\nResearch Infrastructure Electric Energy Systems Laboratory (ICCS-NTUA) Experiment Realisation Multiple inverters forming a microgrid, both through hardware setup and through simulated components in the RTDS\nExperiment Setup (concrete lab equipment) Hardware controller (e.g., Three-phase real-time computer) Simulated microgrid network and inverters in the RTDS Optional: Hardware inverter (e.g., Three-phase inverter) Experimental Design and Justification Microgrid that hosts multiple inverter-interfaced DERs. All inverter-interfaced DERs are equipped with the inverse droop grid-forming control in order to regulate the microgrid voltage.\nPrecision of equipment and measurement uncertainty Software and power analyzer are of high precision, inverter sensing system may be of lower precision\nStorage of experiment data Power analyzer and computer memory\n","categories":"","description":"Inverse droop grid-forming control","excerpt":"Inverse droop grid-forming control","ref":"/test-case-repository/docs/erigrid-2.0/tc04/4.01/4.01.03/","tags":"","title":"Experiment Specification 4.01.03"},{"body":"Identification ID 5\nAuthor Evangelos Rikos\nVersion 1.0\nProject ERIGrid 2.0-NA4\nDate 09/04/2021\nTest Case Definition Name of the Test Case Power efficiency characterisation of PhotoVoltaic (PV) inverters\nNarrative The scope of this test case is the investigation of a PV inverter’s ability to efficiently convert the PV electric power from DC to its AC form. Under normal (steady-state) conditions on the grid’s side the inverter should always maximize its power injection to the grid so that better exploitation of the solar potential is achieved. The normal operation entails that other services or functionality, that the inverter could potentially provide, such as droop control of active/reactive power or intentional power curtailment, do not act during the test. The efficiency characterization of the PV inverter in this test comes down to two main aspects of operation: on the one hand, the power/energy efficiency of the power converter and, on the other hand, the capability of the Maximum Power Point Tracker (MPPT) to detect the actual maximum power of the PV array.\nFunction(s) under Investigation (FuI) Power conversion Maximum Power Point Tracker Object under Investigation (OuI) Photovoltaic Inverter Domain under Investigation (DuI) Electrical Environment Purpose of Investigation (PoI) PoI#1: Characterisation of power converter efficiency PoI#2: Characterisation of MPPT accuracy System under Test (SuT) In this TC the System-under-Test is the PV inverter which is connected on one end to the PV array and on other to the AC distribution grid.\nFunctions under Test (FuT) PV conversion (Current-Voltage characteristic of the PV array) Droop controllers for Active/Reactive power adjustment when the inverter is equipped with this functionality Test criteria (TCR) Power/energy efficiency MPPT accuracy Target Metrics (TM) Ratio of output versus input power: ηinv.=PACPDC×100%\nRatio of input power versus maximum theoretical PV power: ACCMPPT=PPV-actualPPV-theoretical×100%\nVariability Attributes (VA) Fully Controllable attributes:\nSolar irradiation (varies gradually from 0 to 1200 W/m2) Ambient temperature (it can vary from –20oC to +50oC) PV array asymmetrical operation (e.g., partial shading) (varies stepwise) Grid voltage and frequency (constant, e.g., 230V/50Hz) PV modules parameters PV array configuration Quality Attributes (QA) Sampling time of signals (Power flows): \u003c=1 s Resolution: 0.1% of maximum output (AC) power Points of measurement: One point at the AC output of the inverter One point at the DC input of the inverter PDC,min=5% of rated power PDC,max=110% of rated power Vmin\u003cVDC\u003cVmax (the minimum and maximum voltage depends on the inverter specification provided by the manufacturer) Qualification Strategy The two PoIs of the selected TC can be addressed through two separate Test Specifications, partly in a combined way. In particular, in order to characterise the inverter’s efficiency (PoI#1) one test procedure (TS1) is required in which the SuT is tested under a wide range of irradiance variation. During this test the irradiance varies in a way that allows for the inverter to reach stability (e.g., not during fast moving clouds). For each stable operation point the input (DC) and output (AC) power values of the inverter are recorded and used for the calculation of the efficiency. Together with the converter efficiency the evaluation of the MPPT accuracy (PoI#2) can partly be obtained. The way to do this is the following: For each measuring point the maximum available power of the PV array is either calculated or measured and used in combination with the actual DC power at the inverter input in order to assess the accuracy of the MPPT algorithm. This test presumes the balanced operation of all PV modules in the array. Such operation leads to a smooth I-V characteristic which results in a P-V (power versus voltage) characteristic with one maximum point of power. However, a very interesting case can be the unbalanced operation of the PV modules which results not only in lower power but in a P-V characteristic with several maxima as well. The cause of such behaviour could be, for instance, partial shading over the PV array. As a consequence, in order to characterise the MPPT accuracy in a more holistic manner, a separate test (TS2) is required for the investigation of the inverter operation under unbalanced conditions on the PV array side. ","categories":"","description":"Power efficiency characterisation of PhotoVoltaic (PV) inverters","excerpt":"Power efficiency characterisation of PhotoVoltaic (PV) inverters","ref":"/test-case-repository/docs/erigrid-2.0/tc05/","tags":"","title":"Test Case 5"},{"body":"Test Specification Definition ID 5.01\nReference to Test Case TC5\nTitle of Test Power efficiency and MPPT accuracy under balanced conditions\nTest Rationale Through this test two properties of the PV inverter are characterised. The first is the efficiency of the power conversion from DC to AC, whereas the second is the accuracy of the MPPT algorithm, namely its ability to maximize the DC input power. Both aspects are assessed by measuring the power for various values of AC power and DC voltage. The scope of this test is to produce two map diagrams which illustrate the variation of the two quantities as a function of the AC power and DC voltage plus one diagram that illustrates the efficiency as a function of the AC power for three different input voltage values (minimum, medium, and maximum). All measurements throughout the test are conducted under steady-state conditions. Specific Test System (graphical) The setup for this test as shown above consists of the following components:\nOne LV AC bi-directional source that plays the role of the AC grid One PV array which supplies with DC current the PV inverter. The PV array’s behaviour is determined by the environmental conditions. One data logger device which is used to monitor and record the power values One I-V trace module required for measuring the I-V characteristic of the array Two transducers One PV inverter which is the System (Device) under Test Target measures Power efficiency map as a function of output (AC) power and input (DC) voltage Power efficiency curves as a function of output (AC) power for three input (DC) voltage values MPPT accuracy map as a function of output (AC) power and input (DC) voltage Input and output parameters Input parameters\nSolar irradiance (W/m2) Ambient temperature (oC) PV modules parameters (Voc(V), Vmp(V), Isc(A), Imp(A), CTI(A/oC), CTV(V/oC), Rs(Ω)) PV array configuration Output parameters\nOutput (AC) power (W) Input (DC) power (W) Maximum theoretical DC power (W) Input (DC) voltage (V) Test Design The test is organized and executed in multiple steps in which the input parameters are changed in a wide range of values. The variation range must be such that the full range of AC power and DC voltage are obtained. For each set of values, the system must be stable before each measurement is conducted and recorded, except for any small oscillation/variation that is intrinsic to the inverter’s behaviour due to the MPPT algorithm that is used.\nInitial system state The PV inverter is connected to both the AC source and the PV array The PV module parameters are selected so that the power/voltage requirements of the inverter can be met The PV array is configured in a connectivity that allows maximum DC power with minimum DC voltage (e.g., several parallel strings with a small number of modules per string). During the execution of the test this configuration is altered in order to increase the DC voltage for the same amount of power (same number of modules connected in fewer but longer strings) The PV array receives very low or zero irradiance and produces very low or zero voltage The inverter is in stand-by mode and remains as such until sufficient voltage is produced The monitoring system is initialized and running Evolution of system state and test signals The solar irradiance on the array slightly increases to a value that leads to activation of the PV inverter (e.g., 5% of the PAC) The system stabilizes at the new operating point The AC and DC powers, the DC voltage as well as the maximum theoretical DC power are recorded (the first three for at least 10s and averaged) The solar irradiance is increased in order to achieve the next step in the AC power (e.g., 10%) Steps 1-3 are repeated until an AC power of 110% of the nominal value is reached The PV array configuration is modified in order to allow a slightly higher DC voltage and the same procedure (steps 1-3) is repeated for an AC power range between 5 and 110% Step 6 is repeated until the maximum allowable DC voltage is reached. The completion of the above steps signals the completion of the mapping test. One additional set of measurements, however, is necessary in order to obtain the efficiency curves for three constant voltages (min, medium, max). The steps are as follows:\nThe solar irradiance on the array is slightly increased to a value that leads to activation of the PV inverter (e.g., 5% of the PAC. The ambient temperature is slightly adjusted together with the irradiance in order for the DC voltage to become and remain equal to the minimum required value The system stabilizes at the new operating point The AC and DC powers, as well as the DC voltage are recorded for at least 10s and averaged. The solar irradiance is increased in order to achieve the next step in the AC power (e.g., 10%). In parallel the temperature is adjusted in order to keep the voltage constant. Steps 9-12 are repeated until the power is 110% The PV array configuration is modified in order to allow a higher DC voltage, equal to the middle value required for the test. Steps 8-13 are repeated for an AC power range between 5 and 110% The PV array configuration is modified in order to allow a higher DC voltage, equal to the maximum value required for the test. Steps 8-13 are repeated for an AC power range between 5 and 110% Other parameters N/A\nTemporal resolution A sampling time of \u003c= 1 s for the instantaneous values is sufficient for this test to provide the necessary information since the values of all quantities are averaged within a 10-second interval Source of uncertainty First and foremost, the precision of the measurement equipment can be a significant source of uncertainty. The precision should be carefully selected based on the range of the quantities during the test. Other uncertainties may be introduced due to the controllability of irradiance and temperature or the stability of the MPPT algorithm under specific conditions. Last but not least, a significant source of uncertainty may be the dynamic behaviour of the PV array especially when a simulator is used. In this case the output filter of the DC converter, that is used as a PV simulator, may introduce oscillation in current and voltage resulting in erroneous operation point or measurement.\nSuspension criteria / Stopping criteria The test should be suspended and restarted if one of the quality attributes described in the TC is not met. Also, the test should be suspended are repeated if the AC voltage and frequency values are not nominal and lead to activation of the droop controllers. Lastly, stability should be ensured during each measurement. If for some reason (e.g., irradiance variations, severe MPPT oscillations) there is not stable operation of the inverter the test should be partly or completely suspended. ","categories":"","description":"Power efficiency and MPPT accuracy under balanced conditions","excerpt":"Power efficiency and MPPT accuracy under balanced conditions","ref":"/test-case-repository/docs/erigrid-2.0/tc05/5.01/","tags":"","title":"Test Specification 5.01"},{"body":"Experiment Specification Definition ID 5.01.01\nReference to Test Specification TS5.01 and TS5.02\nTitle of Experiment Power efficiency and MPPT accuracy under various operating conditions\nResearch Infrastructure PV \u0026 DG Lab: Centre for Renewable Energy Sources and Saving (CRES)\nExperiment Realisation For the specific experiment a mixed hardware/simulation setup is selected because of the nature of the SuT and the two PoIs. It is worth mentioning that the hardware equipment used for the AC grid and the PV array are emulators of their actual counterparts because fully controllable conditions are required, which can only be achieved by emulating the behaviour of them instead of using a real PV array and a connection to the actual AC grid. In this way, the AC (V, f) as well as the PV parameters (irradiance, temperature, etc.) are fully controllable throughout the experiment and reduce the risk of uncertainty and test failure. Experiment Setup (concrete lab equipment) The selected setup consists of the following devices:\nOne 3-phase grid simulator (nominal values 400 V, 50 Hz, 12 kVA) One DC amplifier (400 V, 25 A) One computer/data logger One 3-phase resistive load (up to 12 kW) One digital power meter Two circuit breakers, one on the AC and one on the DC side One PV inverter as the SuT The use of a grid simulator in this setup is crucial because it ensures constant operating conditions for the inverter on the AC side. The specific grid simulator is coupled with an AC load because it does not allow absorption of power. Therefore, the load is used to absorb the power generated by the PV inverter. The DC amplifier, on the other hand, is used to emulate the DC output of the PV array. In order to control the amplifier with an I-V characteristic a computer equipped with data logging and control capabilities is used. The specific computer monitors the instantaneous current and voltage on the DC side and controls the output voltage/current of the amplifier based on the selected I-V curve. The computer allows a number of possibilities including the selection of PV module characteristics, connectivity, irradiance and temperature. In addition, the computer is used as a monitoring device (I-V tracer and oscilloscope) which shows in real time the DC operating point of the inverter in conjunction with the theoretical I-V characteristic of the PV array. In this way, the user can identify the theoretical maximum power as well as the I-V curve under partial shading conditions. Last but not least, for the efficiency measurement a Digital Power meter is used. The specific device is simultaneously connected to the DC and AC sides of the inverter and directly provides fully synchronised and averaged measurements of input and output power for the efficiency calculation. The recording period of each measurement is 20 s.\nExperimental Design and Justification For the efficiency and MPPT mapping test the steps are described in detail in TS5.01. Here an overview of these steps is provided from the viewpoint of the specific laboratory implementation:\nAll connections are as shown in the experiment setup diagram with the two circuit breakers open The computer application is launched and specific parameters for the PV arrays are set, including the PV module characteristics, the connectivity of the modules in the array, the irradiance and the temperature. The values are selected based on the procedure described in TS5.01 The DC amplifier is started The DC breaker is closed in order to connect the PV simulator to the PV inverter’s input. Normally, under the initial conditions the PV inverter should not be able to start converting power due to low power on the DC side. The grid simulator is initiated with the required voltage and frequency values (230 V for 1-phase and 400 V for 3-phase operation, 50 Hz) The AC load is adjusted via its keypad controller in order to consume an active power equal to at least 130% of the maximum potential generation from the PV inverter. The safety margin of 20% is necessary in order to avoid any uncertainties in the values of the resistors due to heating. The AC breaker is closed The irradiance and temperature parameters in the PV simulator are adjusted to the first measuring point as described in TS5.01 A sufficient amount of time (i.e., 180 s) is allowed in order for the inverter to start converting power. This happens only the first time. Once the irradiance levels are high enough, and remain above this limit, the PV will remain in conversion mode. The specific time may vary based on the inverter specifications but the typical value is that of 3 min=180 s. The values on the DPM display are quality checked and recorded. Also, the MPP value on the computer screen is recorded for the MPPT efficiency calculation The irradiance and temperature values are adjusted so that the complete operating range is obtained as described in TS5.01 After the completion of this first round of measurements, the second round regarding the three efficiency curves is obtained. The steps for this procedure are exactly the same as before. The only difference is that the MPP measurement is not necessary and that the user must fine-tune the temperature/irradiance values in order to keep the DC voltage constant throughout each measurement.\nLastly, the MPPT efficiency under partial shading conditions is implemented in a similar way. Specifically, steps 1-7 are implemented exactly as described above. The irradiance level after step 7 is selected to a sizable amount in order to allow for a significant AC power at the output of the inverter (i.e., 50-100%). Once the inverter is stable, the user implements a step change in the irradiance level on a subset of the PV modules. The profile of this change must have been calculated in advance based on the experiment requirements (e.g., how lower the new power must be or how many maxima the power must show). The behaviour of the inverter is recorder and stored in real time with the computer against the theoretical I-V curve. This test may be repeated several times for different forms of the I-V curve. Precision of equipment and measurement uncertainty For the measurement of the DC current and voltage via the computer/data logger the precision is determined by the resolution of the analogue input of the data logger. In this case, the used data acquisition card provides a 16-bit conversion resolution for both the current and the voltage measurements. Considering that the maximum operating values are 400 V and 25 A this results in an accuracy equal to 6mV and 0.4 mA respectively.\nFurthermore, the DPM used allows a measurement accuracy equal to 0.04% of reading + 0.04% of range for the power measurements.\nStorage of experiment data All data are stored in ‘CSV’ file format either manually (DPM) or automatically (computer/data logger).\n","categories":"","description":"Power efficiency and MPPT accuracy under various operating conditions","excerpt":"Power efficiency and MPPT accuracy under various operating conditions","ref":"/test-case-repository/docs/erigrid-2.0/tc05/5.01.01/","tags":"","title":"Experiment Specification 5.01.01"},{"body":"Test Specification Definition ID 5.02\nReference to Test Case TC5\nTitle of Test MPPT accuracy under unbalanced/partial shading conditions\nTest Rationale During the operation of a PV system, it is possible for asymmetries in the operation of the PV array to happen. A case in point is the partial shading of PV modules. This results in a distorted I-V characteristic that leads to more than one maximum point in the P-V curve. The scope of this test is to assess the ability of the inverter, in particular the MPPT to detect the operation point that leads to the maximum power yield under such conditions.\nSpecific Test System (graphical) The setup for this test is a reduced version of the previous test (efficiency test). For this test only the input (DC) power and voltage are necessary together with the detailed characteristic that the I-V tracer module provides. The components used in this test system are listed below:\nOne LV AC bi-directional source that plays the role of the AC grid One PV array which supplies with DC current the PV inverter. The PV array’s behaviour is determined by the environmental conditions. One data logger device which is used to monitor and record the power values One I-V tracer module required for measuring the I-V characteristic of the array One transducer One PV inverter which is the System (Device) under Test Target measures MPPT accuracy value(s)\nInput and output parameters Input parameters\nSolar irradiance (W/m2) Ambient temperature (oC) PV modules parameters (Voc(V), Vmp(V), Isc(A), Imp(A), CTI(A/oC), CTV(V/oC), Rs(Ω)) PV array configuration Output parameters\nInput (DC) power (W) I-V characteristic of the PV array Test Design The test is organized and executed in two steps in which a stepwise change in irradiance conditions is implemented on part of the PV array. The behaviour of the MPPT is recorded before and after the change in order to provide useful information about its response to the unbalanced conditions. The test can be repeated several times for the same or different conditions for a better understanding of the MPPT behaviour.\nInitial system state The PV inverter is connected to both the AC source and the PV array The PV module parameters are selected so that the power/voltage are well within the operating range The PV array is configured in a connectivity that allows power/voltage values well within the operating range The PV array receives sufficient irradiance produce a voltage/power level within the required limits The inverter is in stable operation and injects power to the AC source The monitoring system is initialized and running Evolution of system state and test signals The irradiance on a selected number of PV modules changes stepwise from the initial to a lower value. The final value can be equal or not for all the shaded modules The inverter stabilizes at a new operating point The DC power and voltage are recorded with a sampling time of \u003c=1 s and for at least 10 s. Also, the I-V characteristic is recorded The above steps are repeated as many times as the different partial shading combinations are Other parameters N/A\nTemporal resolution A sampling time of \u003c=1 s for the instantaneous values is sufficient for this test to provide the necessary information since the values of all quantities are averaged within a 10-second interval Source of uncertainty Uncertainties may be introduced due to the controllability of irradiance and temperature or the stability of the MPPT algorithm under the specific test conditions.\nSuspension criteria / Stopping criteria The test should be suspended and restarted if one of the quality attributes described in the TC is not met. Also, stability should be ensured during each measurement. If for some reason (e.g., irradiance variations, severe MPPT oscillations) there is not stable operation of the inverter the test results should be partly or completely discarded. ","categories":"","description":"MPPT accuracy under unbalanced/partial shading conditions","excerpt":"MPPT accuracy under unbalanced/partial shading conditions","ref":"/test-case-repository/docs/erigrid-2.0/tc05/5.02/","tags":"","title":"Test Specification 5.02"},{"body":"Identification ID 6\nAuthor E. Rikos, L.Pellegrino, R. Lazzari\nVersion 1.1\nProject ERIGrid 2.0-NA4\nDate 01/12/2020\nTest Case Definition Name of the Test Case Evaluation of frequency restoration response in islanded power system\nNarrative One of the important functionalities of a microgrid is its ability to operate in islanded mode when the conditions of the system necessitate that. In such a mode the islanded microgrid should provide the functionalities to keep the frequency stable. With these functionalities the microgrid controllers (local and central) should contain frequency deviations and restore each deviation to zero from the nominal value. This test case examines the effectivity of the frequency restoration control of the microgrid under various operating conditions.\nFunction(s) under Investigation (FuI) Secondary/tertiary frequency control Object under Investigation (OuI) Microgrid Frequency Controller (MFC) Domain under Investigation (DuI) Electrical ICT (time-delays) Electrochemical Thermal Environmental Purpose of Investigation (PoI) Validation of the controller/s for frequency stability and steady-state error elimination during restoration phase. System under Test (SuT) The main components and subsystems that are of interest for this TC are depicted in the above diagram and summarized below:\nMicrogrid Frequency Controller (MFC) Load Controllers CHP microturbines Battery inverters RES inverters Communication channels Functions under Test (FuT) Battery Management System (BMS) Maximum Power Point Tracker (MPPT) Inverter control (Grid Forming, Grid Following, Grid Supporting) CHP control (Heat or Power Priority) Load control Supervisory Control and Data Acquisition (SCADA) Energy Management System (EMS) Local droop control Local inertia control Test criteria (TCR) Frequency response Target Metrics (TM) Frequency Restoration time Steady-state frequency deviation (after restoration) Frequency oscillations damping factor (trumpet curve) Remaining reserves (power/energy) DERs curtailment Loads curtailment Variability Attributes (VA) Fully Controllable attributes:\nGrid topology Droop control parameters Inverters control functionalities Partly Controllable attributes:\nLoads active/reactive power Generators active/reactive power Uncontrollable attributes:\nSolar irradiation Wind speed Ambient temperature ICT and control delays Quality Attributes (QA) Sampling time of signals (frequency and power flows): 100ms Resolution: frequency 0.05Hz, power 0.01 pu Points of measurement: Frequency: at least 1 (at the point of common coupling) Power: 1 point for each resource connected at their electrical output Size of imbalance disturbance: \u003e20% Environmental conditions: Enough solar irradiation and wind speed so that the combined RES portfolio produces at least 20% of its maximum power State of Charge: between 35% and 90% Load: at least 20% Qualification Strategy The selected PoI can be tackled by one Test Specification only in which only some input variables or system parameters need be changed over the test repetitions in order to achieve the desired results. In other words, aspects such as the main grid topology remain unchanged except for small reconfigurations. In our TC this topology is selected to be a LV distribution grid. Also, in order to validate the frequency response of the islanded microgrid, no specific tests are prerequisite to determine parameters and variable values necessary to conduct the main test.\n","categories":"","description":"Evaluation of frequency restoration response in islanded power system","excerpt":"Evaluation of frequency restoration response in islanded power system","ref":"/test-case-repository/docs/erigrid-2.0/tc06/","tags":"","title":"Test Case 6"},{"body":"Identification ID 7\nAuthor Julia Merino (TEC), Andres Cortes (TEC), Evangelos Rikos (CRES)\nVersion 1\nProject ERIGrid2.0\nDate 19/04/2021\nTest Case Definition Name of the Test Case Evaluation of cost-effective operation of P2P-based local energy system\nNarrative The main advantage of a peer to peer (P2P) based energy system roots on a collective minimization of the costs for energy while maximizing the individual benefits of the prosumers. This way, the benefits for the prosumers are attractive, thus favouring the deployment of distributed energy resources (DERs) and the willingness of the end-users to participate in the local energy market. The operators are responsible for providing the local market platform and take care of their possible congestions while the prosumers have the full control over their DERs. This means a different perspective over the energy management problem, traditionally centred at the distribution system operators who look for certain overall performance and benefits for the full population of DERs (e.g., by providing ancillary services upstream) instead of improving the individual benefits of the participants.\nFunction(s) under Investigation (FuI) Bidding algorithms of the individual prosumers Clearing function of the energy trading coordinator Object under Investigation (OuI) Modules for creating the bids at prosumer’s level Module of the energy sharing coordinator for estimating the internal price Communication modules between a set of converters/distributed energy resources and manageable loads Domain under Investigation (DuI) Electrical Power ICT Market Heating/Cooling Purpose of Investigation (PoI) PoI1: Verification of the trading energy platform functioning to get a cost-effective operation for both the energy sharing coordinator and the prosumers (economic criteria) PoI2: Validation that the control signals derived from the decision-making process are feasible to the controllable electrical devices (technical criteria) System under Test (SuT) Local energy community (LEC), distributed energy resources (DERs), controllers, ICT components (measuring/monitoring devices), benchmark distribution system (optional).\nFunctions under Test (FuT) Capability of communication among different OuI. Capability of the device response by real-time to follow different characteristics (output profiles) Test criteria (TCR) The communication module between different agents should guarantee a reliable operating channel to send the bids and internal/external prices. Each manageable device should adequately adjust its power according to the received signals Target Metrics (TM) The execution time of the optimal power/price time-series sent to each device is adequate Execution time of the P2P platform algorithm Complying with the network constraints as well as the energy needs of the devices Variability Attributes (VA) Power set point at a required time (PoI1 \u0026 PoI2) External price variability Reliability of the forecasted time-series for demand and renewables Quality Attributes (QA) Loss of communication between agents (fail) Significant deviation from the optimal operating point of the devices respect to the control signal (fail) Technical operating levels of the grid, i.e., voltage, losses, and thermal capacity (fail) Qualification Strategy Two test specifications will be implemented: one for verifying the price algorithm of the trading coordinator along with its communication modules, and another for the verification of the control signals derived from the decision-making process to the controllable electrical devices. Note that the distribution network, mainly at the LV level, can be represented by a benchmark or real grid.\n","categories":"","description":"Evaluation of cost-effective operation of P2P-based local energy system\n","excerpt":"Evaluation of cost-effective operation of P2P-based local energy …","ref":"/test-case-repository/docs/erigrid-2.0/tc07/","tags":"","title":"Test Case 7"},{"body":"Identification ID 8\nAuthor Tran The Hoang, Quoc Tuan Tran (CEA)\nVersion 2\nProject Erigrid 2.0\nDate 01/12/2020\nTest Case Definition Name of the Test Case Evaluation of voltage control in distribution grids\nNarrative With an ever-increasing penetration of renewable energy sources (RES), especially photovoltaic (PV systems), into distribution grids, the grid voltage may fluctuate in unacceptable ranges. The level of voltage fluctuation depends on grid topology, different operating conditions as well as level of RES penetration. Therefore, voltage control in distribution grids has become an essential task.\nIndeed, effective voltage control strategies have a number of benefits:\nReduce voltage fluctuation Improve quality of power supply Maximize the penetration of PV into the grid Participate in ancillary services Increase the flexibility of operation Reduce PV curtailment There are a variety of voltage control strategies for distribution grids such as centralized, decentralized, or distributed. This Test Case is proposed to evaluate the distributed voltage control for distribution grids with high integration of single- and three-phase PV systems under different operating conditions.\nFunction(s) under Investigation (FuI) MAS-based distributed voltage-var control Reactive power capability of PV systems and their reactive power control modes for voltage control support The amount of reactive power absorbed/injected by the PV systems can be controlled following the characteristic below (ENTSO EN 50438:2013 or ENTSO EN 50549-1:2019 “Requirements for micro-generating plants to be connected in parallel with public low-voltage distribution networks”):\nIn addition, the reactive power exchange capability of the PV systems must meet these requirements:\nfollow a characteristic curve provided by the DSO (see 4.4) within the active factor cos ϕ = 0,90-under-excited to 0,90-over-excited when the active power output of the PV plants is more than or equal to 20 % of its nominal active power; not exchanging more reactive power than 10 % of the PV plant’s nominal active power when the active power output is less than 20 % of its nominal active power. Object under Investigation (OuI) Single-phase and three-phase PV inverters Multi-agent system (MAS) Domain under Investigation (DuI) Electrical and electronic domains Control and ICT (time delays in sending/receiving controlling signals) Purpose of Investigation (PoI) To validate the performance of the MAS and PV systems for providing voltage control in a distributed manner To verify that the MAS and PV systems are able to maintain the grid voltage within the grid code requirement (±10% for LV distribution networks) under different operating conditions System under Test (SuT) In the Test Case, a distribution grid with a high penetration of single-phase and three-phase PV systems is taken into consideration. Below is the single-line diagram illustrating the interaction of the main components.\nSingle-phase and three-phase PV inverters Single-phase load and three-phase loads Multi-agent system (MAS) Communication of MAS Functions under Test (FuT) MAS-based distributed voltage-var control Communication functionality between the agents within the MAS Reactive power exchange capability and reactive power control modes of PV systems Test criteria (TCR) Voltage deviation must be maintained within limits (i.e., ±10% for LV networks) under different operating conditions Power losses The operating conditions of PV inverters must fulfil the protection requirements. Target Metrics (TM) For PoI1:\nReaction of MAS to grid voltage variation Information exchanged between agents of the MAS system Reaction of PV inverters to the controlling signals sent by their respective agents PV power characteristic according to the specifications For PoI2:\nVoltage deviation PV curtailment Power losses Variability Attributes (VA) Grid topology Main grid impedance PV penetration rate PV production Load consumption Influence of communication and control Quality Attributes (QA) Voltage deviation within ±10% Reduction in power losses Increase of PV penetration Qualification Strategy Two aforementioned PoI can be addressed by implementing two respective Test Specifications indexed TC8.TS01 and TC8.TS02. In our TC, a LV network whose topology is unchanged with realistic parameters is selected. Different input variables can be varied during the test such as PV installed capacity (or PV penetration level), solar irradiance, load consumption, communication time delay in order to evaluate the performance of the proposed distributed voltage control scheme.\n","categories":"","description":"Evaluation of voltage control in distribution grids","excerpt":"Evaluation of voltage control in distribution grids","ref":"/test-case-repository/docs/erigrid-2.0/tc08/","tags":"","title":"Test Case 8"},{"body":"Identification ID 9\nAuthor Tran The Hoang, Luigi Pellegrino, Quoc Tuan Tran\nVersion 1\nProject Erigrid 2.0\nDate 02/03/2021\nTest Case Definition Name of the Test Case Evaluation of congestion management in distribution grid\nNarrative The distribution network has been becoming congested because of the introduction of bi-directional power flow (due to the increasing penetration of DERs), unpredictable and increased power demands for consumption by the residential consumers (due to the introduction of new forms of loads such as Heat Pumps, EVs, etc.). As a result, the distribution network operators (DSOs) need to focus on the challenge of balancing power supply and demand. Congestion in the distribution network refers to an overvoltage at the connection points as well as overloading of the network components. On the one hand, to mitigate the network strains, conventionally DSOs focus mainly on network development by installing new cables and transformers to meet the increasing power flows. Nonetheless, the distribution loads are spread over large geographically areas and in a distributed manner, making the upgrade of the network more financially infeasible in a short term. Another alternative solution is to develop grid congestion management approaches so that the network infrastructure can be utilized in a better way. There are two types of congestion management methods namely direct as well as indirect. The former technique is realized by performing load curtailment, local generation reduction, network re-configuration, new installation of Battery Energy Storage System (BESS). In contrast, the latter approach focuses on solving the optimization of electricity cost with the constraints ensuring the transformers/feeders not to be overloaded.\nThe direct congestion management method in this test includes two stages. The first stage consists of using a machine learning method, such as support vector machine, multi-class classification, decision tree, ANN..., in order to build congestion classification models. Once congestion is detected, it has to be labeled to one of the following statuses: normal, alert, emergency, and critical depending on the output of the trained models. In the second step, DSOs will use the congestion labeling to calculate the expected flexibility portfolio. With the expected procurement cost, the flexibility available in the feeders/households can be used to solve the congestion problem. After comparing the results with different conditions, the best setting for the congestion management can be chosen.\nOn the other hand, an indirect congestion management needs to be based on an online learning technique to emulate the demand flexibility of a network. As for emulating the demand flexibility, the concept of price elasticity of demand can be considered. Accordingly, demand flexibility during all time-periods of a day shall be treated as a commodity that can be substituted or complemented to each other.\nThe objective of this Test Case is to evaluate different congestion management methods in distribution grid under the circumstance of high penetration of DERs and other active loads such as EVs, HPs ...\nFunction(s) under Investigation (FuI) Congestion management of the DMS controller\nDirect approach: mitigating congestions by curtailment of load and local generation and by influencing the voltage level at the secondary side of a MV/LV transformer Indirect approach: motivating individual prosumers with dynamic prices through intermediate market entities such as aggregators and retailers. DSOs also incentivize customers by providing compensations for their load reduction when needed to solve network congestions. Object under Investigation (OuI) DMS controller Domain under Investigation (DuI) Electrical domains Control and ICT domain Purpose of Investigation (PoI) Characterization and comparison of different congestion management methods. System under Test (SuT) In electric power domain:\nDMS controller DER (PV system) Household appliances Distribution transformer Aggregator/consumer/prosumer controllers Household controllers Household appliance controllers DER controllers In ICT domain:\nCommunication network Functions under Test (FuT) DMS congestion management functionality DER power output control Household appliances control of the aggregator/consumer/prosumer controller Communication via ICT Test criteria (TCR) Performance of the congestion management algorithm under realistic conditions The transformer and feeders should not be overloaded Reduction in the cost of flexibility procurement Target Metrics (TM) Accuracy of congestion prediction Transformer overloading/loss of transformer life/Hot spot temperature of the transformer/transformer loss Feeder overloading Cost of congestion management DER power curtailment Household voltage profiles Flexibility procured by DSO Reduction in peak demand Variability Attributes (VA) Household consumption profiles DER generation (weather condition) Packet loss Communication delay Quality Attributes (QA) Transformers/feeders are not overloaded Voltage deviation within ±10% (typically for LV networks) Reduction in DER power curtailment Qualification Strategy The test case is split in two TSs: one to characterize the direct method, one to characterize the indirect method. Then, the results will be analysed to compare the performances of the two methods. For the TSs, either a pure simulation or a co-simulation will be performed.\n","categories":"","description":"Evaluation of congestion management in distribution grid","excerpt":"Evaluation of congestion management in distribution grid","ref":"/test-case-repository/docs/erigrid-2.0/tc09/","tags":"","title":"Test Case 9"},{"body":"Test Specification Definition ID NA4-TC21.TS2\nReference to Test Case TS02\nTitle of Test This test allows determining and verifying the successful transmission rate of a data profile for different delay emulations enabled by the communication emulator. This would allow to verify the minimum periodicity of data value sent determined in TS1 (with 99% successful transmission rate), and determine if the successfully transmitted data is similar or decreases when including emulated delays. Test Rationale Specific Test System (graphical) The test system is comprised of the components and their interconnection according to the figure shown above.\nThe emulation delay must be set to different values depending on the delay to be assessed. One experiment must be carried out for each of these delays\nThe real time simulator must send a data profile composed of integer values using “protocol 1” and a value α equal to 1. The values have to constantly increase throughout each experiment.\nAdditionally, the real time simulator must internally register a timestamp for each value sent and a timestamp for when this value is received (if the value is not lost).\nTarget measures The roundtrip time that takes each value sent from the real time simulator to reach the real time simulator, going through the communication devices and the communication emulator. Input and output parameters Controllable input parameters:\nThe time duration for which each value from the data profile is sent (Ideally, the minimum duration determined in TS1). The specific communication protocol to send the information (Protocol 1 and 2). The emulation delay of the communication emulator. Uncontrollable parameters:\nTime that takes the data to be received by the real time simulator Measured parameters:\nValues received by the real time simulator Roundtrip time of each value received by the real time simulator. Test Design Choose data profile to be sent around the system. Choose the number of values that will be sent through the system (at least 1000 recommended for statistical purposes) Choose communication protocols “Protocol 1” and “Protocol 2” Select a set of delay emulation values to be assessed (e.g. {100ms, 150ms, 200ms}) Set the delay emulation from the communication emulator to the first value from the set Run the experiment and determine for each sent value whether the real time simulator received it. If the value was received, determine the roundtrip time by calculating the difference of the timestamps registered by the real time simulator. Assess test criteria for each of the values. Repeat procedure selecting a different delay emulation value from the set, until all the experiments have been executed. Initial system state Devices are on and running The real time simulator has sent any value The registrations (in the real time simulator) of successful received values and the timestamps of sending/receiving values are empty Evolution of system state and test signals The successful received values and the timestamps of sending/receiving values are registered in the real time simulator. Other parameters N/A\nTemporal resolution Polling frequency parameters of the protocols being used should be less than the value that has the minimum transmission duration. Polling frequency in the range 1ms-10ms is recommended. Source of uncertainty The delay that can occur within any of the devices used in the system has a stochastic nature. These are therefore sources of uncertainty.\nSuspension criteria / Stopping criteria Suspension criteria: Errors in devices\nStopping criteria: the experiment concludes when the value from the data profile reaches the previously defined number.\n","categories":"","description":"This test allows determining and verifying the successful transmission rate of a data profile for different delay emulations enabled by the communication emulator. This would allow to verify the minimum periodicity of data value sent determined in TS1 (with 99% successful transmission rate), and determine if the successfully transmitted data is similar or decreases when including emulated delays. ","excerpt":"This test allows determining and verifying the successful transmission …","ref":"/test-case-repository/docs/erigrid-2.0/tc21/na4-tc21.ts2/","tags":"","title":"Test Specification NA4-TC21.TS2"},{"body":"Test Specification Definition ID TC11.TS01\nReference to Test Case TC11\nTitle of Test Local controller responds to service requests from aggregator controller\nTest Rationale This test characterizes district operation of a simple long district heat pipe with heat booster HP and without Booster Heater Controller and Electric Storage Controller active, seeking to demonstrate that the local controllers respond to service requests from the aggregator controller.\nSpecific Test System (graphical) The system under test includes an electrical system, a district heating system and a control system. Each is sketched below.\nThermal system\nThe thermal system is a simplified distribution network which includes a booster heat pump. The heat load is aggregated in two locations.\nElectrical system\nThe electrical system corresponds to a single feeder.\nControl domain coupling\nThe distribution grid management does not form part of the system under test but are taken as exogenous signals.\nTarget measures See Test Design.\nInput and output parameters P_PCC: Measured apparent electrical import at the district electrical network point of common coupling [kWe] Q_PCC: Measured heat import at the district heating network point of common coupling [kWq] P_booster: Measured electrical active power consumption of district booster heater [kWe] Test Design The test comprises 24 hours of district operation. During these 24 hours, the heat pump controller is asked to keep the forward temperature of the connected pipe above 70ºC.\nFurther, these services are requested of the Aggregator by the Distribution Grid Management:\nfor 07:00 to 09:00, keep district electrical consumption below P_import_limit kW.. for 11:00 to 14:00, keep district electrical consumption above P_export_limit kW. for 17:00 to 19:00, keep district electrical consumption below P_import_limit kW where these limits are defined as below.\nThe test consists of several runs:\nno service signal sent service signals sent (gamma indicates the level of service requested – lower gamma = more service requested) gamma = 1.0 gamma = 0.95 gamma = 0.90 gamma = 0.85 gamma = 0.80 By comparing these runs, whether the controllers respond to service requests can be established.\nFor run 1, set:\nP_import_limit = inf, P_export_limit = -inf gamma=1.0. For subsequent runs (given the 99% quantile of district electrical import P_i_99 and the 1% quantile of district electrical import, P_i_1), the system is asked to restrict its import relative to the uncontrolled base case:\nP_export_limit= gamma * P_i_1 kWe P_import_limit = gamma* P_i_99 kWe, Initial system state each component is initialized to the state given in the associated dataset the battery state of charge is set to 50% of nomimal energy the district heating system is allowed to relax to a steady state with the heat pump turned off Evolution of system state and test signals Test signals:\nP_import_limit: District electrical consumption bound requested from battery/EV units [kWe] P_export_limit: District electrical export bound requested from heating units [kWe] gamma: Scaling factor for district import and export [n.u.] Other parameters N/A\nTemporal resolution The test is run at a fixed time step of 10 seconds.\nSource of uncertainty Since the exact electrical demand signal consists of a deterministic trend and a randomized factor, each “run” above should be repeated 10 times, with the mean and standard deviation of each target metric recorded.\nSuspension criteria / Stopping criteria N/A\n","categories":"","description":"Local controller responds to service requests from aggregator controller","excerpt":"Local controller responds to service requests from aggregator …","ref":"/test-case-repository/docs/erigrid-2.0/tc11/tc11.ts01/","tags":"","title":"Test Specification TC11.TS01"},{"body":"Test Specification Definition ID TC11.TS02\nReference to Test Case TC11\nTitle of Test Local controller responds to service requests from aggregator controller\nTest Rationale This test characterizes district operation with and without Booster Heater Controller and Electric Storage Controller active, seeking to demonstrate that the local controllers respond to service requests from the aggregator controller.\nSpecific Test System (graphical) The system under test includes an electrical system, a district heating system and a control system. Each is sketched below.\nThermal system\nThe block called “Row Houses” consists of multiple small loads which are aggregated into a single, larger load.\nElectrical system\nNote, that only loads which are marked in red are inside the quarter under control. All buses are taken to be P-Q buses, with the grid acting as the slack bus. Rings 3-5 are summarized, as no buses are inside the district.\nControl domain coupling\nThe distribution grid management does not form part of the system under test, but are taken as exogenous signals.\nTarget measures See Test Design.\nInput and output parameters P_PCC: Measured apparent electrical import at the district electrical network point of common coupling [kWe] Q_PCC: Measured heat import at the district heating network point of common coupling [kWq] P_booster: Measured electrical active power consumption of district booster heater [kWe] Test Design The test comprises 24 hours of district operation. During these 24 hours, the heat pump controller is asked to keep the forward temperature of the connected pipe above 70ºC.\nFurther, these services are requested of the Aggregator by the Distribution Grid Management:\nfor 07:00 to 09:00, keep district electrical consumption below P_import_limit kW.. for 11:00 to 14:00, keep district electrical consumption above P_export_limit kW. for 17:00 to 19:00, keep district electrical consumption below P_import_limit kW where these limits are defined as below.\nThe test consists of several runs:\nno service signal sent service signals sent gamma = 1.0 gamma = 0.95 gamma = 0.90 gamma = 0.85 gamma = 0.80 By comparing these runs, whether the controllers respond to service requests can be established.\nFor run 1, set:\nP_import_limit = inf, P_export_limit = -inf gamma=1.0. For subsequent runs (given the 99% quantile of district electrical import P_i_99 and the 1% quantile of district electrical import, P_i_1), the system is asked to restrict its import relative to the uncontrolled base case:\nP_export_limit= gamma * P_i_1 kWe P_import_limit = gamma* P_i_99 kWe, Initial system state each component is initialized to the state given in the associated dataset the battery state of charge is set to 50% of nomimal energy the district heating system is allowed to relax to a steady state with the heat pump turned off Evolution of system state and test signals Test signals:\nP_import_limit: District electrical consumption bound requested from battery/EV units [kWe] P_export_limit: District electrical export bound requested from heating units [kWe] gamma: Scaling factor for district import and export [n.u.] Other parameters N/A\nTemporal resolution The test is run at a fixed time step of 10 seconds.\nSource of uncertainty Since the exact electrical demand signal consists of a deterministic trend and a randomized factor, each “run” above should be repeated 10 times, with the mean and standard deviation of each target metric recorded.\nSuspension criteria / Stopping criteria N/A\n","categories":"","description":"Local controller responds to service requests from aggregator controller","excerpt":"Local controller responds to service requests from aggregator …","ref":"/test-case-repository/docs/erigrid-2.0/tc11/tc11.ts02/","tags":"","title":"Test Specification TC11.TS02"},{"body":"Test Specification Definition ID TC12.TS01\nReference to Test Case TC12\nTitle of Test Electric Boiler Activation for Excess Power Consumption with Proportional Controllers\nTest Rationale This test aims at self-consumption of excess power generated from distributed renewable power generators (i.e., the rooftop PV generators). The excess power is fed into the local heating network. The local use of excess power helps mitigate problems in the electric distribution network, such as reversed power flows, high loading of equipment and voltage band violations. On the other side, distributed infeed into the local heating network might cause problems due to reversed mass flows, fluctuating supply temperatures or differential pressure problems.\nElectric boilers are used as power-to-heat appliances. They consist of an electric heater, for the conversion of power to heat, and a thermal energy storage, for the (short-term) storage of generated heat.\nThe operation of the electric boilers and storage units are governed by simple proportional controllers.\nSpecific Test System (graphical) This test case uses simple proportional controllers with fixed operational parameters (e.g., temperature thresholds) to calculate new setpoints for the electric boilers. The district heating network/electric boiler simulation send actual power consumption of electric boilers to the electric network simulation.\nA detailed description of the controller scheme is given in: https://doi.org/10.1016/j.energy.2020.118540\nTarget measures The test is successfully passed if power flows to the external network are reduced compared to a scenario without power-to-heat. Simultaneously, power import into the network is not allowed to increase by more than 1%. Moreover, relevant network constraints need to be met.\nInput and output parameters PEBSet … electric boiler setpoint for nominal heat flow QEBSet … electric boiler setpoint for nominal power consumption QEB … electric boiler heat flow PEB … electric boiler power consumption TEB … thermal storage temperature Test Design This test needs to run for an entire year to account for the daily/seasonal variations of loads/generators and the impact of the predictive control, as it usually plans ahead several hours/days.\nInitial system state district heating pipes have nominal temperatures thermal storages are empty, i.e., have nominal return temperature of district heating network electric boilers not running Evolution of system state and test signals Every 15 minutes the electric boiler controllers receive current heat generation and heat discharge from respective electric boilers, based on which new setpoints are calculated. Every 15 minutes the electric network receives current power consumption from electric boilers Except for the previous, subsystems are independent from each other. Other parameters None\nTemporal resolution Local heating and electric boilers:\ndynamic, variable step size (typically order of seconds) Electric network and predictive controllers:\n15 minutes Source of uncertainty None\nSuspension criteria / Stopping criteria critical violation of network operation constraints (freezing/boiling water in any part of district heating network, etc.) predictive controller unable to predict next step (infeasible model) ","categories":"","description":"Electric Boiler Activation for Excess Power Consumption with Proportional Controllers","excerpt":"Electric Boiler Activation for Excess Power Consumption with …","ref":"/test-case-repository/docs/erigrid-2.0/tc12/tc12.ts01/","tags":"","title":"Test Specification TC12.TS01"},{"body":"Experiment Specification Definition ID TC12.TS01.ES01\nReference to Test Specification TC12.TS01\nTitle of Experiment Co-Simulation of Electric Boiler Activation for Excess Power Consumption with Proportional Controllers\nResearch Infrastructure N/A\nExperiment Realisation The experiment is implemented as co-simulation using mosaik with a simulator synchronization step size of 15 minutes.\nExperiment Setup (concrete lab equipment) Dedicated simulation components are implemented as FMUs for Co-Simulation:\npower system simulation: the power system is implemented as pandapower model, using consecutive power flow calculations to simulate the power system; the electric boilers are represented as PQ loads; thermal network simulation: the local heating network and the electric boilers are modelled with Modelica and compiled with Dymola; this model includes the proportional controllers that actuate the boilers; Experimental Design and Justification This is a basic co-simulation setup using the mosaik environment with FMUs.\nPrecision of equipment and measurement uncertainty N/A\nStorage of experiment data The output from the individual simulation components is stored as time series data (HDF5 data format).\n","categories":"","description":"Co-Simulation of Electric Boiler Activation for Excess Power Consumption with Proportional Controllers","excerpt":"Co-Simulation of Electric Boiler Activation for Excess Power …","ref":"/test-case-repository/docs/erigrid-2.0/tc12/tc12.ts01/tc12.ts01.es01/","tags":"","title":"Experiment Specification TC12.TS01.ES01"},{"body":"Test Specification Definition ID TC12.TS02\nReference to Test Case TC12\nTitle of Test Electric Boiler Activation for Excess Power Consumption with Model-predictive Control\nTest Rationale This test is conceptionally similar to TC12.TS01. The difference is that for planning the operation of the storage units and the electric heaters a predictive controller is used. The aim of the controller is to minimize negative residual load of the electric network. To enable this planning, negative residual load in the electric as well as heat demand in the heat network need to be known/predicted. This test assumes perfect knowledge of these time-series data and, thus, does not focus on the quality of predictions.\nSpecific Test System (graphical) The controller uses heat demand and excess power predictions together with current storage temperatures, electric boiler power consumption and heat discharge to calculate new setpoints for the electric boilers. The district heating network/electric boiler simulation send actual power consumption of electric boilers to electric network simulation.\nThis test case uses an advanced model-predictive control scheme for activating the electric boilers and storage units. A detailed description of the controller scheme is given in:\nhttps://doi.org/10.1016/j.energy.2020.118540\nTarget measures same as TC12.TS01\nInput and output parameters Qdem … predicted heat demand Pex … predicted power demand otherwise same as TC12.TS01 Test Design The electric boilers are activated with the help of a predictive control approach, which enables a planning of discharging and charging the thermal storage units with regards to excess power availability. For instance, thermal storages can be emptied before times with high excess power but low heat demand and thus makes the use of the electric heater still possible.\nThis test needs to run for an entire year to cover the daily/seasonal variations of loads/generators and the impact of the predictive control, as it usually has planning horizons of multiple hours/days.\nInitial system state same as TC12.TS01\nEvolution of system state and test signals Every 15 minutes the electric boiler controllers receive current heat generation and heat discharge from respective electric boilers together with predicted residual load of electric network and heat demand of district heating network. Thus, electric boilers receive new setpoints for heat generation \u0026 heat discharge from model predictive controllers. Every 15 minutes electric network receives current power consumption from electric boilers Otherwise subsystems are independent from each other. Other parameters None\nTemporal resolution same as TC12.TS01\nSource of uncertainty None\nSuspension criteria / Stopping criteria same as TC12.TS01\n","categories":"","description":"Electric Boiler Activation for Excess Power Consumption with Model-predictive Control","excerpt":"Electric Boiler Activation for Excess Power Consumption with …","ref":"/test-case-repository/docs/erigrid-2.0/tc12/tc12.ts02/","tags":"","title":"Test Specification TC12.TS02"},{"body":"Experiment Specification Definition ID TC12.TS02.ES01\nReference to Test Specification TC12.TS02\nTitle of Experiment Co-Simulation of Electric Boiler Activation for Excess Power Consumption with Model-predictive Control\nResearch Infrastructure N/A\nExperiment Realisation The experiment is implemented as co-simulation using mosaik with a simulator synchronization step size of 15 minutes.\nExperiment Setup (concrete lab equipment) Dedicated simulation components are implemented as FMUs for Co-Simulation:\npower system simulation: the power system is implemented as pandapower model, using consecutive power flow calculations to simulate the power system; the electric boilers are represented as PQ loads; thermal network simulation: the local heating network and the electric boilers are modelled with Modelica (and compiled with Dymola); this model includes the proportional controllers that actuate the boilers; model-predictive controller: the controller logic is implemented in Python Experimental Design and Justification This is a basic co-simulation setup using the mosaik environment with FMUs.\nPrecision of equipment and measurement uncertainty N/A\nStorage of experiment data The output from the individual simulation components is stored as time series data (HDF5 data format).\n","categories":"","description":"Co-Simulation of Electric Boiler Activation for Excess Power Consumption with Model-predictive Control","excerpt":"Co-Simulation of Electric Boiler Activation for Excess Power …","ref":"/test-case-repository/docs/erigrid-2.0/tc12/tc12.ts02/tc12.ts02.es01/","tags":"","title":"Experiment Specification TC12.TS02.ES01"},{"body":"Test Specification Definition ID TC14.TS1\nReference to Test Case TC14\nTitle of Test Synthetic inertia and fast frequency response/control provided by converter-based resources: validating the FFR and SI control.\nTest Rationale The validation of the FFR and SI control allows to evaluate the ability of the converter to provide these functions, considering also the variability attributes (Frequency variation, power set-point, voltage and current harmonics, measures accuracy). Specific Test System (graphical) This TS requires a grid simulator and one power converter with the OuI.\nTarget measures Power and frequency measures time series of the power converter under test.\nInput and output parameters Frequency set-point, FCR, FFR and SI control mode ON/OFF, Power baseline.\nTest Design A simulation and/or a pure hardware experiment can be performed. A Pure hardware experiment is recommended but, with some assumption, also a simpler experiment can be performed.\nThe test design for verifying the PoI 1 is the following:\nSet the starting frequency to the grid simulator and the power baseline to the power converter. Change the frequency (with a fixed ramp rate and amplitude) and log the power converter measurements. Repeat the previous step until quality attributes will be achieved. Initial system state Frequency: 50 Hz\nPower baseline: at least three different initial states; one with lower power exchange, one with medium power exchange and one with high power exchange.\nEvolution of system state and test signals From 50 Hz up to 51.5 Hz, then down to 47.5 Hz with different step size (0.1 Hz, 0.25, 0.5 Hz).\nOther parameters See variability attributes.\nTemporal resolution At least 0.1 ms.\nSource of uncertainty Measures accuracy in case of non-simulation experiments.\nSuspension criteria / Stopping criteria Disconnection of the power converter.\n","categories":"","description":"Synthetic inertia and fast frequency response/control provided by converter-based resources: validating the FFR and SI control.","excerpt":"Synthetic inertia and fast frequency response/control provided by …","ref":"/test-case-repository/docs/erigrid-2.0/tc14/tc14.ts1/","tags":"","title":"Test Specification TC14.TS1"},{"body":"Experiment Specification Definition ID TC14.TS1.ES1\nReference to Test Specification TS1\nTitle of Experiment Pure Hardware test: validation of the FFR and SI functionalities of a power converter.\nResearch Infrastructure DER-TF (RSE, Milan)\nExperiment Realisation The power converter controller will be implemented on the DSpace controller that commands the power converter “Conv1_DCgrid”. The control functions are developed in Simulink. Another power converter “Conv_Li-ion battery”, connected to the “Conv1_DCgrid” through a line of 200 m, set voltage and frequency. No other electrical components are connected to this experiment setup.\nThe voltage and current measurements are provided by two PMUs installed at the electrical output of each power converters.\nThe power converter \"Conv_Li-ion battery” will set different frequency values following the “Evolution of system state and test signals” description in TC14.TS1 with a pause between every change of about 20 s.\nExperiment Setup (concrete lab equipment) Experimental Design and Justification The Pure Hardware experiment aims to validate the ability of the power converter “Conv1_DCgrid” to provide FFR and SI functionalities considering the real behavior of a controller and a power converter of medium size (100 kVA).\nPrecision of equipment and measurement uncertainty PMU uncertainties: u(I) = 1.5 A; u(V) = 1 V; u(f) = 5 mHz.\nPower converter precision: 0.5 V; 0.01 Hz.\nStorage of experiment data Data are collected on a local PC on a txt file every second with a sample time of 0.1 ms.\n","categories":"","description":"Pure Hardware test: validation of the FFR and SI functionalities of a power converter.","excerpt":"Pure Hardware test: validation of the FFR and SI functionalities of a …","ref":"/test-case-repository/docs/erigrid-2.0/tc14/tc14.ts1.es1/","tags":"","title":"Experiment Specification TC14.TS1.ES1"},{"body":"Experiment Specification Definition ID TC14.TS1.ES2\nReference to Test Specification TS1\nTitle of Experiment Pure simulation test: Simulation for the validation of FFR and SI functionalities of converter-based resources: Dynamic response and stability assessment\nResearch Infrastructure Tecnalia\nExperiment Realisation Simulation model of grid connected power-electronics interfaced renewables and/or stationary battery energy systems following the schemes drafted in the figure below will be developed.\nTwo types of simulation studies will be performed:\ni) Dynamic simulations The objective of these simulations is to test the dynamic response of converter-based resources with FFR and SI functionalities under frequency deviations.\nThe frequency of the grid will be changed following a profile similar to that of the test signals for frequency injection described in previous work.\nThe current, voltage and power profiles of the power converter will be recorded and compared against those specified in the grid codes listed in the FuI of TC14.\nii) Stability due to converter interactions\nOne of the key issues in converter-dominated power systems are the interactions that can take place between the converter’s controllers, filters, generators and the transmission network. If these interactions are not properly damped can lead to undamped oscillatory modes that make the system unstable. Identification of critical oscillatory modes and their dependence and sensibility to the converter and transmission system parameters will be addressed in this study. Combination of active damping schemes together with FFR and SI functionalities will be analyzed.\nExperiment Setup (concrete lab equipment) Simulations in Matlab/Simulink\nExperimental Design and Justification This simulation analysis aims to validate the operation of the controllers to provide FFR and SI functionality of converter-based resources. Unitary converter validation is performed. It can be used as a reference for comparison with the hardware test validation in TC14.TS1.ES1 and as a preliminary stage before addressing power system stability assessment in TC14.TS2.ES2.\nPrecision of equipment and measurement uncertainty Pure simulation analysis. Not applicable.\nStorage of experiment data Data is collected in a workspace while simulation is running and recorded in a local PC. ","categories":"","description":"Pure simulation test: Simulation for the validation of FFR and SI functionalities of converter-based resources: Dynamic response and stability assessment","excerpt":"Pure simulation test: Simulation for the validation of FFR and SI …","ref":"/test-case-repository/docs/erigrid-2.0/tc14/tc14.ts1.es2/","tags":"","title":"Experiment Specification TC14.TS1.ES2"},{"body":"Test Specification Definition ID TC14.TS2\nReference to Test Case TC14\nTitle of Test Synthetic inertia and fast frequency response/control provided by converter-based resources: power system stability assessment.\nTest Rationale The test aims to verify that power converters limit the ROCOF and the frequency deviation considering also the variability attributes (Frequency variation, voltage set-point, voltage and current harmonics, measures accuracy, interaction between each power converter providing FFR and SI and other components, grid parameter, communication and controller delay).\nSpecific Test System (graphical) IEEE 9 bus\nTarget measures Power and frequency measures time series of each power converter.\nInput and output parameters Production and consumption profiles, FCR, FFR and SI control mode ON/OFF, power baseline, number of power converters, mechanical inertia.\nTest Design The test design is the same of the TC14.TS1 but consumption and non-controllable production will be change instead of frequency.\nInitial system state Frequency: 50 Hz\nPower baseline: at least three different initial states; one with lower power exchange, one with medium power exchange and one with high power exchange.\nEvolution of system state and test signals Consumption or production change in order to have the same frequency variation of the TC14.TS1.\nOther parameters See variability attributes.\nTemporal resolution At least 0.1 ms.\nSource of uncertainty Measures accuracy in case of non-simulation experiments.\nSuspension criteria / Stopping criteria Disconnection of one or more components and/or frequency instability.\n","categories":"","description":"Synthetic inertia and fast frequency response/control provided by converter-based resources: power system stability assessment.","excerpt":"Synthetic inertia and fast frequency response/control provided by …","ref":"/test-case-repository/docs/erigrid-2.0/tc14/tc14.ts2/","tags":"","title":"Test Specification TC14.TS2"},{"body":"Experiment Specification Definition ID TC14.TS2.ES1\nReference to Test Specification TS2\nTitle of Experiment PHIL simulation for frequency stability assessment of renewable-based systems using SI and FFR support from converter-based resources\nResearch Infrastructure UST\nExperiment Realisation In this case a PHIL experiment is implemented for a more realistic assessment of the response of the converter interface resource to fast frequency changes. For consistency purposes, the same reference model (IEEE 9 bus) as used for the pure simulation experiment is simulated. This model is complemented with the addition of a converter interfaced hardware resource (in this case an ESS but could be of other type if required) in which the algorithms of SE and FFR will be implemented.\nDifferent disturbances such as load increase or SG trip are carried out to evaluate ROCOF and frequency deviation of the system with SI/FFR in services.\nExperiment Setup (concrete lab equipment) For the experimental setup an RTDS is used for the running the real-time simulation model, this will be coupled to the hardware under test through a PHIL interface composed of a 90kVA switched mode amplifier which communicates with the RTDS through analog or digital communications. The HUT is formed by a hybrid energy storage system with a 10kWh Li-ion battery and a supercapacitor.\nExperimental Design and Justification The PHIL experiment objective is to validate the stability of the system when the real hardware providing fast frequency support is interacting with the rest of the power system. By performing this experiment, possible issues introduced by the dynamics of the real hardware and the interactions between devices in the system are identified.\nPrecision of equipment and measurement uncertainty Storage of experiment data Data will be collected at different locations (both in hardware and simulation) with a sufficient sampling rate to allow the identification of problems.\n","categories":"","description":"PHIL simulation for frequency stability assessment of renewable-based systems using SI and FFR support from converter-based resources","excerpt":"PHIL simulation for frequency stability assessment of renewable-based …","ref":"/test-case-repository/docs/erigrid-2.0/tc14/tc14.ts2.es1/","tags":"","title":"Experiment Specification TC14.TS2.ES1"},{"body":"Experiment Specification Definition ID TC14.TS2.ES2\nReference to Test Specification TS2\nTitle of Experiment Pure simulation test: frequency stability assessment of renewable-based systems using SI and FFR support from converter-based resources\nResearch Infrastructure DTU\nExperiment Realisation Simulation:\nIEEE 9 bus system with converter-based resources (CBR) (wind, PV, battery, etc.) as replacements for SGs is implemented in digital real-time simulator. CBRs are equipped with SI/FFR control based of specifications of grid codes.\nDifferent disturbances such as load increase or SG trip are carried out to evaluate ROCOF and frequency deviation of the system with SI/FFR in services.\nA delay can be added to emulate the communication latency.\nComparison of SI/FFR based on different grid codes for frequency stability improvement.\nThe interaction of SI/FFR of converters with SGs is also considered.\nExperiment Setup (concrete lab equipment) Pure simulation in RTDS\nExperimental Design and Justification The pure simulation aims to evaluation frequency stability with SI and FFR support from converter-based resources in terms of ROCOF and frequency deviation. It can be a reference for a comparison with the PHiL simulation\nPrecision of equipment and measurement uncertainty PB5-based RTDS racks\nTime step of simulation: 50-60 µs\nStorage of experiment data Data is collected on run time of simulation in CSV extension file and stored at a local PC\n","categories":"","description":"\nPure simulation test: frequency stability assessment of renewable-based systems using SI and FFR support from converter-based resources","excerpt":"\nPure simulation test: frequency stability assessment of …","ref":"/test-case-repository/docs/erigrid-2.0/tc14/tc14.ts2.es2/","tags":"","title":"Experiment Specification TC14.TS2.ES2"},{"body":"Test Specification Definition ID TC15.01\nReference to Test Case 15\nTitle of Test Validation of Coordinated Voltage Control algorithm based on combined CHIL and PHIL test\nTest Rationale To validate the successful operation of the system when using hierarchical control and the effective implementation of the communication scheme when using hardware MicroGrid Central Controller in real conditions\nSpecific Test System (graphical) Target measures Active and reactive power of loads Active and reactive power of PVs and BESS SoC of BESS Tap position of the OLTC Bus voltages Input and output parameters Input to CVC:\nActive and reactive power of loads Active power of PVs SoC of BESS Tap position of the OLTC Output of the CVC:\nActive and reactive power of the BESS Reactive power of the PV Inverters Tap position of the OLTC Test Design Initialization of the voltage control algorithm Reception of input parameters from the network via the MGCC Solution of the optimization problem Dispatch of optimal set points to the voltage regulating devices via the MGCC Save the simulation results for each iteration Repeat steps 2 to 5 in pre-configured intervals Initial system state Power system in steady-state Controller up and running Communications established OLTC Controller up and running DER Storage Controller up and running DERGen Controller up and running Optimal power flow solution achieved Evolution of system state and test signals Mitigation of voltage deviations\nOther parameters N/A\nTemporal resolution N/A\nSource of uncertainty Convergence of the optimization algorithm, communication Interfaces and delays\nSuspension criteria / Stopping criteria Communication failures, abnormal system conditions\n","categories":"","description":"Validation of Coordinated Voltage Control algorithm based on combined CHIL and PHIL test","excerpt":"Validation of Coordinated Voltage Control algorithm based on combined …","ref":"/test-case-repository/docs/erigrid-2.0/tc15/tc15.01/","tags":"","title":"Test Specification TC15.01"},{"body":"Experiment Specification Definition ID TC15.01.01\nReference to Test Specification 15.01\nTitle of Experiment Combined Control and Power Hardware-in-the-Loop simulation for testing Smart grid control algorithm\nResearch Infrastructure Electric Energy Systems Laboratory (ICCS-NTUA) Experiment Realisation Smart grid control algorithm for optimal operation of distribution network with voltage regulating assets and DERS. Hardware MGCC for implementation of industrial communication scheme and hardware inverter for validation in real conditions.\nExperiment Setup (concrete lab equipment) Simulated distribution network in RTDS PV inverter (SMA) PV simulator (Regatron) Spitzenberger and Spies Linear Amplifier External central controller (ControlHUT) (SEL MGCC) Communication card I/O interfacing cards Computer Experimental Design and Justification A low voltage residential network will be designed in RTDS. The network will consist of OLTC, BESS, DERs and loads. The CVC algorithm running on a computer will manage all the devices of the network that are capable of regulating the voltage. The MGCC will communicate with the PC to send network measurements and receive assets’ setpoints. Additionally, a hardware PV inverter will be connected with RTDS to validate the algorithm and the communication scheme in real conditions.\nPrecision of equipment and measurement uncertainty Software real-time measurements from RTDS, 50μs simulation step\nStorage of experiment data Matlab files and Excel files\n","categories":"","description":"Combined Control and Power Hardware-in-the-Loop simulation for testing Smart grid control algorithm","excerpt":"Combined Control and Power Hardware-in-the-Loop simulation for testing …","ref":"/test-case-repository/docs/erigrid-2.0/tc15/tc15.01.01/","tags":"","title":"Experiment Specification TC15.01.01"},{"body":"Test Specification Definition ID TC17.TS1\nReference to Test Case TC17\nTitle of Test Baseline test\nTest Rationale This test will establish the performance of the dispatch mechanism in the absence of a fault recovery mechanism by establishing the (permanent) performance loss of the dispatcher as a result of a permanent loss of one aggregator from its portfolio. This performance loss will express itself in a degradation of the dispatcher’s ability to track a setpoint, and will depend on the amount of flexibility which can be taken over by the remaining aggregator(s).\nSpecific Test System (graphical) Target measures Deviation of service delivered from service requested\nInput and output parameters Input: Level of base load [kW] Input: Service requested (by DSO) to dispatch unit Input: Time of fault occurrence [s] Output: Active power production/consumption at individual DERs [kW] Output: Active power sum flow at grid connection [kW] Test Design The test can be performed as a hardware experiment, a simulation experiment or a combination of the two.\nConfigure grid, DER units and base load to bring system into initial state (t=t0) At t=t1, request a load relief service from the dispatch unit, wait for aggregators to activate DER units. Measure the effectiveness of the service delivery (impact on grid) after stabilization. At t=t2, command fault simulator to disrupt communication to aggregator 1 Continue measuring the effectiveness of the service delivery for a period to determine the magnitude of the mismatch between service requested and service delivered. Initial system state No service requested by dispatch unit All DERs in neutral state (not delivering a service) Feeder in overload condition by combined baseload+DER consumption Fault simulator in bypass state (no fault) Evolution of system state and test signals Base load continues to change, following e.g. a random pattern Aggregator response tracks changes in base load Other parameters Temporal resolution Electrical system measurements: 1s. Logging of ICT events (messages exchanged, communication fault event etc.) using timestamps with at least 1ms resolution.\nSource of uncertainty Residual time synchronization difference between ICT entities\nSuspension criteria / Stopping criteria Elapsed time (fixed length experiment)\n","categories":"","description":"Baseline test","excerpt":"Baseline test","ref":"/test-case-repository/docs/erigrid-2.0/tc17/tc17.ts1/","tags":"","title":"Test Specification TC17.TS1"},{"body":"Test Specification Definition ID TC17.TS2\nReference to Test Case TC17\nTitle of Test Characterization of recovery from failure\nTest Rationale This test will characterize the response of the fault recovery mechanism. The results obtained will also allow a performance comparison with the baseline system.\nSpecific Test System (graphical) Target measures Time to restoration of service delivery Deviation of service delivered from service requested Input and output parameters Input: Level of base load [kW] Input: Service requested (by DSO) to dispatch unit Input: Time of fault occurrence [s] Output: Active power production/consumption at individual DERs [kW] Output: Active power sum flow at grid connection [kW] Test Design The test can be performed as a hardware experiment, a simulation experiment or a combination of the two.\nConfigure grid, DER units and base load to bring system into initial state (t=t0) At t=t1, request a load relief service from the dispatch unit, wait for aggregators to activate DER units. Measure the effectiveness of the service delivery (impact on grid) after stabilization. At t=t2, command fault simulator to disrupt communication to aggregator 1 Determine the points in time t=t3 where the dispatch unit has noticed the fault, and t=t4 where aggregator 2 has rescheduled. Continuously measure the effectiveness of the service delivery in order to determine the disruption to service delivery during t3\u003ct\u003ct4. Verify that the effectiveness of service delivery after t4 is comparable to before the fault (t\u003ct2). Initial system state No service requested by dispatch unit All DERs in neutral state (not delivering a service) Feeder in overload condition by combined baseload+DER consumption Fault simulator in bypass state (no fault) Evolution of system state and test signals Base load continues to change, following e.g. a random pattern Aggregator response tracks changes in base load Dispatch unit moves from “service delivery” to “fault recovery” and back to “service delivery” Other parameters Temporal resolution Electrical system measurements: 1s. Logging of ICT events (messages exchanged, communication fault event etc.) using timestamps with at least 1ms resolution.\nSource of uncertainty Residual time synchronization difference between ICT entities\nSuspension criteria / Stopping criteria Elapsed time (fixed length experiment)\n","categories":"","description":"Characterization of recovery from failure","excerpt":"Characterization of recovery from failure","ref":"/test-case-repository/docs/erigrid-2.0/tc17/tc17.ts2/","tags":"","title":"Test Specification TC17.TS2"},{"body":"Test Specification Definition ID TC21.TS1\nReference to Test Case TC21\nTitle of Test Determining minimum periodicity of data transmission for a successful transmission rate over 99%\nTest Rationale This test allows determining, as a first step, which is the minimum periodicity for which data sent from the real time simulator will result in a packet loss rate less than 1%. This information is needed for the design of the experiment needed to run TS02.\nSpecific Test System (graphical) The test system is comprised by the components and their interconnection according to the figure shown above.\nThe real time simulator must send a data profile composed of integer values using “protocol 1” and a value α less than 1.\nAdditionally, the real time simulator must internally register a timestamp for each value sent and a timestamp for when this value is received (if the value is not lost).\nThe communication emulator delay setting must be “0”. This will allow determining the minimum duration a value has to be sent for a 100% successful transmission rate. Target measures The roundtrip time for each value sent from the real time simulator to reach the real time simulator, going through the communication devices and the communication emulator. Input and output parameters Controllable input parameters:\nNumber of numbers that will be used for the data profile (e.g. 30). The proportion for which the next sending duration of the next value will be decreased (factor α). The specific communication protocol to send the information (Protocol 1 and 2). The number of times the data profile will be sent around the system to obtain statistically valid results (e.g. 1000 times) Uncontrollable parameters:\nTime that it takes the data to be received by the real time simulator Measured parameters:\nValues received by the real time simulator Roundtrip time of each value received by the real time simulator. Test Design Choose data profile to be sent around the system. Choose the number of times the data profile will be sent around the system. Choose communication protocols “Protocol 1” and “Protocol 2” Set the delay emulation from the communication emulator to “0” Run the experiment and determine for each sent value whether the real time simulator received it. If the value was received, determine the roundtrip time by calculating the difference of the timestamps registered by the real time simulator. Assess test criteria for each of the values. Initial system state Devices are on and running The real time simulator has sent any value The registrations (in the real time simulator) of successful received values and the timestamps of sending/receiving values are empty Evolution of system state and test signals The successful received values and the timestamps of sending/receiving values are registered in the real time simulator. Other parameters N/A\nTemporal resolution Polling frequency parameters of the protocols being used should be less than the value that has the minimum transmission duration. Polling frequency in the range 1ms-10ms is recommended. Source of uncertainty The delay that can occur within any of the devices used in the system has a stochastic nature. These are therefore sources of uncertainty.\nSuspension criteria / Stopping criteria Suspension criteria: Errors in devices\nStopping criteria: the experiment concludes when the data profile has been sent a previously defined number of times.\n","categories":"","description":"Determining minimum periodicity of data transmission for a successful transmission rate over 99%","excerpt":"Determining minimum periodicity of data transmission for a successful …","ref":"/test-case-repository/docs/erigrid-2.0/tc21/tc21.ts1/","tags":"","title":"Test Specification TC21.TS1"},{"body":"Test Specification Definition ID TC22.TS1\nReference to Test Case TC22\nTitle of Test Determination of maximum tripping times in the presence of ICT disturbances within a digital substation\nTest Rationale The IEC 61850 standard recommends a maximum time for transmission of fast messages such as trip signals to be within 10ms. Hence, this experiment seeks to test this performance requirement under adverse communication related conditions such as packet losses, latency, etc.\nSpecific Test System (graphical) The test system comprises of a real-time grid simulator, at least one Ethernet switch, and multiple IEC 61850 devices interconnected in a HIL setup. See SuT for further information.\nTarget measures The maximum time taken to communicate trip signals when subjected to specific communication disturbances.\nInput and output parameters Input parameters: Type of power system simulated Network topology of substation Protection schemes applied through the relays Fault type and duration Type of disturbance: equipment failure, increased latency, bad actor, misconfiguration etc. Output parameters:\nMaximum time taken to communicate trip signals Test Design The test is a HIL experiment as described in the SuT and specific test system. The test design is as follows: Start the system with all devices functioning as required. Run a test simulation with a short-circuit condition Note that appropriate relay communicates trip signal via IEC 61850 GOOSE message Circuit breaker is opened, and the fault is cleared Note this tripping time as T1 Apply a specific type of communication disturbance, for e.g., increased network traffic via an external device or network emulator. Repeat steps 2 to 4 and note the new tripping time T2. Repeat steps 6 and 7 in case of equipment failures, misconfigurations, and note times as T3, T4, and so on. Initial system state All devices are ON and running Real-time grid simulator can send and receive messages to and from the hardware devices Evolution of system state and test signals Successful recording of parameters T1, T2…Tn for various types of ICT disturbances\nOther parameters N/A\nTemporal resolution Tens of milliseconds\nSource of uncertainty Configuration of ethernet switch, IEC 61850 device compatibility\nSuspension criteria / Stopping criteria Suspension criteria: Errors in devices/misconfiguration\nStopping criteria: the experiment can be concluded when the maximum tripping times for various combinations of ICT disturbances and fault types are noted. Alternatively, if this time ever exceeds 10ms, the experiment can be stopped. ","categories":"","description":"Determination of maximum tripping times in the presence of ICT disturbances within a digital substation","excerpt":"Determination of maximum tripping times in the presence of ICT …","ref":"/test-case-repository/docs/erigrid-2.0/tc22/tc22.ts1/","tags":"","title":"Test Specification TC22.TS1"},{"body":"Test Specification Definition ID TC23.1\nReference to Test Case TC23\nTitle of Test Verification of the reliability of Substation Automation Systems (SASs) with redundancy in the communication network\nTest Rationale With the use of IEC 61850 standard, substations are nowadays becoming digitized and automated with digital relays/IEDs and a LAN based communication network for connecting these IEDs. Failure of the communication, even for the few milliseconds, may jeopardize critical functions such as protection and lead to catastrophic effects within or beyond the substation impacting the operation of grid. New redundant architectures, notably parallel redundancy protocol (PRP) and high High-Availability Seamless Redundancy (HSR) from IEC 62439-3, have been used to increase the reliability of IEC 61850 LAN based substation automation communication networks [1].\nPRP provides high reliability through two independent LAN networks. The PRP enabled nodes are connected to these two isolated networks, which operate in parallel as shown below in Fig. 1 below. Frames are duplicated in the source and are sent over both networks; the destination PRP enabled node receives packets from the first network and accepts it, if it is correct, and then the copy from the second network will be discarded as duplicate. HSR operation is similar to PRP but HSR uses a single LAN with a ring topology and it uses two independent paths (clockwise and counterclockwise). Both architectures aim to provide an ideal “zero recovery time” with no packet loss. This test aims to investigate the reliability of these two recent redundant communication networks in substation automation.\n[1] International Electrotechnical Commission IEC 62439-3:2016 Industrial communication networks - High availability automation networks - Part 3: Parallel Redundancy Protocol (PRP) and High-availability Seamless Redundancy (HSR)\n[2] S. Kumar, N. Das and S. Islam, \"High performance communication redundancy in a digital substation based on IEC 62439-3 with a station bus configuration,\" 2015 Australasian Universities Power Engineering Conference (AUPEC), 2015, pp. 1-5, doi: 10.1109/AUPEC.2015.7324838.\nSpecific Test System (graphical) The specific test system consists of a real-time grid simulator, protection IEDS, Ethernet switches (x2), communication cables (x2). The real-time simulator is used to model the power system dynamics as well as some IED functions such as Merging unit (generating sampled values), circuit breaker functionality. The physical IEDs (for protection) will be connected to the real-time simulator through the two redundant communication networks in a C-HIL setup.\nFig. 1: PRP Network Topology\nFig. 2: HSR Network Topology\nTarget measures End to end delay and packet loss of IEC 61850 GOOSE and sampled value (SV) messages after the introduction of fault. Availability and Mission reliability (ability to continually deliver service) of the communication network after the introduction fault. Input and output parameters Input parameters:\nFailure type Failure rate of components Repair rate of components Communication network topology Background traffic rate Degree of redundancy Output parameters:\nMaximum packet delay Packet loss Time duration of service interruption Test Design The test design is as follows.\nSystem starts with normal operating conditions, no fault and there will be a normal GOOSE and SV stream (every 10 ms and 0.25 ms respectively) Add some background traffic to the ethernet switches accounting for traffic from other IEDs or other devices in the substation. Introduce faults in the system. This could be: Failure in the communication network OR, simultaneous failure in the communication network and the power system During a failure in the communication network, the fail-over algorithm is activated and the system switches to the backup network with the redundant switches and network links. If there is also a failure in the power system right before or after the failure of the communication system failure, it will also change the GOOSE traffic behavior (burst of GOOSE messages will be transmitted). Collect the target measurements/metrics end to end delay of GOOSE and SV streams between the IEDs and the virtual devices (MUs) in the Opal RT. Down time of the communication between the IEDs and virtual MUs (if any) Repeat these steps by varying the failure scenarios, background traffic, redundancy type and degree. Initial system state Normal system state where there is no failure in the power and communication system. There will be a normal GOOSE (status update) between IEDs (also between IED and breakers), and SV streams from OPAL virtual MUs to the physical IEDs.\nEvolution of system state and test signals Initial state where there is no failure in the system (Normal GOOSE and SV streams) Failure of network components and/or the power system occur. The GOOSE and SV traffic pattern will change (for power system failures). The IEDs will send burst of GOOSE messages for a certain duration to make sure that faults are cleared on time. When the IEDs or the PRP enabled ethernet switches detect a failure on the primary communication path (network), a fail-over function will be activated (in response to failure in the communication system) The IEDs start to accept GOOSE and SV packets coming through the secondary path (network). GOOSE data rate will return to the normal rate. After a recovery of failed nodes (the communication network), IEDs and PRP enabled ethernet switches will revert back to accepting packets from the primary communication network. Other parameters Temporal order of contingency events ICT failure causes PS fault PS fault causes ICT failure PS fault and ICT failure coincident Temporal resolution 100 us\nSource of uncertainty Background traffic data rate, configuration of the communication network (ethernet switches), Network devices or IED's capability to support the PRP/HSR architectures.\nSuspension criteria / Stopping criteria Exceeding of quality attributes:\nCommunication is down for 200 milliseconds (protection related applications) or 3 second for SCADA- IED communication. ","categories":"","description":"Verification of the reliability of Substation Automation Systems (SASs) with redundancy in the communication network","excerpt":"Verification of the reliability of Substation Automation Systems …","ref":"/test-case-repository/docs/erigrid-2.0/tc23/tc23.1/","tags":"","title":"Test Specification TC23.1"},{"body":"Test Specification Definition ID TC25.TS1\nReference to Test Case TC25\nTitle of Test Impact analysis of Denial-of-Service (DoS) attack in a digital substation\nTest Rationale A digital substation is realised by the IEC 61850 standard which mandates a common Ethernet based communication infrastructure within a substation. This experiment seeks to analyse the impact of a DoS attack that successfully compromises the substation communication infrastructure. This may lead to delayed or loss of trip, block commands, thereby directly impacting grid operations.\nSpecific Test System (graphical) The test system comprises of a real-time grid simulator, at least one Ethernet switch, and multiple IEC 61850 compliant devices interconnected in a HIL setup. (See SuT for further information)\nTarget measures KPIs: loss of load, voltage deviations, frequency fluctuations on simulated system under a DoS attack Time taken and quality of service for IEC 61850 based communication under a DoS attack Input and output parameters Input parameters: Type of power system simulated Network topology of substation Protection schemes applied through the relays Fault type and duration Type of attack: DoS Output parameters:\nKPIs: loss of load, voltage deviations, frequency fluctuations on simulated system under a DoS attack Avg time for intra substation communication and communication quality of service (jitter, packet loss, latency, throughput, availability) Test Design The test is a HIL experiment as described in the SuT and specific test system. The test consists of a reference test for the baseline measurements and repeat of this test with the DoS attack. The test design is as follows: Start the system with all devices functioning as required and the system is stabilized. Run a test simulation with a short-circuit or fault condition at location monitored by relay. Note that the appropriate relay communicates trip signal via IEC 61850 GOOSE message. Note this time as reference time T1. Circuit breaker is opened, and the fault is cleared. Carry out DoS attack via external emulator/device to target specific IED/relay. Repeat steps 2 to 3 and note the new time T2. Quantify impact of attack through KPIs and note down targeted device. Repeat for additional target devices at different locations to identify most critical digital asset. Initial system state All devices are ON and running Real-time grid simulator can send and receive messages to and from the hardware devices IEDs receive messages from the real-time grid simulator Evolution of system state and test signals Successful recording of KPIs for each targeted device. The fault event generated by the real-time grid simulator has predeterminate fault duration and wait time. The DoS attack operates independently of the HIL experiment sequence and can occur at any moment of time in the sequence.\nOther parameters N/A\nTemporal resolution Order of tens of seconds\nSource of uncertainty Configuration of HIL test setup, quality of time synchronization. Suspension criteria / Stopping criteria Suspension criteria: Errors in devices/misconfiguration\nStopping criteria: the experiment can be concluded when the KPIs for various target devices are noted. Alternatively, if the attack causes cascading effects or a blackout, it can be stopped.\n","categories":"","description":"Impact analysis of Denial-of-Service (DoS) attack in a digital substation","excerpt":"Impact analysis of Denial-of-Service (DoS) attack in a digital …","ref":"/test-case-repository/docs/erigrid-2.0/tc25/tc25.ts1/","tags":"","title":"Test Specification TC25.TS1"},{"body":"Test Specification Definition ID TC6.TS1\nReference to Test Case TC6\nTitle of Test Validation of islanded microgrid ability to restore frequency deviations in a stable manner Test Rationale This test allows us to validate the ability of core components of the microgrid to effectively respond and tackle imbalances that result in frequency deviations. These core components include the MFC, the DER units that provide reserves as well as communication parts that can influence the stability of the control due to time delays.\nSpecific Test System (graphical) The above test system is based on the LV distribution network benchmark application example by CIGRE1\nTarget measures Restoration time \u003c120s Steady-state deviation: \u003c0.1Hz Reserves’ availability: \u003e20% DERs curtailment: \u003c30% Loads curtailment: \u003c5% Input and output parameters Input parameters\nSolar irradiance Wind speed Ambient temperature Load consumption Breaker state Output parameters\nFrequency State-of-Charge Power of Reserves Test Design The test considers several consecutive imbalances and frequency deviations. This is needed to sufficiently evaluate the capability of the frequency control system to cope with these incidents. It is possible that the initial state of the microgrid grid-connected with the exchange of power with the utility grid. At the beginning of the test the circuit breaker can be opened to isolate the microgrid and cause a disturbance in the power balance.\nInitial system state The circuit breaker at the PCC is open. Alternatively, it can be opened right after the start of the test as a potential disturbance source. The combination of the RES units should provide at least 20% of their nominal power. The consumption of the loads should be at least 20% of the maximum consumption. The battery SOC should be between 40 and 60% The imbalance should be under 5%. Evolution of system state and test signals The microgrid starts in islanded mode or in grid-connected mode. Firstly, the system is sufficiently balanced so that a small number of reserves (ideally zero) are implemented and the frequency is nominal (50Hz). One imbalance emerges which leads to significant frequency deviation and the consequent activation of a large part of reserves. Subsequent disturbances emerge either before or after the restoration of frequency to its nominal value. Other parameters N/A\nTemporal resolution Monitoring quantities should have a maximum sampling time of 0.1s.\nSource of uncertainty Environmental conditions Consumers’ demand Grid parameters variability i.e., resistance/inductance ratio Suspension criteria / Stopping criteria The test should be suspended and restarted if one of the quality attributes described in the TC is not met. Also, suspension may be due to deviation from the desired initial conditions described above.\n","categories":"","description":"Validation of islanded microgrid ability to restore frequency deviations in a stable manner ","excerpt":"Validation of islanded microgrid ability to restore frequency …","ref":"/test-case-repository/docs/erigrid-2.0/tc06/tc6.ts1/","tags":"","title":"Test Specification TC6.TS1"},{"body":"Test Specification Definition ID TC7.TS01\nReference to Test Case TC7\nTitle of Test Validation of the trading coordinator platform to get the internal prices based on the prosumer's received bids.\nTest Rationale As the P2P Trading Coordinator is responsible for receiving the bids from the prosumers and send them back the internal price and is also in charge of managing the trading of energy with the retailer agent, this test seeks to evaluate the algorithm of the pricing module along with the performance of the communication module with the latter and the prosumers.\nSpecific Test System (graphical) Community-based P2P architecture\nP2P Trading Coordinator architecture\nTarget measures Price signal Communication signals between agents Input and output parameters Input parameters\nRetailer’s price Prosumer’s bids Output parameters\nInternal price Test Design Optimise the internal price based on the Prosumer’s bids\nInitial system state Measurement of input parameters Communication established Evolution of system state and test signals Evaluation of the algorithm response up to the calculation of the final internal price\nOther parameters N/A\nTemporal resolution It will depend on the price signal sample, which can be from minutes to hour resolution.\nSource of uncertainty Price value, communication delay\nSuspension criteria / Stopping criteria Detection of abnormal price values, communication failure between agents\n","categories":"","description":"Validation of the trading coordinator platform to get the internal prices based on the prosumer''s received bids.","excerpt":"Validation of the trading coordinator platform to get the internal …","ref":"/test-case-repository/docs/erigrid-2.0/tc07/tc7.ts01/","tags":"","title":"Test Specification TC7.TS01"},{"body":"Test Specification Definition ID TC7.TS02\nReference to Test Case TC7\nTitle of Test Validation that the control signals derived from the decision-making process are feasible to the controllable electrical devices (technical criteria)\nTest Rationale The test is to evaluate the performance of the decision-making process in the Bidding module, which outputs are final energy, price bids, and the control signals for the controllable electrical devices.\nSpecific Test System (graphical) Prosumer architecture\nTarget measures Power on the devices and losses on the network Device status Voltage signal on several nodes Price signal Input and output parameters Input parameters\nWeather data Historical load data Grid frequency Grid voltage Current per phase Internal prices Load parameters Output parameters\nPower setpoints per device Price bids Test Design The test considers several consecutive load and generation variations based on the forecasted modules, as wells as price bidding variations. These are needed to adequately evaluate the capability of the operation and bidding modules to cope with these conditions.\nInitial system state Measurement of input parameters to perform a perfect forecast of RES and demand Measurement of electrical parameters The imbalance should be under 5%. Optimal setpoints to the devices Evolution of system state and test signals Technical constraints (e.g., voltage level, losses, loading, unbalance) are verified as a result of the continuous connection of several controllable electrical devices. Correction of the prosumers' bids based on their power consumption and generation forecast, as well as the fitting parameters of their devices' models Other parameters N/A\nTemporal resolution From several minutes to an hour Source of uncertainty Environmental conditions, consumers’ demand, EVs arrivals, the accuracy of measured signals, communication delay, RES and demand forecasting\nSuspension criteria / Stopping criteria Violation of the technical operating levels of the grid, i.e., voltage, losses, and thermal capacity\nA significant price deviation due to loss of communication\n","categories":"","description":"Validation that the control signals derived from the decision-making process are feasible to the controllable electrical devices (technical criteria)","excerpt":"Validation that the control signals derived from the decision-making …","ref":"/test-case-repository/docs/erigrid-2.0/tc07/tc7.ts02/","tags":"","title":"Test Specification TC7.TS02"},{"body":"Test Specification Definition ID TC8.TS01\nReference to Test Case TC8\nTitle of Test Validation of the performance of a MAS and PV systems in providing grid voltage control functionality\nTest Rationale The test allows us to evaluate the ability of a MAS and PV systems to provide the functionalities of voltage control when the variation of grid voltage happens. How the agents receive measurement signals, communicate with each other, process received signals, and return the output controlling signals should be evaluated. Moreover, the performance of PV systems in responding to the controlling signals imposed by their respective agents should also be taken into account and to what extent they meet the reactive power exchange capability characteristic.\nSpecific Test System (graphical) Target measures Communication signals between agents Active and reactive power outputs of PV inverters Voltage on different nodes Input and output parameters Input parameters:\nPV active and reactive output powers Grid voltage Load consumption Output parameters:\nSignals exchanged between agents PV active and reactive output powers Grid voltage Test Design Vary the PV output power and also load consumption until the voltage deviations at several locations in the studied grid go beyond the permissible ranges\nInitial system state Voltages at all nodes in the grids are closed to 1 p.u.\nEvolution of system state and test signals The voltages on various nodes increase or decrease as a result of the variation of PV production and load consumption\nOther parameters n/a\nTemporal resolution ms to seconds\nSource of uncertainty Accuracy of measuring units Communication delay Suspension criteria / Stopping criteria Detection of abnormal operating conditions, communication failure of MAS\n","categories":"","description":"Validation of the performance of a MAS and PV systems in providing grid voltage control functionality","excerpt":"Validation of the performance of a MAS and PV systems in providing …","ref":"/test-case-repository/docs/erigrid-2.0/tc08/tc8.ts01/","tags":"","title":"Test Specification TC8.TS01"},{"body":"Experiment Specification Definition ID TC8.TS01.ES01\nReference to Test Specification Validation of the performance of a MAS and PV systemsin providing grid voltage control functionality\nTitle of Experiment Pure co-simulation: Validation and evaluation of the voltage control functionality of a MAS-based distributed voltage control system\nResearch Infrastructure CEA/INES (France)\nExperiment Realisation The experiments is realized by performing a co-simulation setup between PowerFactory and Python via OPC server.\nThe MAS is developed and modelled in a Python environment. A realistic LV network with high penetration of PV systems is modelled in PowerFactory and is run in RMS mode. The PV inverter controllers are also embedded in PowerFactory.\nThe control and measured signals that are exchanged between PowerFactory and Python are carried out via OPC server.\nExperiment Setup (concrete lab equipment) The diagram of the co-simulation setup is shown in the figure below\nThe PowerFactory model of PV inverter controller\nAgent structure and its RPC (remote-procedure call) mechanism is presented as the following:\nItem tag names in PowerFactory for communicating with OPC server\nExperimental Design and Justification There are two different types of simulation will be carried out:\nDifferent operating conditions with high PV generation will be generated in order to evaluate the performance of the distributed voltage control and the voltage support capability of the PV systems by regulating their reactive power exchange Different time delay and packet loss will be created to test the signal exchange capability of the agents within the proposed MAS and also their performance under circumstances of lack of input data Precision of equipment and measurement uncertainty OPAL-RT simulation time step: Ts = 5e10-6 s Storage of experiment data Matlab files and csv files\n","categories":"","description":"Pure co-simulation: Validation and evaluation of the voltage control functionality of a MAS-based distributed voltage control system","excerpt":"Pure co-simulation: Validation and evaluation of the voltage control …","ref":"/test-case-repository/docs/erigrid-2.0/tc08/tc8.ts01.es01/","tags":"","title":"Experiment Specification TC8.TS01.ES01"},{"body":"Experiment Specification Definition ID TC8.TS01.ES02\nReference to Test Specification Validation of the performance of PV systems in providing grid voltage control functionality\nTitle of Experiment PHIL test: validation of PV systems functionality of participating in voltage control\nResearch Infrastructure CEA/INES (France)\nExperiment Realisation The experiments require testing PV inverter hardware connected to a grid simulated in a real-time simulator via power amplifiers. Other PV systems and the MAS-based distributed voltage control scheme are also implemented and embedded in the real-time simulator along with the studied grid.\nThe currents of the PV hardware inverters are measured by sensors and sent to the real-time simulator. The control signals generated by the PV inverters’ agents that are simulated in real-time simulators are directed to the PV hardware inverters\nExperiment Setup (concrete lab equipment) The experimental setup is as shown in the figure below.\nOverall, following are the lab equipment included in the experiment:\nOPAL-RT eMegaSim OP5600 (or OP-5700) Desktop for RT-LAB installation 150 kVA grid simulator 3-phase 120V – 690V 0-2500 Hz fundamental/Up to 50 kHz harmonics PHIL simulation 25 kW PV inverter 15 kW DC programmable source for PV emulation 45 kVA out – 15 kVA in Power amplifier Power hub 64 A Sensor I/O cards Experimental Design and Justification Different operating conditions will be applied in order to generate under/over voltage issues within the simulated grid. Consequently, the MAS will react to these voltage violations and therefore generate control signals to the hardware-PV inverter and other simulated ones.\nThe reactive power exchange capability of the PV inverter hardware can be observed and validated by monitoring their reactive power absorption/injection as well as the improvement of voltage levels at their PCCs.\nAnother objective of the experiment is to analyze potential issues that may arise from the dynamics of the PV inverter hardware when they respond to the voltage variation of the grid.\nPrecision of equipment and measurement uncertainty OPAL-RT simulation time step: Ts = 5e10-6 s Packet losses due to the limitation of transmission rate of network cards Sensors and associated ADC Storage of experiment data Matlab files and csv files\n","categories":"","description":"PHIL test: validation of PV systems functionality of participating in voltage control","excerpt":"PHIL test: validation of PV systems functionality of participating in …","ref":"/test-case-repository/docs/erigrid-2.0/tc08/tc8.ts01.es02/","tags":"","title":"Experiment Specification TC8.TS01.ES02"},{"body":"Test Specification Definition ID TC8.TS02\nReference to Test Case TC8\nTitle of Test Verification of the MAS-based distributed voltage control scheme in regulating the grid voltage\nTest Rationale The test is to evaluate the performance of the MAS-based distributed voltage control scheme to maintain the grid voltage within the permissible ranges imposed by the grid regulations under different operating conditions such as high PV production with light loading, low PV production with heavy loading.\nSpecific Test System (graphical) Target measures Voltage deviation PV curtailment Load curtailment Losses Input and output parameters Input parameters\nGrid frequency Grid voltage PV penetration level Solar irradiance Load consumption Output parameters\nGrid voltage deviation PV inverter AC terminal current and voltage (to derive PV active and reactive power outputs) Test Design First, the distributed voltage control algorithm (FuT) is deactivated. PV production and load consumption are varied in order to create unacceptable voltage deviation scenarios. The patterns of PV production, load consumption and grid voltage are recorded. Then, the FuT is activated. Repeat the variation of PV production and load consumption according to those patterns recorded in the first step in order to evaluate the performance of the FuT. Initial system state The percentage of PV penetration is 20% The nominal grid voltage is 400 V The nominal grid frequency is 50 Hz PV systems are operating at most at 50% of their inverter rated powers Load consumption is at 50% of the peak value Communication between agents is established Evolution of system state and test signals Vary the load consumption and PV production according to the daily load curves and solar irradiance. In particular:\nLoad curves: for different types of days, for instance: Working days Weekends Holidays Summer and winter days PV penetration ratios From 20% to 100% Other parameters n/a\nTemporal resolution ms to seconds\nSource of uncertainty Accuracy of measuring units Communication delay Suspension criteria / Stopping criteria Detection of abnormal operating conditions, communication failure of MAS\n","categories":"","description":"Verification of the MAS-based distributed voltage control scheme in regulating the grid voltage","excerpt":"Verification of the MAS-based distributed voltage control scheme in …","ref":"/test-case-repository/docs/erigrid-2.0/tc08/tc8.ts02/","tags":"","title":"Test Specification TC8.TS02"},{"body":"Experiment Specification Definition ID TC8.TS02.ES01\nReference to Test Specification Validation of the performance of PV systems in providing grid voltage control functionality\nTitle of Experiment CHIL: MAS-based distributed voltage control Research Infrastructure CEA/INES (France)\nExperiment Realisation The experiments require testing Raspberry-based MAS communicating to a grid simulated in a real-time simulator via power amplifiers. All PV systems are implemented and embedded in the real-time simulator along with the studied grid.\nExperiment Setup (concrete lab equipment) The experimental setup is as shown in the figure below.\nThe following lab equipment are included in the experiment:\nOPAL-RT eMegaSim OP5600 (or OP-5700) A cluster of Raspberry PI 4 Model B 4GB Ethernet switch Experimental Design and Justification Different operating conditions will be applied in order to generate under/over voltage issues within the simulated grid. Consequently, the MAS will react to these voltage violations, process the measurement input and then communicate with each other to generate appropriate controlling output signals to their corresponding PV inverters simulated inside the real-time simulator.\nThe time delay and packet loss will be also created to test the performance of the proposed MAS and the implemented distributed voltage control under different communication scenarios. The ability of the MAS-based distributed voltage control system with a lack of information has an advantage over the centralized voltage control strategy.\nPrecision of equipment and measurement uncertainty OPAL-RT simulation time step: Ts = 5e10-6 s Packet losses due to the limitation of transmission rate of network cards Storage of experiment data Matlab files and csv files\n","categories":"","description":"CHIL: MAS-based distributed voltage control ","excerpt":"CHIL: MAS-based distributed voltage control ","ref":"/test-case-repository/docs/erigrid-2.0/tc08/tc8.ts02.es01/","tags":"","title":"Experiment Specification TC8.TS02.ES01"},{"body":"Test Specification Definition ID TC9.TS01\nReference to Test Case TC9\nTitle of Test Characterisation of direct method Test Rationale The goal of this Test is to evaluate the performance of a direct congestion management method. The results of the developed congestion forecasting model will be compared to the actual values to assess its accuracy. Afterwards, the efficiency of the method will be evaluated in terms of target metrics specified in the Test Case description.\nSpecific Test System (graphical) The Test System includes a LV (0.4 kV) network with realistic data provided by a local utility company. This network consists of three feeders with various loads and PV systems connected along the feeders.\nTarget measures Voltages, currents of all grid components.\nInput and output parameters Weather conditions (hence DER production), grid topology, household load profiles, controllable generation production\nTest Design Initialize the simulation, achieving a steady state condition; Keep the simulation running with the feeding load and generation profiles in order to create several congestion conditions (peak of load or peak of generation) over the whole simulation run Evaluate the results of the test in terms of transformer loading power, flexibility procured by the DSO, and procurement cost in two cases with and without the congestion management functionality in the DMS controller Reinitialize the simulation and repeat the test with different congestion condition. Initial system state Transformer and feeders loading in permissible ranges.\nEvolution of system state and test signals The evolution of the congestion at the MV/LV transformer is illustrated in the figure below:\nThe evolution of the system state is shown in the figures below:\nSolar profile:\nWind profile:\nOther parameters n/a.\nTemporal resolution 15 minutes\nSource of uncertainty Measurement uncertainty\nSuspension criteria / Stopping criteria Low accuracy of the congestion classification model during the training process, i.e., less than 80%\n","categories":"","description":"Characterisation of direct method ","excerpt":"Characterisation of direct method ","ref":"/test-case-repository/docs/erigrid-2.0/tc09/tc9.ts01/","tags":"","title":"Test Specification TC9.TS01"},{"body":"Experiment Specification Definition ID TC9.TS01.ES01\nReference to Test Specification TC9.TS01\nTitle of Experiment Co-simulation for performance evaluation of direct congestion management method\nResearch Infrastructure CEA\nExperiment Realisation The experiment is realized by performing a co-simulation setup between PowerFactory and Matlab using Mosaik as a master algorithm.\nThe congestion management functionality and all the necessary control functions are modeled in Matlab. A realistic LV network with high penetration of PV systems is implemented in PowerFactory and is run in QuasiDynamic mode.\nExperiment Setup Experimental Design and Justification All the load consumption and PV generations will be varied following different pre-defined profiles to create congestion issues in order to evaluate the performance of the designed congestion management function. Precision of equipment and measurement uncertainty N/a Storage of experiment data hdf5 or csv files ","categories":"","description":"Co-simulation for performance evaluation of direct congestion management method","excerpt":"Co-simulation for performance evaluation of direct congestion …","ref":"/test-case-repository/docs/erigrid-2.0/tc09/tc9.ts01/tc9.ts01.es01/","tags":"","title":"Experiment Specification TC9.TS01.ES01"},{"body":"Test Specification Definition ID TC9.TS02\nReference to Test Case TC9\nTitle of Test Characterisation of indirect method\nTest Rationale The goal of this Test is to evaluate the performance of the indirect method considering the impact of the communication latency and packet losses on a LV grid congestion management.\nSpecific Test System (graphical) The Test System includes a LV (0.4 kV) network with realistic data provided by a local utility company. This network consists of three feeders with various loads and PV systems connected along the feeders.\nIn addition to the above network, a market model is also developed.\nTarget measures Voltages, currents of all grid components and grid services cost.\nInput and output parameters Weather condition (hence DER production), grid topology, household load profiles, controllable generation production\nTest Design Initialize the simulation; achieve a steady state condition; trigger a congestion condition (peak of load or peak of generation); evaluate the response of the DMS controller; reinitialize the simulation and repeat the test with different congestion condition and the baseline.\nInitial system state Transformer and feeders loading in permissible ranges.\nEvolution of system state and test signals The evolution of the congestion at the MV/LV transformer is illustrated in the figure below:\nThe evolution of the system state is shown in the figures below:\nSolar profile:\nWind profile:\nOther parameters n/a.\nTemporal resolution 15 minutes\nSource of uncertainty Measurement uncertainty\nSuspension criteria / Stopping criteria Not converging of the optimization method.\n","categories":"","description":"Characterisation of indirect method","excerpt":"Characterisation of indirect method","ref":"/test-case-repository/docs/erigrid-2.0/tc09/tc9.ts02/","tags":"","title":"Test Specification TC9.TS02"},{"body":"Experiment Specification Definition ID TC9.TS02.ES02\nReference to Test Specification TC9.TS02\nTitle of Experiment Simulation for performance evaluation of indirect congestion management method\nResearch Infrastructure RSE\nExperiment Realisation The experiment is realized by performing a simulation in Matlab. All the necessary control functions are modeled with a script in Matlab. The local services market model is developed in Simulink and a realistic LV network with high penetration of PV systems is implemented in SimPowerSystem using phasor models. All the simulation components are managed by a master algorithm which setup all the experiment configurations (input, models parameters, etc.).\nExperiment Setup The whole experiment is performed in Matlab environment. In particular, the local services market model is developed in Simulink, the LV network model in SimPowerSystem while the control functions of the components are .m file integrated with SimPowerSystem.\nIn order to validate the indirect congestion management, the flexibility provided by the local services market should be enough to avoid grid congestions.\nExperimental Design and Justification All the load consumption and PV generations will be varied following different pre-defined profiles (see TC24.TS02) to create congestion issues in order to evaluate the flexibility provided by the local services market.\nPrecision of equipment and measurement uncertainty Since the experiment is a simulation, this is not available.\nStorage of experiment data All variable states are saved in a .mat file with a time-step of 15 minutes.\n","categories":"","description":"Simulation for performance evaluation of indirect congestion management method","excerpt":"Simulation for performance evaluation of indirect congestion …","ref":"/test-case-repository/docs/erigrid-2.0/tc09/tc9.ts02/tc9.ts02.es02/","tags":"","title":"Experiment Specification TC9.TS02.ES02"},{"body":"Test Specification Definition ID\rTC08.TS01\nReference to Test Case\rTC08\nTitle of Test\rLocal controller responds to service requests from aggregator controller\nTest Rationale\rThis test characterizes district operation of a simple long district heat pipe with heat booster HP and without Booster Heater Controller and Electric Storage Controller active, seeking to demonstrate that the local controllers respond to service requests from the aggregator controller.\nSpecific Test System (graphical)\rThe system under test includes an electrical system, a district heating system and a control system. Each is sketched below.\nThermal system\nThe thermal system is a simplified distribution network which includes a booster heat pump. The heat load is aggregated in two locations.\nElectrical system\nThe electrical system corresponds to a single feeder.\nControl domain coupling\nThe distribution grid management does not form part of the system under test but are taken as exogenous signals.\nTarget measures\rSee Test Design.\nInput and output parameters\rP_PCC: Measured apparent electrical import at the district electrical network point of common coupling [kWe]\rQ_PCC: Measured heat import at the district heating network point of common coupling [kWq]\rP_booster: Measured electrical active power consumption of district booster heater [kWe]\rTest Design\rThe test comprises 24 hours of district operation. During these 24 hours, the heat pump controller is asked to keep the forward temperature of the connected pipe above 70ºC.\nFurther, these services are requested of the Aggregator by the Distribution Grid Management:\nfor 07:00 to 09:00, keep district electrical consumption below P_import_limit kW..\rfor 11:00 to 14:00, keep district electrical consumption above P_export_limit kW.\rfor 17:00 to 19:00, keep district electrical consumption below P_import_limit kW\rwhere these limits are defined as below.\nThe test consists of several runs:\nno service signal sent\rservice signals sent (gamma indicates the level of service requested – lower gamma = more service requested)\rgamma = 1.0\rgamma = 0.95\rgamma = 0.90\rgamma = 0.85\rgamma = 0.80\rBy comparing these runs, whether the controllers respond to service requests can be established.\nFor run 1, set:\nP_import_limit = inf,\rP_export_limit = -inf\rgamma=1.0.\rFor subsequent runs (given the 99% quantile of district electrical import P_i_99 and the 1% quantile of district electrical import, P_i_1), the system is asked to restrict its import relative to the uncontrolled base case:\nP_export_limit= gamma * P_i_1 kWe\rP_import_limit = gamma* P_i_99 kWe,\rInitial system state\reach component is initialized to the state given in the associated dataset\rthe battery state of charge is set to 50% of nomimal energy\rthe district heating system is allowed to relax to a steady state with the heat pump turned off\rEvolution of system state and test signals\rTest signals:\nP_import_limit: District electrical consumption bound requested from battery/EV units [kWe]\rP_export_limit: District electrical export bound requested from heating units [kWe]\rgamma: Scaling factor for district import and export [n.u.]\rOther parameters\rN/A\nTemporal resolution\rThe test is run at a fixed time step of 10 seconds.\nSource of uncertainty\rSince the exact electrical demand signal consists of a deterministic trend and a randomized factor, each “run” above should be repeated 10 times, with the mean and standard deviation of each target metric recorded.\nSuspension criteria / Stopping criteria\rN/A\n","categories":"","description":"Local controller responds to service requests from aggregator controller","excerpt":"Local controller responds to service requests from aggregator …","ref":"/test-case-repository/docs/erigrid-2.0/tc08/tc08.ts01/","tags":"","title":"Test Specification TC08.TS01"},{"body":"Test Specification Definition ID\rTC08.TS02\nReference to Test Case\rTC08\nTitle of Test\rLocal controller responds to service requests from aggregator controller\nTest Rationale\rThis test characterizes district operation with and without Booster Heater Controller and Electric Storage Controller active, seeking to demonstrate that the local controllers respond to service requests from the aggregator controller.\nSpecific Test System (graphical)\rThe system under test includes an electrical system, a district heating system and a control system. Each is sketched below.\nThermal system\nThe block called “Row Houses” consists of multiple small loads which are aggregated into a single, larger load.\nElectrical system\nNote, that only loads which are marked in red are inside the quarter under control. All buses are taken to be P-Q buses, with the grid acting as the slack bus. Rings 3-5 are summarized, as no buses are inside the district.\nControl domain coupling\nThe distribution grid management does not form part of the system under test, but are taken as exogenous signals.\nTarget measures\rSee Test Design.\nInput and output parameters\rP_PCC: Measured apparent electrical import at the district electrical network point of common coupling [kWe]\rQ_PCC: Measured heat import at the district heating network point of common coupling [kWq]\rP_booster: Measured electrical active power consumption of district booster heater [kWe]\rTest Design\rThe test comprises 24 hours of district operation. During these 24 hours, the heat pump controller is asked to keep the forward temperature of the connected pipe above 70ºC.\nFurther, these services are requested of the Aggregator by the Distribution Grid Management:\nfor 07:00 to 09:00, keep district electrical consumption below P_import_limit kW..\rfor 11:00 to 14:00, keep district electrical consumption above P_export_limit kW.\rfor 17:00 to 19:00, keep district electrical consumption below P_import_limit kW\rwhere these limits are defined as below.\nThe test consists of several runs:\nno service signal sent\rservice signals sent\rgamma = 1.0\rgamma = 0.95\rgamma = 0.90\rgamma = 0.85\rgamma = 0.80\rBy comparing these runs, whether the controllers respond to service requests can be established.\nFor run 1, set:\nP_import_limit = inf,\rP_export_limit = -inf\rgamma=1.0.\rFor subsequent runs (given the 99% quantile of district electrical import P_i_99 and the 1% quantile of district electrical import, P_i_1), the system is asked to restrict its import relative to the uncontrolled base case:\nP_export_limit= gamma * P_i_1 kWe\rP_import_limit = gamma* P_i_99 kWe,\rInitial system state\reach component is initialized to the state given in the associated dataset\rthe battery state of charge is set to 50% of nomimal energy\rthe district heating system is allowed to relax to a steady state with the heat pump turned off\rEvolution of system state and test signals\rTest signals:\nP_import_limit: District electrical consumption bound requested from battery/EV units [kWe]\rP_export_limit: District electrical export bound requested from heating units [kWe]\rgamma: Scaling factor for district import and export [n.u.]\rOther parameters\rN/A\nTemporal resolution\rThe test is run at a fixed time step of 10 seconds.\nSource of uncertainty\rSince the exact electrical demand signal consists of a deterministic trend and a randomized factor, each “run” above should be repeated 10 times, with the mean and standard deviation of each target metric recorded.\nSuspension criteria / Stopping criteria\rN/A\n","categories":"","description":"Local controller responds to service requests from aggregator controller","excerpt":"Local controller responds to service requests from aggregator …","ref":"/test-case-repository/docs/erigrid-2.0/tc08/tc08.ts02/","tags":"","title":"Test Specification TC08.TS02"},{"body":"What is it? An easily accessible use-case repository for users with different background, based on the use-case methodology defined in the standard IEC 62559-2:2015.\nSo far, three formats to describe use cases are supported: Excel documents and XML files. The solution is built in a modular way, so support for new use case formats can be added without changing the existing setup. Use case files are uploaded to certain repositories, where some logic will be triggered to process them. Then, the final files are be ready to be displayed in a web-based visualization. Where should I go next? Getting Started: Get started with editing and adding new use-cases BRIDGE: BRIDGE initiative use-cases PlatOne: BRIDGE initiative use-cases ","categories":"","description":"","excerpt":"What is it? An easily accessible use-case repository for users with …","ref":"/test-case-repository/overview/","tags":"","title":"Overview"},{"body":"Get access If you do not have a GitHub account already, please sign up at GitHub.\nThere are two ways to contribute to the use case repository:\nrequesting direct write access to the repository (beginner friendly) creating a fork of the repo and sending a pull request (advanced) Requesting direct write access Write a mail to the repository manager (smartgridusecases@gmail.com) and indicate your github account name as well as the type of use cases that you would like to contribute:\nExcel XML MarkDown We will give you write access to the repository. Please check your inbox for an invitation link to the repository.\nPull request The advantage of this method is that you do not need to request access prior to creating / editing use cases.\nCreate a fork of a repository depending on the type of use case, by clicking the button in the top right corner:\nExcel (https://github.com/smart-grid-use-cases/excel2xml-input) XML (https://github.com/smart-grid-use-cases/xml2md-input) MarkDown (https://github.com/smart-grid-use-cases/github-pages) Then, apply your changes and send us a new pull request.\nUpload Your Use Case File Currently, we support three different input formats:\nExcel XML Markdown Excel First, you can download an Excel template file to prepare your use case.\nThen, sign in at github and follow this link.\nCurrently, every research project has its own folder. New use cases can be added to the folders by dropping the Excel files in the browser windows when you are in the associated project folder. If there are use case diagrams associated to the Excel file, please drop them in the same folder as the Excel file and insert the image names in the URI field in Excel.\nTo create new folders, the easiest way is to create the folder including a new Excel use case on your local computer first. Then, you can drop this folder including the Excel file into the browser window.\nInstead of directly dropping files in the browser window, you can also click “Add file” and then “Upload files”.\nDrag your Excel file into the browser.\nIf you like, you can leave a message to describe your change (optional).\nFinally, click “commit changes”.\nXML To upload XML files, sign in at github and follow this link.\nThen, you can upload the file as described for Excel use-case files.\nYou can also edit use cases directly in your browser. Just click on a use case and after that the pen icon in the top right. After editing the document, you need to commit your changes in the bottom of the page.\nMarkdown To upload Markdown files, sign in at github and follow this link.\nThen, you can upload the file as described for Excel use-case files.\nYou can also edit use cases directly in your browser. Just click on a use case and after that the pen icon in the top right. After editing the document, you need to commit your changes in the bottom of the page.\nCheck the Website Go to the Use Case section of the website.\nProcessing the changes may take some minutes.\nYou can also add diagrams if you upload them in a common image format, e.g. .png.\n","categories":"","description":"","excerpt":"Get access If you do not have a GitHub account already, please sign up …","ref":"/test-case-repository/getting-started/","tags":"","title":"Getting Started"},{"body":"","categories":"","description":"","excerpt":"","ref":"/test-case-repository/docs/erigrid-2.0/","tags":"","title":"ERIGrid 2.0"},{"body":"Document History Document History\rDate\rVersion\rDescription\rAuthor\r2023-04-03\n0.1\nfirst draft\nEdmund Widl (AIT)\n2024-01-25\n0.2\nAdded identification\nFilip Pröstl Andrén (AIT)\nControl Function Identification Control Function Identification\rControl Function ID\rName\rMENB-CF-PID\nPID controller for the hydraulic pump\nFunctional Description Functional Description\rBackground:\nSystem configuration MENB-SC includes a heat pump. A hydraulic pump controls the mass flow in the heat pump’s condenser loop, where cold water is drawn from the bottom of a storage tank, heated up in the heat pump’s condenser and fed back at the top of the tank.\nProblem formulation:\nThe operation of the heat pump is limited by a power consumption setpoint (coming from a voltage controller). The controller specified in this document regulates the mass flow rate through the heat pump’s condenser loop via the hydraulic pump such that this power consumption setpoint is met. Terminology Terminology\rPID controller\nA proportional-integral-derivative (PID) controller is a control loop mechanism employing feedback that is widely used in applications requiring continuously modulated control. A PID controller continuously calculates an error value e(t) as the difference between a desired setpoint (SP) and a measured process variable (PV) and applies a correction based on proportional, integral, and derivative terms (denoted P, I, and D respectively).\nMethodology Methodology\rThis control function implements a .\nLimitations Limitations\rN/A\nInputs meas_hp_p_el Control Function Input\rName\rmeas_hp_p_el\nType (according to SC description)\rMeasureConnection\nUnit\rkWel\nRange\r[0, 100]\nExpected update rate\r1 Hz\nDescription\rmeasurement of electrical power consumption of heat pump setpoint_hp_p_el Control Function Input\rName\rsetpoint_hp_p_el\nType (according to SC description)\rCtrlConnection\nUnit\rMWel\nRange\r[0, 0.15]\nExpected update rate\revery 5 min\nDescription\rsetpoint for power consumption of heat pump from voltage controller\nOutputs setpoint_cond_mflow Control Function Output\rName\rsetpoint_cond_mflow\nType (according to SC description)\rCtrlConnection\nUnit\rkg/s\nRange\r[0, 10]\nExpected update rate\r1 Hz\nDescription\rsetpoint for heat pump condenser mass flow\nUse Cases Heat pump operation Use Case Example\rHeat pump operation\rDate created\r2023-04-03\nActor\rPID controller\rhydraulic pump\rheat pump\rDescription\rThe mass flow through the heat pump’s condenser loop is determined by the operation of the hydraulic pump. With the help of a PID controller (see Figure 1) the mass flow of the hydraulic pump is regulated.\nPreconditions\rThe power consumption setpoint for the heat pump is not zero.\nPostconditions\rN/A\nPriority\rmedium\nFrequency of use\r1 Hz\nNormal course\rThe mass flow through the hydraulic pump is regulated using the heat pump’s power consumption as process variable and a setpoint (see Figure 1).\nPID controller parameters:\nKp = 1e-4\rTi = 10 s\rTd = 10 s\rAlternative course\rIn case the power consumption setpoint of the heat pump is set to zero, the hydraulic pump is switched off. The PID output is then set to zero, resulting in zero mass flow rate.\nExceptions\rN/A\nAssumptions\rN/A\nNotes and issues\rN/A\nDiagrams Diagrams\rSchematic view of the control setup\rFigure : PID control setup for regulating the heat pump’s power consumption.\nAlgorithms Algorithms\rController algorithm\rN/A Deterministic Functions Deterministic Functions\rError value:\ne(t)=meas_hp_p_el(t)-setpoint_hp_p_el(t)\nControl variable:\nsetpoint_cond_mflow (t)=Kp[e(t)+1/Ti∫0te(τ)dτ +Tdde(t)dt]\nStochastic Functions Stochastic Functions\rN/A\nDeployment Deployment\rA state-of-the-art pneumatic PID controller device is used for the deployment (see Figure 2).\nFigure : PID controller device (source: Wikipedia)\nReferences References\rN/A\n","categories":"","description":"PID controller for the hydraulic pump","excerpt":"PID controller for the hydraulic pump","ref":"/test-case-repository/docs/erigrid-2.0/tc08/menb-cf-pid/","tags":"","title":"Control Function MENB-CF-PID"},{"body":"Document History Document History\rDate\rVersion\rDescription\rAuthor\r2021-05-13\n0.1\nfirst draft\nEvangelos Rikos (CRES)\n2021-05-18\n0.2\nupdate of diagrams and control concept based on discussion with partners\nEvangelos Rikos (CRES)\n2021-11-02\n1.0\nupdate controller specification to represent the final implemented benchmark setup\nEdmund Widl (AIT)\n2024-25-01\n1.1\nAdded identification\nFilip Pröstl Andrén (AIT)\nControl Function Identification Control Function Identification\rControl Function ID\rName\rMENB-CF-VC\nVoltage controller for the multi-energy network benchmark\nFunctional Description Functional Description\rBackground:\nSystem configuration MENB-SC specifies an electrical network, including a voltage controller, see Figure 1. The system comprises two PV systems, two (aggregated) electricity consumers, a heat pump and a simplified electrical distribution network consisting of two lines and two buses. The distribution grid is connected to the external electrical grid (equivalent voltage source).\nThis specific setup is typical for a local energy community (specifically a renewable local energy community) and, as such, allows to address the issue of exploiting the local PV generation in a way that avoids injection of extra energy to the upstream network (self-consumption). In order for an energy community to be autonomous, the size of the PV systems is such that at times high power generation may occur. However, high power generation from the PVs with no corresponding high consumption on the consumer side can lead to a significant voltage rise in parts of the grid (e.g., busbar bus_1). Therefore, synchronization of consumption with generation is necessary to ensure the power quality and avoid any disruption due to overvoltage limit violations.\nFigure : Electrical sub-system including the voltage controller\nProblem formulation:\nThe voltage controller specified in this document is intended to prevent overvoltages at busbar bus_1 due to high PV generation and simultaneous low power consumption by governing the operation of the heat pump accordingly. In the same way, it should prevent undervoltages due to increased power consumption and reduced PV generation.\nController scope:\nIn this context, the scope of this controller is to monitor the voltage at busbar bus_1 and increase or decrease the power consumption of the heat pump (controllable/flexible load) in order to keep the voltage within an allowed range.\nTerminology Terminology\rLocal energy community\nLocal energy communities (LEC) are a way to organize collective energy actions around open, democratic participation and governance and the provision of benefits for the members or the local community (Roberts et al., 2019).\nRenewable local energy community\nA special type of LEC that incorporate renewable energy sources, renewable local energy communities can be active in all energy sectors and involve activities in production, consumption and selling of renewable energy.\nFlexible load\nA load that has the capability of adjusting its consumption based on specific optimality criteria and/or control signals.\nMethodology Methodology\rThe rationale of the applied control methodology is based on the droop control approach used for distributed energy resources (DER) to support voltage variations (see also Figure 2):\nThe voltage at busbar bus_1 is periodically monitored (with a time resolution depending on the simulation setup, see test specification MENB-TS01).\rThe measured value of the bus voltage is compared to (subtracted from) the reference value (nominal voltage) to determine the deviation (error).\rIn case the measured voltage is within the allowed voltage range, no action is taken by the controller. Otherwise, in case the voltage error exceeds the allowed voltage range, a new setpoint for the heat pump’s power consumption is calculated to compensate for the deviation (see Figure 2 and definition of applied algorithm below).\rLimitations Limitations\rHeat pump consumption\nA major limitation in the operation of this control scheme is the maximum/minimum power that the heat pump can consume. In several cases of implementing the droop control technique it is possible that the required setpoint violates the operating limits of the controlled component. Therefore, in the selected implementation two limitations are considered:\nThe controller cannot request a power consumption from the heat pump above a certain limit (electrical power rating of compressor), regardless of the network condition. The controller cannot request a power consumption from the pump below a certain limit (minimal electrical power consumption for operating the compressor). However, the controller can request the heat pump to be switched off (set setpoint to 0).\rOperation veto\nThe control signals must not result in an actuation pattern that switches the heat pump on and off in rapid succession. Therefore, after switching the heat pump on, the voltage controller must not switch off the heat pump for a certain amount of time, regardless of the network conditions. Vice versa for switching the heat pump off. This is referred to as operation veto.\nTime resolution\nAnother important limitation is the time resolution selected for the simulation and, consequently, the control loop. In an actual system, voltage variations may take place at very small time scales (\u003c1s). In this case, however, slow (quasi-static) variations will be considered (i.e., in the order of minutes). Essentially, the specified voltage controller can be regarded as a tertiary voltage control scheme dealing with the slow (long-term) variations rather than the short-term dynamics.\nOutput signal granularity\nThe granularity of the output signal may be a limitation in view of the precision of the voltage control. The use of a discretization function leads to an approximation of the optimal value that would be required at every time instance. To ensure sufficient granularity, the right amount of discretization steps must be selected in advance, depending on the maximum power range of the heat pump. However, since this control scheme aims to contain voltage deviations and not to precisely compensate them, fine granularity is not crucial. Response dynamics\nA limitation factor can potentially be the time response of the heat pump after the setpoint changes. However, since a quasi-dynamic approach is assumed, the fast dynamics of the network voltage are neglected.\nInputs meas_voltage_pu Control Function Input\rName\rmeas_voltage_pu\nType\r(according to SC description)\rMeasureConnection\nUnit\rp.u.\nRange\r[0.8, 1.2]\nExpected update rate\r1-15 min (simulation step size)\nDescription\rvoltage at busbar bus_1 as measured by the voltage sensor (RMS voltage transducer)\nOutputs setpoint_hp_p_el Control Function Output\rName\rsetpoint_hp_p_el\nType\r(according to SC description)\rCtrlConnection\nUnit\rMWel\nRange\r[0, 0.1]\nExpected update rate\r1-15 min (simulation step size)\nDescription\rproposed heat pump setpoint for electrical consumption, sent to flex heat controller\nUse Cases Voltage support at distribution grid substation Use Case Example\rVoltage support at distribution grid substation\rDate created\r2021-05-13\nActor\rvoltage sensor (RMS voltage transducer) at busbar bus_1\rflex heat controller (controls the heat pump operation)\rheat pump\rDescription\rThe voltage controller modifies the setpoint of the heat pump’s active power consumption to contain/reduce the voltage deviation at busbar bus_1.\nPreconditions\rSetpoint for heat pump power consumption is within operational limits and there is no operational veto pending.\nPostconditions\rThe bus voltage is kept within the limits of operation.\nPriority\rmedium\nFrequency of use\rperiodically (according to simulation step size)\nNormal course\rThe controller measures the voltage deviation. If the deviation is within the allowed voltage range, no action is taken.\nAlternative course\rThe controller measures the voltage deviation. If the deviation is not within the allowed voltage range, a new setpoint is calculated and sent to the flex heat controller. The flex heat controller takes this setpoint into consideration when actuating the hydraulic pump in the heat pump’s condenser loop.\nExceptions\rN/A\nAssumptions\rN/A\nNotes and issues\rN/A\nDiagrams Diagrams\rSchematic view of the voltage control algorithm\rFigure : Schematic view of the voltage control algorithm\nAlgorithms Algorithms\rVoltage controller algorithm\rBEGIN ALGORITHM (voltage controller)\rDETERMINE operation veto still pending\rIF operation veto pending THEN\rEXIT ALGORITHM (voltage controller)\rEND IF\rREAD meas_voltage_pu // get latest voltage measurement\rREAD setpoint_hp_p_el // get latest value for setpoint\r// lower voltage band threshold depends on heat pump status\rIF heat pump is switched off THEN\rSET delta_vm_lower_pu = delta_vm_lower_pu_hp_off\rELSE\rSET delta_vm_lower_pu = delta_vm_lower_pu_hp_on\rEND IF\rCOMPUTE delta_v_meas_pu = meas_voltage_pu - 1\rIF delta_vm_lower_pu \u003c delta_v_meas_pu \u003c delta_vm_upper_pu THEN\rIF heat pump is switched off AND NOT operation veto pending THEN\rSET setpoint_hp_p_el = hp_p_el_mw_min\rSET operation veto to pending\rEND IF\rELSE\r// update setpoint\rCOMPUTE res = k_p * (delta_v_meas_pu - delta_vm_deadband) / hp_p_el_mw_step\rCOMPUTE step_res = int(res)\rIF fabs(res - step_res) \u003e hp_p_el_mw_step THEN\rSET setpoint_hp_p_el = setpoint_hp_p_el + hp_p_el_mw_step * (step_res + 1)\rEND IF\r// check operational constraints\rIF new setpoint above max. heat pump consumption THEN\rSET setpoint_hp_p_el = hp_p_el_mw_rated\rELSE IF new setpoint below min. heat pump consumption AND \\\rNOT no operation veto pending THEN\rSET setpoint_hp_p_el = 0\rSET operation veto to pending\rELSE IF new setpoint below min. heat pump consumption AND operation veto pending THEN\rSET setpoint_hp_p_el = hp_p_el_mw_min\rEND IF\rEND IF\rEND ALGORITHM (voltage controller) Deterministic Functions Deterministic Functions\rN/A\nStochastic Functions Stochastic Functions\rN/A\nDeployment (optional) Deployment (optional)\rN/A\nReferences References\r[1] J. Rocabert, A. Luna, F. Blaabjerg, and P. Rodriguez, “Control of Power Converters in AC Microgrids”, IEEE Trans. Power Electron., vol. 27, no. 11, pp. 4734-4749. Nov. 2012.\n","categories":"","description":"Voltage controller for the multi-energy network benchmark","excerpt":"Voltage controller for the multi-energy network benchmark","ref":"/test-case-repository/docs/erigrid-2.0/tc12/menb-cf-vc/","tags":"","title":"Control Function MENB-CF-VC"},{"body":"Document History Document History\rDate\rVersion\rDescription\rAuthor\r2021-03-23\n0.1\nFirst draft version\nEdmund Widl (AIT)\n2021-05-17\n0.2\nAdd quasi-static thermal network system configuration\nChristopher Wild (DTU)\n2021-09-01\n0.3\nAdd additional information for the electric network configuration\nTran The Hoang (CEA)\n2021-11-19\n1.0\nUpdate system configuration to the final implemented benchmark setup\nEdmund Widl (AIT)\n2022-11-11\n1.1\nAdapt to ERIGrid 2.0 SC template:\nfocus on testing / simulation\rmake template parseable\rimproved SBD\rEdmund Widl (AIT)\nSystem Configuration Identification System Configuration Identification\rSystem configuration ID [ID]\rName\rMENB-SC\nSystem configuration for the multi-energy network benchmark Short Description of Context Short Description of Context\rContext description\rThe system configuration described in this document has been developed as part of a reference setup for multi-domain energy network simulations. This reference setup intends to inspire the use of co-simulation for the assessment of multi-energy systems.\nThe level of detail was chosen in a way that allows to apply different modelling approaches for the individual subsystems. For instance, the thermal network could be implemented either in a quasi-static model (series of equilibrium states) or a dynamic model (hydraulic transients).\nThe system configuration resembles part of the sub-urban area of a typical Central European city. The climate is typical for Central Europe with its moderately warm summers and cold winters. Solar irradiation ranges between 800 and 1200 kWh/m². Ambient ground temperature is constant at 8°C.\nKey figures\relectrical network: 2 consecutive lines (0.3 km each), connected to external grid\rthermal network: 3 main consecutive pipes (supply and return, 0.5 km each), connected to external grid\rpower-to-heat facility: 1 heat pump (max. 100 kWel) connected to a thermal tank (100 m3) feeding into the thermal network\rconsumption: 2 consumers, each representing the aggregated loads (electrical and thermal) of an urban quarter and connected to both networks\rgeneration: 2 PV systems (one of 150 kWel, peak and one of 50 kWel, peak)\rKeywords\rlocal consumption of high PV generation\rdecentralized heat generation\rheat pumps\rcoupled heat and electric networks\rOntology / namespace (optional)\rN/A\nSystem Breakdown Diagram System Breakdown Diagram\rGraphical Representation of System Configuration Graphical Representation of System Configuration\rOverview\rElectrical Grid (detailed view)\rThermal grid (detailed view):\rTerminal Description Terminal Description\rName\rType ID\rType of exchange\rConnected component classes\rComment\rHeat connector\nHeat-Connection\nheat flow (water mass flow)\nExternalElectricGrid, Line, Busbar, Load, PVSystem, HeatPump\nconnects components of the thermal network\nElectric power connector\nElectric-Connection\nelectric power flow (electric current)\nExternalThermalGrid, Pipe, Junction, Bypass, HeatExchanger, Tank, HeatPump, Pump\nconnects components of the electrical network\nMeasurement connector\nMeasure-Connection\nmeasurement exchange (communicationsignal) Bus, Tank, HeatPump, VoltageController, FlexHeatController\nconnects sensors with controllers via a communication link\nControl connector\nCtrl-Connection\ncontrol signal exchange (communicationsignal)\nPump, HeatPump, VoltageController, FlexHeatController\nconnects controllers with actuators via a communication link\nComponent descriptions ElectricNetwork Component description\rTag in SBD\r1\nLevel in SBD\r1\nClass ID\rElectricNetwork\nParent class\r-\nContained in\rMENB-SC\nDescription\rThis element represents an electric distribution network. It contains interconnected components with the purpose of delivering electricity to the consumers.\nNumber of components in SC\r1\nAttributes\rFunctionality\rThe electrical network’s actual functionality is determined by its components. This class serves as logical unit containing these components and has itself no functionality.\nPhysical characteristics\r-\nTerminals\rTerminal ID\rType ID\rDescription\r-\n-\n-\nInstances\rInstance ID\rInstance parameterization\rel_net\n-\nExternalElectricGrid Component description\rTag in SBD\r1.1\nLevel in SBD\r2\nClass ID\rExternalElectricGrid\nParent class\r-\nContained in\rel_net\nDescription\rThis element represents a connection to an external electrical grid supplying the local electrical distribution network.\nNumber of components in SC\r1\nAttributes\rFunctionality\rThe external grid controls the voltage and the phase angle of the busbar to which it is connected.\nPhysical characteristics\rf (float) - Nominal frequency [Hz]\rvn (float) - Nominal voltage [kV]\rTerminals\rTerminal ID\rType ID\rDescription\rplug_ext\nElectricConnection\nconnection point of the electrical distribution network to the external grid\nInstances\rInstance ID\rInstance parameterization\rext_el_grid\nf [Hz]: 220\rvn [kV]: 0.4\rLine Component description\rTag in SBD\r1.2\nLevel in SBD\r2\nClass ID\rLine\nParent class\r-\nContained in\rel_net\nDescription\rThis element represents a power line of an electrical distribution network.\nNumber of components in SC\r2\nAttributes\rFunctionality\rThe power lines transport electricity between the busbars of an electrical network.\nPhysical characteristics\rl (float): line length [km]\rr (float): resistance [Ω/km] x (float): reactance [Ω/km]\rc (float): capacitance [nF/km]\rmax_i (float): rated current [kA]\rTerminals\rTerminal ID\rType ID\rDescription\rplug_line_a\nElectricConnection\nconnection to a bus of the electrical distribution network on one side of the power line\nplug_line_b\nElectricConnection\nconnection to a bus of the electrical distribution network on other side of the power line\nInstances\rInstance ID\rInstance parameterization\rline_1\nl [km]: 0.3\rr [Ω/km]: 0.306\rx [Ω/km]: 0.29\rc [nF/km]: 13.2\rmax_i [kA]: 0.35\rline_2\nl [km]: 0.3\rr [Ω/km]: 0.306\rx [Ω/km]: 0.29\rc [nF/km]: 13.2\rmax_i [kA]: 0.35\rBusbar Component description\rTag in SBD\r1.3\nLevel in SBD\r2\nClass ID\rBusbar\nParent class\r-\nContained in\rel_net\nDescription\rThis element represents an electrical busbar used in substations for local power distribution.\nNumber of components in SC\r2\nAttributes\rFunctionality\rThe electrical busbars connect the components of the electrical network (lines, loads, PV systems).\nPhysical characteristics\rvn (float) - nominal voltage [kV]\rTerminals\rTerminal ID\rType ID\rDescription\rplug_bus\nElectricConnection\nconnection point to other components (lines, loads, PV systems) of the electrical distribution network\nmeas_voltage_pu\nMeasureConnection\nvoltage measurement (for the voltage controller) [p.u.]\nInstances\rInstance ID\rInstance parameterization\rbus_1\nvn [kV]: 0.4\rbus_2\nvn [kV]: 0.4\rLoad Component description\rTag in SBD\r1.4\nLevel in SBD\r2\nClass ID\rLoad\nParent class\r-\nContained in\rel_net\nDescription\rThis element represents a component of the electrical network that consumes (active) electric power.\nNumber of components in SC\r3\nAttributes\rFunctionality\rEach load represents an aggregation of the (active) power consumption of several consumers (e.g., households connected to an LV feeder).\nPhysical characteristics\rvn (float): nominal voltage [kV]\rp (float): nominal active power consumption [kW]\rTerminals\rTerminal ID\rType ID\rDescription\rplug_load\nElectricConnection\nconnection to a bus of the electrical distribution network through which power is consumed\nInstances\rInstance ID\rInstance parameterization\rload_1\nvn [kV]: 0.4\rp [kW]: 120\rload_2\nvn [kV]: 0.4 p [kW]: 45\rPVSystem Component description\rTag in SBD\r1.5\nLevel in SBD\r2\nClass ID\rPVSystem\nParent class\r-\nContained in\rel_net\nDescription\rThis element represents a PV system comprising several PV panels.\nNumber of components in SC\r2\nAttributes\rFunctionality\rThe PV systems generates electrical power and supplies it to the electrical distribution network via a busbar connection. Its generation profile is independent of the network conditions.\nPhysical characteristics\rP_peak (float): peak production [kW]\rTerminals\rTerminal ID\rType ID\rDescription\rplug_pv\nElectricConnection\nconnection to a bus of the electrical distribution network through which the generated power is delivered to the electrical network\nInstances\rInstance ID\rInstance parameterization\rpv_1\nP_peak [kW]: 150\rpv_2\nP_peak [kW]: 50\rThermalNetwork Component description\rTag in SBD\r2\nLevel in SBD\r1\nClass ID\rThermalNetwork\nParent class\r-\nContained in\rMENB-SC\nDescription\rThis element represents the thermal network that delivers a mass flow of hot water to satisfy the heat demand of the connected consumers.\nNumber of components in SC\r1\nAttributes\rFunctionality\rThe thermal network’s actual functionality is mostly determined by its components. This class serves as logical unit containing these components and has itself no functionality.\nPhysical characteristics\r-\nTerminals\rTerminal ID\rType ID\rDescription\r-\n-\n-\nInstances\rInstance ID\rInstance parameterization\rth_net\n-\nExternalThermalGrid Component description\rTag in SBD\r2.1\nLevel in SBD\r2\nClass ID\rExternalThermalGrid\nParent class\r-\nContained in\rth_net\nDescription\rThis element represents a connection to an external higher-level thermal network supplying the local thermal network.\nNumber of components in SC\r1\nAttributes\rFunctionality\rThe external thermal network acts as a pressure source with a prescribed supply temperature. It is considered an ideal heating unit without any constraints regarding mass flow or ramp rates.\nPhysical characteristics\rp_ext (float): pressure of the external thermal network [bar]\rT_supply_ext (float): nominal supply temperature [°C]\rTerminals\rTerminal ID\rType ID\rDescription\rflange_supply\nHeatConnection\nsupply line connection to external thermal grid\nflange_return\nHeatConnection\nreturn line connection to external thermal grid\nInstances\rInstance ID\rInstance parameterization\rext_th_grid\np_ext [bar]: 6\rT_supply_ext [°C]: 75\rPipe Component description\rTag in SBD\r2.2\nLevel in SBD\r2\nClass ID\rPipe\nParent class\r-\nContained in\rth_net\nDescription\rThis element represents a straight pipe with constant cross section used to transport water within the thermal network.\nNumber of components in SC\r14 (7x supply, 7x return)\nAttributes\rFunctionality\rDetermines the transport effects (pressure drop, flow delays, etc.) for a mass flow based on hydraulic principles. Depending on the insulation of the pipe and the surrounding temperature, the temperature of the water transported through the pipe changes. Physical characteristics\rl (float): pipe length [km]\rd (float): pipe diameter [m]\ralpha (float): heat transfer coefficient [Wm-2K-1]\rk (float): roughness of pipe material [mm]\rTerminals\rTerminal ID\rType ID\rDescription\rflange_a\nHeatConnection\nconnection to another component of the thermal network on one side of the pipe\nflange_b\nHeatConnection\nconnection to another component of the thermal network on other side of the pipe\nInstances\rInstance ID\rInstance parameterization\rpipe_1_supply\nl [km]: 0.5\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_1_return\nl [km]: 0.5\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_2_supply\nl [km]: 0.5\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_2_return\nl [km]: 0.5\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_4_supply\nl [km]: 0.5\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_4_return\nl [km]: 0.5\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_tank_supply\nl [km]: 0.01\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_tank_return\nl [km]: 0.01\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_3_supply\nl [km]: 0.01\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_3_return\nl [km]: 0.01\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_5_supply\nl [km]: 0.01\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_5_return\nl [km]: 0.01\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_6_supply\nl [km]: 0.01\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rpipe_6_return\nl [km]: 0.01\rd [m]: 0.1\ralpha [Wm-2K-1]: 1.5\rk [mm]: 0.01\rJunction Component description\rTag in SBD\r2.3\nLevel in SBD\r2\nClass ID\rJunction\nParent class\r-\nContained in\rth_net\nDescription\rThis element represents a tee junction for connecting three pipes.\nNumber of components in SC\r6\nAttributes\rFunctionality\rUsed either for splitting the mass flow from a single pipe into separate mass flows of two pipes of or joining mass flows from two separate pipes into a single mass flow for one pipe. Splitting/joining follows basic hydraulic rules (e.g., mass conservation).\nPhysical characteristics\r-\nTerminals\rTerminal ID\rType ID\rDescription\rflange_1\nHeatConnection\nconnection to pipe 1\nflange_2\nHeatConnection\nconnection to pipe 2\nflange_3\nHeatConnection\nconnection to pipe 3\nInstances\rInstance ID\rInstance parameterization\rjunction_1_supply\n(branch-off from supply line to consumers)\njunction_2_supply\n(branch-off from supply line to consumers)\njunction_1_return\nbranch-off from return line to consumers\njunction_2_return\nbranch-off from return line to consumers\njunction_tank_supply\nbranch-off from supply line to tank\njunction_tank_return\nbranch-off from return line to tank\nHeatExchanger Component description\rTag in SBD\r2.4\nLevel in SBD\r2\nClass ID\rHeatExchanger\nParent class\r-\nContained in\rth_net\nDescription\rThis element represents a heat exchanger acting as an aggregated heat consumer in the thermal network.\nNumber of components in SC\r2\nAttributes\rFunctionality\rThe heat exchanger is fed with hot water from the thermal network’s supply line. The mass flow through the heat exchanger is adjusted to reach a pre-defined return temperature, depending on the current heat demand from the aggregated consumer.\nPhysical characteristics\rT_return_target (float): set-point for return temperature [°C]\nTerminals\rTerminal ID\rType ID\rDescription\rflange_supply\nHeatConnection\ninlet of heat exchanger from supply line\nflange_return\nHeatConnection\noutlet of heat exchanger to return line\nInstances\rInstance ID\rInstance parameterization\rhex_1\nT_return_target [°C]: 40\rhex_2\nT_return_target [°C]: 40\rBypass Component description\rTag in SBD\r2.5\nLevel in SBD\r2\nClass ID\rBypass\nParent class\r-\nContained in\rth_net\nDescription\rThis element represents the bypass of the thermal network.\nNumber of components in SC\r1\nAttributes\rFunctionality\rIdeal valve that allows to regulate the water mass flow from the supply line to the return line independently of the consumers.\nPhysical characteristics\r-\nTerminals\rTerminal ID\rType ID\rDescription\rflange_supply\nHeatConnection\ninlet of bypass from supply line\nflange_return\nHeatConnection\noutlet of bypass to return line\nInstances\rInstance ID\rInstance parameterization\rbypass\n-\nPowerToHeatFacility Component description\rTag in SBD\r3\nLevel in SBD\r1\nClass ID\rPowerToHeatFacility\nParent class\r-\nContained in\rMENB-SC\nDescription\rThis element represents a power-to-heat facility comprising a heat pump connected to a thermal tank, which feeds into the thermal network’s supply line to support its operation. By consuming local excess PV generation, the power-to-heat facility can be used at the same time to improve the stability of the electrical network and support the supply of the thermal network. Its components are actuated by the flex heat controller.\nNumber of components in SC\r1\nAttributes\rFunctionality\rThe power-to-heat facility’s actual functionality is determined by its components. This class serves as logical unit containing these components and has itself no functionality.\nPhysical characteristics\r-\nTerminals\rTerminal ID\rType ID\rDescription\r-\n-\n-\nInstances\rInstance ID\rInstance parameterization\rp2h\n-\nHeatPump Component description\rTag in SBD\r3.1\nLevel in SBD\r2\nClass ID\rHeatPump\nParent class\r-\nContained in\rp2h\nDescription\rThis element represents a heat pump with constant condenser output temperature.\nNumber of components in SC\r1\nAttributes\rFunctionality\rThe source for the evaporator is the thermal network’s return line. The condenser’s output is fed to the thermal storage tank.\nPhysical characteristics\rP_rated_max (float): electrical power rating of compressor [kWel]\rP_rated_min (float): minimal electrical power consumption for operating the compressor [kWel]\rP_0 (float): electrical stand-by power consumption [kWel]\rT_evap_min (float): minimal evaporator outlet temperature [°C]\rT_cond_max (float): maximum condenser outlet temperature [°C]\rT_cond_target (float): condenser outlet temperature setpoint [°C]\reta_sys (float): ratio between work provided by the pump and available thermodynamic work [-]\reta_comp (float): compressor efficiency [-]\rlambda_comp (float): compressor time constant [s-1]\rTerminals\rTerminal ID\rType ID\rDescription\rplug_load\nElectricConnection\nconnection to a bus of the electrical distribution network through which power is consumed\nflange_evap_in\nHeatConnection\ninlet of heat pump evaporator from return line\nflange_evap_out\nHeatConnection\noutlet of heat pump evaporator to return line\nflange_cond_in\nHeatConnection\ninlet of heat pump condenser from tank\nflange_cond_out\nHeatConnection\noutlet of heat pump condenser to tank\nmeas_p_el\nMeasureConnection\nmeasurement of electrical power consumption (for flex heat controller) [kWel]\nInstances\rInstance ID\rInstance parameterization\rhp\nP_rated [kWel]: 100\rP_0 [kWel]: 0.3\rT_evap_min [°C]: 20\rT_cond_max [°C]: 85\rT_cond_target [°C]: 75\reta_sys [-]: 0.5\reta_comp [-]: 0.7\rlambda_comp [s-1]: 0.2\rTank Component description\rTag in SBD\r3.2\nLevel in SBD\r2\nClass ID\rTank\nParent class\r-\nContained in\rp2h\nDescription\rThis element represents a stratified hot water storage tank.\nNumber of components in SC\r1\nAttributes\rFunctionality\rThe tank has two hydraulic loops (also see pumps below):\ncold water is drawn from the bottom of the tank, heated up by the heat pump and fed back at the top of the tank\rhot water is drawn from the top of the tank and fed to the heating network’s supply line; simultaneously an equal amount of cold water is drawn from the heating network’s return line to refill the tank\rPhysical characteristics\rV (float): tank volume [m3]\rh (float): height of tank (without insulation) [m]\rd (float): thickness of insulation [m]\rk (float): specific heat conductivity of insulation [Wm-1K-1]\rN (int): number of volume segments [-]\rTerminals\rTerminal ID\rType ID\rDescription\rflange_tank_supply\nHeatConnection\nhot water outlet of tank to supply line\nflange_tank_return\nHeatConnection\ncold water inlet from return line to tank\nflange_hp_out\nHeatConnection\ncold water outlet from tank to heat pump condenser\nflange_hp_in\nHeatConnection\nhot water inlet from heat pump condenser to tank\nmeas_temp\nMeasureConnection\ntank temperature measurement (for flex heat controller) [°C]\nInstances\rInstance ID\rInstance parameterization\rtank\nV [m3]: 100\rh [m]: 9.2\rd [m]: 0.1\rk [Wm-1K-1]: 0.03\rN [-]: 10\rPump Component description\rTag in SBD\r3.3\nLevel in SBD\r2\nClass ID\rPump\nParent class\r-\nContained in\rp2h\nDescription\rThis element represents a water pump with prescribed mass flow rate.\nNumber of components in SC\r2\nAttributes\rFunctionality\rIdeal water pump that generates a mass flow according to the setpoint. Moves the water in the following loops of the power-to-heat facility:\ncondenser loop: pump hot water from the heat pump condenser to the tank\rnetwork support loop: pump hot water from the tank to the supply line\rPhysical characteristics\r-\nTerminals\rTerminal ID\rType ID\rDescription\rflange_in\nHeatConnection\npump inlet\nflange_out\nHeatConnection\npump outlet\nsetpoint_mflow\nCtrlConnection\nset-point for pump mass flow (from flex heat controller)\nInstances\rInstance ID\rInstance parameterization\rpump_cond\npump for tank charging loop\npump_tank\npump for tank discharging loop\nController Component description\rTag in SBD\r4\nLevel in SBD\r1\nClass ID\rController\nParent class\r-\nContained in\rMENB-SC\nDescription\rThis element serves as parent class for concrete controller implementations.\nNumber of components in SC\r-\nAttributes\rFunctionality\rControllers govern the operation of the system.\rPhysical characteristics\r-\nTerminals\rTerminal ID\rType ID\rDescription\r-\n-\n-\nInstances\rInstance ID\rInstance parameterization\r-\n-\nVoltageController Component description\rTag in SBD\r4.1\nLevel in SBD\r2\nClass ID\rVoltageController\nParent class\rController\nContained in\r-\nDescription\rThis element represents a voltage controller in the electrical distribution network.\nNumber of components in SC\r1\nAttributes\rFunctionality\rThis controller monitors the voltage at bus_1 and proposes a power consumption setpoint for the heat pump (controllable/flexible load) to keep the voltage within acceptable limits.\rPhysical characteristics\rdelta_vm_up (float): upper threshold for turning off the heat pump [p.u.]\rdelta_vm_low_hp_on (float): lower threshold for turning on the heat pump [p.u.]\rdelta_vm_low_hp_off (float): lower threshold for turning off the heat pump [p.u.]\rdelta_vm_deadband (float): deadband size [p.u.]\rhp_p_el_mw_min (float): minimum operating point (minimal allowed power consumption) of heat pump [MWe]\rk_p (float): the controller's proportional term [-]\rTerminals\rTerminal ID\rType ID\rDescription\rmeas_voltage_pu\nMeasureConnection\nvoltage measurement at bus_1 [p.u.]\nsetpoint_hp_p_el\nCtrlConnection\nproposed heat pump setpoint for electrical consumption [MWel]\nInstances\rInstance ID\rInstance parameterization\rvoltage_ctrl\ndelta_vm_up [p.u.]: 0.1\rdelta_vm_low_hp_on [p.u.]: – 0.1\rdelta_vm_low_hp_off [p.u.]: – 0.08\rdelta_vm_deadband [p.u.]: 0.03\rhp_p_el_mw_min [kWel]: 35\rk_p [-]: 0.15\rFlexHeatController Component description\rTag in SBD\r4.2\nLevel in SBD\r2\nClass ID\rFlexHeatController\nParent class\rController\nContained in\r-\nDescription\rThis element represents a dedicated controller for operating the power-to-heat facility.\nNumber of components in SC\r1\nAttributes\rFunctionality\rThe flex heat controller decides whether the heat supply is covered entirely through the external grid or whether the power-to-heat facility supports by discharging the tank. If required, the heat pump is used to charge the tank, taking into account the power consumption threshold from the voltage controller (i.e., the power consumption never exceeds the setpoint, but may be less).\rPhysical characteristics\rT_tank_max (float): maximum tank temperature [°C]\rT_tank_min (float): minimum tank temperature [°C]\rmdot_tank_out_setpoint (float): setpoint for tank discharge mass flow rate [kg/s]\rTerminals\rTerminal ID\rType ID\rDescription\rmeas_tank_temp\nMeasureConnection\nmeasurement of tank temperature [°C]\nmeas_hp_p_el\nMeasureConnection\nmeasurement of electrical power consumption of heat pump [kWel]\nsetpoint_hp_p_el\nCtrlConnection\nsetpoint for power consumption of heat pump from voltage controller [MWel]\nsetpoint_tank_mflow\nCtrlConnection\nsetpoint for tank discharge mass flow [kg/s]\nsetpoint_cond_mflow\nCtrlConnection\nsetpoint for heat pump condenser mass flow [kg/s]\nInstances\rInstance ID\rInstance parameterization\rflex_heat_ctrl\nT_tank_max [°C]: 72\rT_tank_min [°C]: 65\rConnection points Connection points\rConnection from\rcomponent\rConnection from\rterminal\rConnection from\rcomponent\rConnection from\rterminal\rext_el_grid\nplug_ext\nline_1\nplug_line_a\nbus_1\nplug_bus\nline_1\nplug_line_b\nbus_1\nplug_bus\nline_2\nplug_line_a\nbus_1\nplug_bus\nload_1\nplug_load\nbus_1\nplug_bus\nhp\nplug_load bus_1\nplug_bus\npv_1\nplug_pv\nbus_2\nplug_bus\nline_2\nplug_line_b\nbus_2\nplug_bus\nload_2\nplug_load\nbus_2\nplug_bus\npv_2\nplug_pv\next_th_grid\nflange_supply\npipe_1_supply\nflange_a\next_th_grid\nflange_return\npipe_1_return\nflange_b\njunction_tank_supply\nflange_1\npipe_1_supply\nflange_b\njunction_tank_supply\nflange_2\npipe_tank_supply\nflange_b\njunction_tank_supply\nflange_3\npipe_2_supply\nflange_a\njunction_tank_return\nflange_1\npipe_2_return\nflange_b\njunction_tank_return\nflange_2\npipe_tank_return\nflange_a\njunction_tank_return\nflange_3\nhp\nflange_evap_in\njunction_1_supply\nflange_1\npipe_2_supply\nflange_b\njunction_1_supply\nflange_2\npipe_3_supply\nflange_a\njunction_1_supply\nflange_3\npipe_4_supply\nflange_a\njunction_1_return\nflange_1\npipe_4_return\nflange_b\njunction_1_return\nflange_2\npipe_3_return\nflange_b\njunction_1_return\nflange_3\npipe_2_return\nflange_a\njunction_2_supply\nflange_1\npipe_4_supply\nflange_b\njunction_2_supply\nflange_2\npipe_5_supply\nflange_a\njunction_2_supply\nflange_3\npipe_6_supply\nflange_a\njunction_2_return\nflange_1\npipe_6_return\nflange_b\njunction_2_return\nflange_2\npipe_5_return\nflange_b\njunction_2_return\nflange_3\npipe_4_return\nflange_a\nhex_1\nflange_supply\npipe_3_supply\nflange_b\nhex_1\nflange_return\npipe_3_return\nflange_a\nhex_2\nflange_supply\npipe_5_supply\nflange_b\nhex_2\nflange_return\npipe_5_return\nflange_a\nhp\nflange_evap_out\npipe_1_return\nflange_a\nhp\nflange_cond_in\npump_cond\nflange_out\nhp\nflange_cond_out\ntank\nflange_hp_in\nhp\nmeas_p_el\nflex_heat_ctrl\nmeas_hp_p_el\ntank\nmeas_temp\nflex_heat_ctrl\nmeas_tank_temp\ntank\nflange_hp_out\npump_cond\nflange_in\ntank\nflange_tank_return\npipe_tank_return\nflange_b\ntank\nflange_tank_supply\npump_tank\nflange_in\npump_tank\nflange_out\npipe_tank_supply\nflange_a\nbypass\nflange_supply\npipe_6_supply\nflange_b\nbypass\nflange_return\npipe_6_return\nflange_a\nvoltage_ctrl\nmeas_voltage_pu\nbus_1\nmeas_voltage_pu\nvoltage_ctrl\nsetpoint_hp_p_el\nflex_heat_ctrl\nsetpoint_hp_p_el\nflex_heat_ctrl\nsetpoint_tank_mflow\npump_tank\nsetpoint_mflow\nflex_heat_ctrl\nsetpoint_cond_mflow\npump_cond\nsetpoint_mflow\n","categories":"","description":"System configuration for the multi-energy network benchmark ","excerpt":"System configuration for the multi-energy network benchmark ","ref":"/test-case-repository/docs/erigrid-2.0/tc12/menb-sc/","tags":"","title":"System Configuration MENB-SC"},{"body":"","categories":"","description":"","excerpt":"","ref":"/test-case-repository/docs/","tags":"","title":"Test Cases"},{"body":"Please have a look at the Getting Started section. We still have to define more detailed contribution guidelines.\n","categories":"","description":"How to contribute to the test-case repository\n","excerpt":"How to contribute to the test-case repository\n","ref":"/test-case-repository/contribution-guidelines/","tags":"","title":"Contribution Guidelines"},{"body":"\rOverview\rGetting Started\rTest Cases\rContribution Guidelines\rHow to contribute to the test-case repository\n","categories":"","description":"","excerpt":"\rOverview\rGetting Started\rTest Cases\rContribution Guidelines\rHow to …","ref":"/test-case-repository/","tags":"","title":"ERIGrid 2.0 Test Case Repository"},{"body":"","categories":"","description":"","excerpt":"","ref":"/test-case-repository/categories/","tags":"","title":"Categories"},{"body":" ","categories":"","description":"","excerpt":" ","ref":"/test-case-repository/community/","tags":"","title":"Community"},{"body":"","categories":"","description":"","excerpt":"","ref":"/test-case-repository/tags/","tags":"","title":"Tags"}]